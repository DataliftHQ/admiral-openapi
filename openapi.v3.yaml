openapi: 3.1.0
info:
  title: Admiral API
  description: Admiral API
  version: 0.0.0
paths:
  /healthz:
    get:
      tags:
        - admiral.healthcheck.v1.HealthcheckAPI
      summary: |-
        Healthcheck verifies that the service is running and healthy.
         Returns an empty response on success. Use this endpoint for load balancer
         health checks and monitoring systems.
      description: No authentication required — this is a public endpoint.
      operationId: admiral.healthcheck.v1.HealthcheckAPI.Healthcheck2
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.healthcheck.v1.HealthcheckResponse'
  /v1/applications:
    get:
      tags:
        - admiral.application.v1.ApplicationAPI
      summary: |-
        ListApplications returns a paginated list of applications within the
         caller's tenant.
      description: 'Scope: `app:read`'
      operationId: admiral.application.v1.ApplicationAPI.ListApplications
      parameters:
        - name: filter
          in: query
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `name`, and label selectors.
          schema:
            type: string
            title: filter
            description: |-
              Filter expression using the PEG filter DSL. Supported fields include
               `tenant_id`, `name`, and label selectors.
        - name: pageSize
          in: query
          description: Maximum number of applications to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of applications to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.application.v1.ListApplicationsResponse'
    post:
      tags:
        - admiral.application.v1.ApplicationAPI
      summary: CreateApplication creates a new application within the caller's tenant.
      description: 'Scope: `app:write`'
      operationId: admiral.application.v1.ApplicationAPI.CreateApplication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.application.v1.CreateApplicationRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.application.v1.CreateApplicationResponse'
  /v1/applications/{application.id}:
    patch:
      tags:
        - admiral.application.v1.ApplicationAPI
      summary: |-
        UpdateApplication updates an application's mutable fields (name, description, labels).
         Use the `update_mask` to specify which fields to update.
      description: 'Scope: `app:write`'
      operationId: admiral.application.v1.ApplicationAPI.UpdateApplication
      parameters:
        - name: application.id
          in: path
          description: Unique identifier for the application (UUID).
          required: true
          schema:
            type: string
            title: id
            format: uuid
            description: Unique identifier for the application (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                application:
                  title: application
                  description: |-
                    The application with updated fields. The application's id field is required
                     to identify which application to update.
                  $ref: '#/components/schemas/admiral.application.v1.Application'
                updateMask:
                  title: update_mask
                  description: |-
                    The set of fields to update. If unset, all mutable fields are updated.
                     Supported fields: `name`, `description`, `labels`.
                  $ref: '#/components/schemas/google.protobuf.FieldMask'
              title: UpdateApplicationRequest
              required:
                - application
              additionalProperties: false
              description: UpdateApplicationRequest contains the application with updated fields.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.application.v1.UpdateApplicationResponse'
  /v1/applications/{application_id}:
    get:
      tags:
        - admiral.application.v1.ApplicationAPI
      summary: GetApplication retrieves an application by ID.
      description: 'Scope: `app:read`'
      operationId: admiral.application.v1.ApplicationAPI.GetApplication
      parameters:
        - name: application_id
          in: path
          description: The unique identifier of the application (UUID).
          required: true
          schema:
            type: string
            title: application_id
            format: uuid
            description: The unique identifier of the application (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.application.v1.GetApplicationResponse'
    delete:
      tags:
        - admiral.application.v1.ApplicationAPI
      summary: |-
        DeleteApplication permanently deletes an application and all of its
         associated environments. This action cannot be undone.
      description: 'Scope: `app:write`'
      operationId: admiral.application.v1.ApplicationAPI.DeleteApplication
      parameters:
        - name: application_id
          in: path
          description: The unique identifier of the application to delete (UUID).
          required: true
          schema:
            type: string
            title: application_id
            format: uuid
            description: The unique identifier of the application to delete (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.application.v1.DeleteApplicationResponse'
  /v1/clusters:
    get:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: ListClusters returns a paginated list of clusters within the caller's tenant.
      description: 'Scope: `cluster:read`'
      operationId: admiral.api.cluster.v1.ClusterAPI.ListClusters
      parameters:
        - name: filter
          in: query
          description: Filter expression using the PEG filter DSL.
          schema:
            type: string
            title: filter
            description: Filter expression using the PEG filter DSL.
        - name: pageSize
          in: query
          description: Maximum number of clusters to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of clusters to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.ListClustersResponse'
    post:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        CreateCluster creates a new cluster record within the caller's tenant and
         generates an initial Agent Token (AGT) for the K8s agent. The cluster
         starts in PENDING status until an agent registers against it.
      description: |-
        The response includes a `plain_text_token` -- the raw AGT secret shown
         exactly once. Deploy this token to the K8s agent (e.g., via Helm values
         or a Kubernetes Secret). The agent uses it to authenticate with
         AgentAPI.RegisterAgent on first boot.

         Scope: `cluster:write`
      operationId: admiral.api.cluster.v1.ClusterAPI.CreateCluster
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.api.cluster.v1.CreateClusterRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.CreateClusterResponse'
  /v1/clusters/{cluster.id}:
    patch:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        UpdateCluster updates a cluster's mutable fields.
         Use the `update_mask` to specify which fields to update.
      description: 'Scope: `cluster:write`'
      operationId: admiral.api.cluster.v1.ClusterAPI.UpdateCluster
      parameters:
        - name: cluster.id
          in: path
          required: true
          schema:
            type: string
            title: id
            format: uuid
            description: Unique identifier for the cluster (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                cluster:
                  title: cluster
                  description: |-
                    The cluster with updated fields. The `id` field is required.
                     Only fields specified in `update_mask` are updated.
                  $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
                updateMask:
                  title: update_mask
                  description: |-
                    The set of fields to update. If unset, all mutable fields are updated.
                     Supported fields: `name`, `description`, `labels`.
                  $ref: '#/components/schemas/google.protobuf.FieldMask'
              title: UpdateClusterRequest
              required:
                - cluster
              additionalProperties: false
              description: UpdateClusterRequest contains the cluster fields to update.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.UpdateClusterResponse'
  /v1/clusters/{cluster_id}:
    get:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: GetCluster retrieves a cluster by ID.
      description: |-
        Returns the Cluster record with its server-derived health_status. For
         detailed telemetry (node counts, resource usage, workload summary), use
         GetClusterStatus instead.

         Scope: `cluster:read`
      operationId: admiral.api.cluster.v1.ClusterAPI.GetCluster
      parameters:
        - name: cluster_id
          in: path
          description: The unique identifier of the cluster (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The unique identifier of the cluster (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.GetClusterResponse'
    delete:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        DeleteCluster permanently deletes a cluster record and revokes all
         associated agent tokens. This action cannot be undone.
      description: 'Scope: `cluster:write`'
      operationId: admiral.api.cluster.v1.ClusterAPI.DeleteCluster
      parameters:
        - name: cluster_id
          in: path
          description: |-
            The unique identifier of the cluster to delete (UUID).
             All associated agent tokens will be revoked.
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: |-
              The unique identifier of the cluster to delete (UUID).
               All associated agent tokens will be revoked.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.DeleteClusterResponse'
  /v1/clusters/{cluster_id}/status:
    get:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        GetClusterStatus retrieves the current telemetry snapshot for a cluster.
         Returns the latest metrics pushed by the agent, along with server-derived
         health status and workload summary counts.
      description: |-
        Returns NOT_FOUND if the cluster does not exist. If the cluster exists but
         no agent has reported telemetry yet, the response will have health_status
         PENDING and no status message.

         Scope: `cluster:read`
      operationId: admiral.api.cluster.v1.ClusterAPI.GetClusterStatus
      parameters:
        - name: cluster_id
          in: path
          description: The unique identifier of the cluster (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The unique identifier of the cluster (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.GetClusterStatusResponse'
    post:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        ReportClusterStatus receives a combined telemetry snapshot from a K8s agent.
         The payload includes cluster-level metrics, per-workload status, and
         Kubernetes events. Admiral splits this into three storage tiers on receipt.
      description: |-
        This endpoint is agent-facing and restricted to agent tokens.

         Scope: `cluster:status` | Token types: `agt`
      operationId: admiral.api.cluster.v1.ClusterAPI.ReportClusterStatus
      parameters:
        - name: cluster_id
          in: path
          description: The cluster this status report is for (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The cluster this status report is for (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  title: status
                  description: Cluster-level telemetry snapshot.
                  $ref: '#/components/schemas/admiral.cluster.v1.ClusterStatus'
                workloads:
                  type: array
                  items:
                    $ref: '#/components/schemas/admiral.cluster.v1.WorkloadStatus'
                  title: workloads
                  description: Per-workload status snapshots.
                events:
                  type: array
                  items:
                    $ref: '#/components/schemas/admiral.cluster.v1.WorkloadEvent'
                  title: events
                  description: Kubernetes events observed since the last push.
                reportedAt:
                  title: reported_at
                  description: When the agent generated this report.
                  $ref: '#/components/schemas/google.protobuf.Timestamp'
              title: ReportClusterStatusRequest
              required:
                - status
              additionalProperties: false
              description: |-
                ReportClusterStatusRequest contains a combined telemetry payload from a K8s agent.
                 Admiral splits this into three storage tiers: current snapshot, time-series
                 metrics, and events.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.ReportClusterStatusResponse'
  /v1/clusters/{cluster_id}/tokens:
    get:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        ListClusterTokens returns a paginated list of AGTs bound to the specified
         cluster. Token secrets are never included.
      description: 'Scope: `cluster:read`'
      operationId: admiral.api.cluster.v1.ClusterAPI.ListClusterTokens
      parameters:
        - name: cluster_id
          in: path
          description: The cluster whose tokens to list (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The cluster whose tokens to list (UUID).
        - name: pageSize
          in: query
          description: Maximum number of tokens to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of tokens to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
        - name: filter
          in: query
          description: Filter expression using the PEG filter DSL.
          schema:
            type: string
            title: filter
            description: Filter expression using the PEG filter DSL.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.ListClusterTokensResponse'
    post:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        CreateClusterToken creates a new Agent Token (AGT) bound to the specified
         cluster. Scopes are auto-assigned and cannot be overridden. The response
         includes the raw token secret, which is shown exactly once.
      description: |-
        Use this to create additional AGTs for an existing cluster (e.g., for
         zero-downtime token rotation). The initial AGT is created automatically
         by CreateCluster.

         Scope: `cluster:write`
      operationId: admiral.api.cluster.v1.ClusterAPI.CreateClusterToken
      parameters:
        - name: cluster_id
          in: path
          description: The cluster to bind this token to (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The cluster to bind this token to (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  title: name
                  maxLength: 255
                  minLength: 1
                  pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
                  description: |-
                    URL-safe, human-readable identifier for the token (e.g., "prod-agent-key").
                     Must be unique within the cluster's tokens. Lowercase alphanumeric and
                     hyphens only.
                expiresAt:
                  title: expires_at
                  description: Optional expiration time. If unset, the token does not expire.
                  $ref: '#/components/schemas/google.protobuf.Timestamp'
              title: CreateClusterTokenRequest
              additionalProperties: false
              description: |-
                CreateClusterTokenRequest contains the parameters for creating a new AGT
                 bound to a cluster.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.CreateClusterTokenResponse'
  /v1/clusters/{cluster_id}/tokens/{token_id}:
    get:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        GetClusterToken retrieves a single AGT by ID.
         Returns metadata only -- the token secret is never included.
      description: 'Scope: `cluster:read`'
      operationId: admiral.api.cluster.v1.ClusterAPI.GetClusterToken
      parameters:
        - name: cluster_id
          in: path
          description: The cluster the token belongs to (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The cluster the token belongs to (UUID).
        - name: token_id
          in: path
          description: The unique identifier of the token (UUID).
          required: true
          schema:
            type: string
            title: token_id
            format: uuid
            description: The unique identifier of the token (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.GetClusterTokenResponse'
  /v1/clusters/{cluster_id}/tokens/{token_id}/revoke:
    post:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        RevokeClusterToken permanently revokes an AGT bound to this cluster.
         The agent will receive a 401 on its next request. If this is the only
         active AGT for the cluster, the agent will become disconnected.
      description: 'Scope: `cluster:write`'
      operationId: admiral.api.cluster.v1.ClusterAPI.RevokeClusterToken
      parameters:
        - name: cluster_id
          in: path
          description: The cluster the token belongs to (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The cluster the token belongs to (UUID).
        - name: token_id
          in: path
          description: The unique identifier of the token to revoke (UUID).
          required: true
          schema:
            type: string
            title: token_id
            format: uuid
            description: The unique identifier of the token to revoke (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.RevokeClusterTokenResponse'
  /v1/clusters/{cluster_id}/workloads:
    get:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: ListWorkloads returns a paginated list of workloads running in a specific cluster.
      description: 'Scope: `cluster:read`'
      operationId: admiral.api.cluster.v1.ClusterAPI.ListWorkloads
      parameters:
        - name: cluster_id
          in: path
          description: The cluster whose workloads to list (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The cluster whose workloads to list (UUID).
        - name: filter
          in: query
          description: Filter expression using the PEG filter DSL.
          schema:
            type: string
            title: filter
            description: Filter expression using the PEG filter DSL.
        - name: pageSize
          in: query
          description: Maximum number of workloads to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of workloads to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.ListWorkloadsResponse'
  /v1/clusters/{cluster_id}/workloads/status:
    post:
      tags:
        - admiral.api.cluster.v1.ClusterAPI
      summary: |-
        ReportWorkloadStatus receives workload-only telemetry from a K8s agent.
         Used for incremental workload updates between full cluster status pushes.
      description: |-
        This endpoint is agent-facing and restricted to agent tokens.

         Scope: `cluster:status` | Token types: `agt`
      operationId: admiral.api.cluster.v1.ClusterAPI.ReportWorkloadStatus
      parameters:
        - name: cluster_id
          in: path
          description: The cluster these workloads belong to (UUID).
          required: true
          schema:
            type: string
            title: cluster_id
            format: uuid
            description: The cluster these workloads belong to (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                workloads:
                  type: array
                  items:
                    $ref: '#/components/schemas/admiral.cluster.v1.WorkloadStatus'
                  title: workloads
                  description: Per-workload status snapshots.
                reportedAt:
                  title: reported_at
                  description: When the agent generated this report.
                  $ref: '#/components/schemas/google.protobuf.Timestamp'
              title: ReportWorkloadStatusRequest
              additionalProperties: false
              description: ReportWorkloadStatusRequest contains incremental workload telemetry from a K8s agent.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.cluster.v1.ReportWorkloadStatusResponse'
  /v1/components:
    get:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: |-
        ListComponents returns a paginated list of components. When the filter
         includes an environment_id, the response contains the resolved view with
         overrides applied and disabled/has_override flags set.
      description: 'Scope: `app:read`'
      operationId: admiral.component.v1.ComponentAPI.ListComponents
      parameters:
        - name: filter
          in: query
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `application_id`, `environment_id`, `component_category`,
             `source_id`, `name`, and label selectors.

             When `environment_id` is present in the filter, the response contains the
             resolved view with overrides applied and disabled/has_override flags set.
          schema:
            type: string
            title: filter
            description: |-
              Filter expression using the PEG filter DSL. Supported fields include
               `tenant_id`, `application_id`, `environment_id`, `component_category`,
               `source_id`, `name`, and label selectors.

               When `environment_id` is present in the filter, the response contains the
               resolved view with overrides applied and disabled/has_override flags set.
        - name: pageSize
          in: query
          description: Maximum number of components to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of components to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.ListComponentsResponse'
    post:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: CreateComponent creates a new component within an application.
      description: 'Scope: `app:write`'
      operationId: admiral.component.v1.ComponentAPI.CreateComponent
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.component.v1.CreateComponentRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.CreateComponentResponse'
  /v1/components/{component.id}:
    patch:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: |-
        UpdateComponent updates a component's mutable fields. Server validates
         component rename against values_template references in other components.
      description: 'Scope: `app:write`'
      operationId: admiral.component.v1.ComponentAPI.UpdateComponent
      parameters:
        - name: component.id
          in: path
          description: Unique identifier for the component (UUID).
          required: true
          schema:
            type: string
            title: id
            format: uuid
            description: Unique identifier for the component (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                component:
                  title: component
                  description: |-
                    The component with updated fields. The component's id field is required
                     to identify which component to update.
                  $ref: '#/components/schemas/admiral.component.v1.Component'
                updateMask:
                  title: update_mask
                  description: |-
                    The set of fields to update. If unset, all mutable fields are updated.
                     Supported fields: `name`, `description`, `source_id`, `version`,
                     `values_template`, `depends_on`, `outputs`, `labels`.
                  $ref: '#/components/schemas/google.protobuf.FieldMask'
              title: UpdateComponentRequest
              required:
                - component
              additionalProperties: false
              description: UpdateComponentRequest contains the component with updated fields.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.UpdateComponentResponse'
  /v1/components/{component_id}:
    get:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: GetComponent retrieves a component by ID.
      description: 'Scope: `app:read`'
      operationId: admiral.component.v1.ComponentAPI.GetComponent
      parameters:
        - name: component_id
          in: path
          description: The unique identifier of the component (UUID).
          required: true
          schema:
            type: string
            title: component_id
            format: uuid
            description: The unique identifier of the component (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.GetComponentResponse'
    delete:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: |-
        DeleteComponent permanently deletes a component. Fails if other components
         reference this component via depends_on or template expressions. This
         action cannot be undone.
      description: 'Scope: `app:write`'
      operationId: admiral.component.v1.ComponentAPI.DeleteComponent
      parameters:
        - name: component_id
          in: path
          description: The unique identifier of the component to delete (UUID).
          required: true
          schema:
            type: string
            title: component_id
            format: uuid
            description: The unique identifier of the component to delete (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.DeleteComponentResponse'
  /v1/components/{component_id}/overrides:
    get:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: ListComponentOverrides returns all environment-level overrides for a component.
      description: 'Scope: `env:read`'
      operationId: admiral.component.v1.ComponentAPI.ListComponentOverrides
      parameters:
        - name: component_id
          in: path
          description: The component whose overrides to list (UUID).
          required: true
          schema:
            type: string
            title: component_id
            format: uuid
            description: The component whose overrides to list (UUID).
        - name: pageSize
          in: query
          description: Maximum number of overrides to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of overrides to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.ListComponentOverridesResponse'
  /v1/components/{component_id}/overrides/{environment_id}:
    get:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: GetComponentOverride retrieves an environment-level override for a component.
      description: 'Scope: `env:read`'
      operationId: admiral.component.v1.ComponentAPI.GetComponentOverride
      parameters:
        - name: component_id
          in: path
          description: The component the override belongs to (UUID).
          required: true
          schema:
            type: string
            title: component_id
            format: uuid
            description: The component the override belongs to (UUID).
        - name: environment_id
          in: path
          description: The environment the override applies to (UUID).
          required: true
          schema:
            type: string
            title: environment_id
            format: uuid
            description: The environment the override applies to (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.GetComponentOverrideResponse'
    put:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: |-
        SetComponentOverride creates or replaces an environment-level override for
         a component. Override is full replace (no merge) — the entire override
         replaces the base component's fields for that environment.
      description: 'Scope: `env:write`'
      operationId: admiral.component.v1.ComponentAPI.SetComponentOverride
      parameters:
        - name: component_id
          in: path
          description: The component to override (UUID).
          required: true
          schema:
            type: string
            title: component_id
            format: uuid
            description: The component to override (UUID).
        - name: environment_id
          in: path
          description: The environment this override applies to (UUID).
          required: true
          schema:
            type: string
            title: environment_id
            format: uuid
            description: The environment this override applies to (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                override:
                  title: override
                  description: |-
                    The override to set. component_id and environment_id in the override body
                     must match the URL parameters.
                  $ref: '#/components/schemas/admiral.component.v1.ComponentOverride'
              title: SetComponentOverrideRequest
              required:
                - override
              additionalProperties: false
              description: |-
                SetComponentOverrideRequest creates or replaces an environment-level override
                 for a component. The override is full replace — no merge with the base.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.SetComponentOverrideResponse'
    delete:
      tags:
        - admiral.component.v1.ComponentAPI
      summary: DeleteComponentOverride removes an environment-level override for a component.
      description: 'Scope: `env:write`'
      operationId: admiral.component.v1.ComponentAPI.DeleteComponentOverride
      parameters:
        - name: component_id
          in: path
          description: The component the override belongs to (UUID).
          required: true
          schema:
            type: string
            title: component_id
            format: uuid
            description: The component the override belongs to (UUID).
        - name: environment_id
          in: path
          description: The environment the override applies to (UUID).
          required: true
          schema:
            type: string
            title: environment_id
            format: uuid
            description: The environment the override applies to (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.component.v1.DeleteComponentOverrideResponse'
  /v1/connections:
    get:
      tags:
        - admiral.connection.v1.ConnectionAPI
      summary: |-
        ListConnections returns a paginated list of connections within the caller's
         tenant. Sensitive fields are masked.
      description: 'Scope: `connection:read`'
      operationId: admiral.connection.v1.ConnectionAPI.ListConnections
      parameters:
        - name: filter
          in: query
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `connection_type`, `status`, `name`, and label selectors.
          schema:
            type: string
            title: filter
            description: |-
              Filter expression using the PEG filter DSL. Supported fields include
               `tenant_id`, `connection_type`, `status`, `name`, and label selectors.
        - name: pageSize
          in: query
          description: Maximum number of connections to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of connections to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.connection.v1.ListConnectionsResponse'
    post:
      tags:
        - admiral.connection.v1.ConnectionAPI
      summary: CreateConnection creates a new connection within the caller's tenant.
      description: 'Scope: `connection:write`'
      operationId: admiral.connection.v1.ConnectionAPI.CreateConnection
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.connection.v1.CreateConnectionRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.connection.v1.CreateConnectionResponse'
  /v1/connections/{connection.id}:
    patch:
      tags:
        - admiral.connection.v1.ConnectionAPI
      summary: |-
        UpdateConnection updates a connection's mutable fields. The auth config
         oneof is replaced entirely — partial auth updates are not supported.
      description: 'Scope: `connection:write`'
      operationId: admiral.connection.v1.ConnectionAPI.UpdateConnection
      parameters:
        - name: connection.id
          in: path
          description: Unique identifier for the connection (UUID).
          required: true
          schema:
            type: string
            title: id
            format: uuid
            description: Unique identifier for the connection (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                connection:
                  title: connection
                  description: |-
                    The connection with updated fields. The connection's id field is required
                     to identify which connection to update. The auth_config oneof is replaced
                     entirely — partial auth updates are not supported.
                  $ref: '#/components/schemas/admiral.connection.v1.Connection'
                updateMask:
                  title: update_mask
                  description: |-
                    The set of fields to update. If unset, all mutable fields are updated.
                     Supported fields: `name`, `description`, `connection_type`, `auth_config`, `labels`.
                  $ref: '#/components/schemas/google.protobuf.FieldMask'
              title: UpdateConnectionRequest
              required:
                - connection
              additionalProperties: false
              description: UpdateConnectionRequest contains the connection with updated fields.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.connection.v1.UpdateConnectionResponse'
  /v1/connections/{connection_id}:
    get:
      tags:
        - admiral.connection.v1.ConnectionAPI
      summary: GetConnection retrieves a connection by ID. Sensitive fields are masked.
      description: 'Scope: `connection:read`'
      operationId: admiral.connection.v1.ConnectionAPI.GetConnection
      parameters:
        - name: connection_id
          in: path
          description: The unique identifier of the connection (UUID).
          required: true
          schema:
            type: string
            title: connection_id
            format: uuid
            description: The unique identifier of the connection (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.connection.v1.GetConnectionResponse'
    delete:
      tags:
        - admiral.connection.v1.ConnectionAPI
      summary: |-
        DeleteConnection permanently deletes a connection. Fails if any sources
         still reference this connection. This action cannot be undone.
      description: 'Scope: `connection:write`'
      operationId: admiral.connection.v1.ConnectionAPI.DeleteConnection
      parameters:
        - name: connection_id
          in: path
          description: The unique identifier of the connection to delete (UUID).
          required: true
          schema:
            type: string
            title: connection_id
            format: uuid
            description: The unique identifier of the connection to delete (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.connection.v1.DeleteConnectionResponse'
  /v1/connections/{connection_id}/test:
    post:
      tags:
        - admiral.connection.v1.ConnectionAPI
      summary: TestConnection validates credentials against the remote system.
      description: 'Scope: `connection:write`'
      operationId: admiral.connection.v1.ConnectionAPI.TestConnection
      parameters:
        - name: connection_id
          in: path
          description: The unique identifier of the connection to test (UUID).
          required: true
          schema:
            type: string
            title: connection_id
            format: uuid
            description: The unique identifier of the connection to test (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.connection.v1.TestConnectionResponse'
  /v1/deployments:
    get:
      tags:
        - admiral.deployment.v1.DeploymentAPI
      summary: |-
        ListDeployments returns a paginated list of deployments within the caller's
         tenant.
      description: 'Scope: `deploy:read`'
      operationId: admiral.deployment.v1.DeploymentAPI.ListDeployments
      parameters:
        - name: filter
          in: query
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `application_id`, `environment_id`, `status`, and `created_by`.
          schema:
            type: string
            title: filter
            description: |-
              Filter expression using the PEG filter DSL. Supported fields include
               `tenant_id`, `application_id`, `environment_id`, `status`, and `created_by`.
        - name: pageSize
          in: query
          description: Maximum number of deployments to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of deployments to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.deployment.v1.ListDeploymentsResponse'
    post:
      tags:
        - admiral.deployment.v1.DeploymentAPI
      summary: |-
        CreateDeployment creates a new deployment for an application+environment pair.
         If another deployment is active, the new one is queued.
      description: 'Scope: `deploy:write`'
      operationId: admiral.deployment.v1.DeploymentAPI.CreateDeployment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.deployment.v1.CreateDeploymentRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.deployment.v1.CreateDeploymentResponse'
  /v1/deployments/{deployment_id}:
    get:
      tags:
        - admiral.deployment.v1.DeploymentAPI
      summary: GetDeployment retrieves a deployment by ID.
      description: 'Scope: `deploy:read`'
      operationId: admiral.deployment.v1.DeploymentAPI.GetDeployment
      parameters:
        - name: deployment_id
          in: path
          description: The unique identifier of the deployment (UUID).
          required: true
          schema:
            type: string
            title: deployment_id
            format: uuid
            description: The unique identifier of the deployment (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.deployment.v1.GetDeploymentResponse'
  /v1/deployments/{deployment_id}/cancel:
    post:
      tags:
        - admiral.deployment.v1.DeploymentAPI
      summary: |-
        CancelDeployment cancels a pending, queued, or running deployment. Already
         completed or failed deployments cannot be cancelled.
      description: 'Scope: `deploy:write`'
      operationId: admiral.deployment.v1.DeploymentAPI.CancelDeployment
      parameters:
        - name: deployment_id
          in: path
          description: The unique identifier of the deployment to cancel (UUID).
          required: true
          schema:
            type: string
            title: deployment_id
            format: uuid
            description: The unique identifier of the deployment to cancel (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.deployment.v1.CancelDeploymentResponse'
  /v1/deployments/{deployment_id}/revisions:
    get:
      tags:
        - admiral.deployment.v1.DeploymentAPI
      summary: ListRevisions returns all revisions for a deployment.
      description: 'Scope: `deploy:read`'
      operationId: admiral.deployment.v1.DeploymentAPI.ListRevisions
      parameters:
        - name: deployment_id
          in: path
          description: The deployment whose revisions to list (UUID).
          required: true
          schema:
            type: string
            title: deployment_id
            format: uuid
            description: The deployment whose revisions to list (UUID).
        - name: pageSize
          in: query
          description: Maximum number of revisions to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of revisions to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.deployment.v1.ListRevisionsResponse'
  /v1/deployments/{deployment_id}/revisions/{revision_id}:
    get:
      tags:
        - admiral.deployment.v1.DeploymentAPI
      summary: GetRevision retrieves a single revision within a deployment.
      description: 'Scope: `deploy:read`'
      operationId: admiral.deployment.v1.DeploymentAPI.GetRevision
      parameters:
        - name: deployment_id
          in: path
          description: The deployment the revision belongs to (UUID).
          required: true
          schema:
            type: string
            title: deployment_id
            format: uuid
            description: The deployment the revision belongs to (UUID).
        - name: revision_id
          in: path
          description: The unique identifier of the revision (UUID).
          required: true
          schema:
            type: string
            title: revision_id
            format: uuid
            description: The unique identifier of the revision (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.deployment.v1.GetRevisionResponse'
  /v1/deployments/{deployment_id}/revisions/{revision_id}/retry:
    post:
      tags:
        - admiral.deployment.v1.DeploymentAPI
      summary: RetryRevision retries a failed revision within a deployment.
      description: 'Scope: `deploy:write`'
      operationId: admiral.deployment.v1.DeploymentAPI.RetryRevision
      parameters:
        - name: deployment_id
          in: path
          description: The deployment the revision belongs to (UUID).
          required: true
          schema:
            type: string
            title: deployment_id
            format: uuid
            description: The deployment the revision belongs to (UUID).
        - name: revision_id
          in: path
          description: The unique identifier of the revision to retry (UUID).
          required: true
          schema:
            type: string
            title: revision_id
            format: uuid
            description: The unique identifier of the revision to retry (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.deployment.v1.RetryRevisionResponse'
  /v1/environments:
    get:
      tags:
        - admiral.environment.v1.EnvironmentAPI
      summary: |-
        ListEnvironments returns a paginated list of environments. Use the filter
         to scope by application, runtime type, or labels.
      description: 'Scope: `env:read`'
      operationId: admiral.environment.v1.EnvironmentAPI.ListEnvironments
      parameters:
        - name: filter
          in: query
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `application_id`, `name`, `runtime_type`, and label selectors.
          schema:
            type: string
            title: filter
            description: |-
              Filter expression using the PEG filter DSL. Supported fields include
               `tenant_id`, `application_id`, `name`, `runtime_type`, and label selectors.
        - name: pageSize
          in: query
          description: Maximum number of environments to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of environments to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.environment.v1.ListEnvironmentsResponse'
    post:
      tags:
        - admiral.environment.v1.EnvironmentAPI
      summary: CreateEnvironment creates a new environment for the specified application.
      description: 'Scope: `env:write`'
      operationId: admiral.environment.v1.EnvironmentAPI.CreateEnvironment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.environment.v1.CreateEnvironmentRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.environment.v1.CreateEnvironmentResponse'
  /v1/environments/{environment.id}:
    patch:
      tags:
        - admiral.environment.v1.EnvironmentAPI
      summary: |-
        UpdateEnvironment updates an environment's mutable fields.
         Use the `update_mask` to specify which fields to update.
      description: 'Scope: `env:write`'
      operationId: admiral.environment.v1.EnvironmentAPI.UpdateEnvironment
      parameters:
        - name: environment.id
          in: path
          description: Unique identifier for the environment (UUID).
          required: true
          schema:
            type: string
            title: id
            format: uuid
            description: Unique identifier for the environment (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                environment:
                  title: environment
                  description: |-
                    The environment with updated fields. The environment's id field is required
                     to identify which environment to update.
                  $ref: '#/components/schemas/admiral.environment.v1.Environment'
                updateMask:
                  title: update_mask
                  description: |-
                    The set of fields to update. If unset, all mutable fields are updated.
                     Supported fields: `name`, `runtime_type`, `kubernetes`, `labels`.
                  $ref: '#/components/schemas/google.protobuf.FieldMask'
              title: UpdateEnvironmentRequest
              required:
                - environment
              additionalProperties: false
              description: UpdateEnvironmentRequest contains the environment with updated fields.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.environment.v1.UpdateEnvironmentResponse'
  /v1/environments/{environment_id}:
    get:
      tags:
        - admiral.environment.v1.EnvironmentAPI
      summary: GetEnvironment retrieves an environment by ID.
      description: 'Scope: `env:read`'
      operationId: admiral.environment.v1.EnvironmentAPI.GetEnvironment
      parameters:
        - name: environment_id
          in: path
          description: The unique identifier of the environment (UUID).
          required: true
          schema:
            type: string
            title: environment_id
            format: uuid
            description: The unique identifier of the environment (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.environment.v1.GetEnvironmentResponse'
    delete:
      tags:
        - admiral.environment.v1.EnvironmentAPI
      summary: |-
        DeleteEnvironment permanently deletes an environment. This does not affect
         the underlying runtime — only the Admiral environment record is removed.
         Fails if the environment has an active deployment — must run destroy
         deployment first. This action cannot be undone.
      description: 'Scope: `env:write`'
      operationId: admiral.environment.v1.EnvironmentAPI.DeleteEnvironment
      parameters:
        - name: environment_id
          in: path
          description: The unique identifier of the environment to delete (UUID).
          required: true
          schema:
            type: string
            title: environment_id
            format: uuid
            description: The unique identifier of the environment to delete (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.environment.v1.DeleteEnvironmentResponse'
  /v1/healthcheck:
    get:
      tags:
        - admiral.healthcheck.v1.HealthcheckAPI
      summary: |-
        Healthcheck verifies that the service is running and healthy.
         Returns an empty response on success. Use this endpoint for load balancer
         health checks and monitoring systems.
      description: No authentication required — this is a public endpoint.
      operationId: admiral.healthcheck.v1.HealthcheckAPI.Healthcheck
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.healthcheck.v1.HealthcheckResponse'
  /v1/runner/heartbeat:
    post:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: |-
        Heartbeat sends a periodic health signal from the runner process. Updates
         the runner's status snapshot and resets the health timeout.
      description: 'Scope: `runner:status` | Token types: `agt`'
      operationId: admiral.api.runner.v1.RunnerAPI.Heartbeat
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.api.runner.v1.HeartbeatRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.HeartbeatResponse'
  /v1/runner/jobs/claim:
    post:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: |-
        ClaimJob attempts to claim the next available job for this runner. Returns
         an empty job if no jobs are available.
      description: 'Scope: `runner:execute` | Token types: `agt`'
      operationId: admiral.api.runner.v1.RunnerAPI.ClaimJob
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.api.runner.v1.ClaimJobRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.ClaimJobResponse'
  /v1/runner/jobs/{job_id}/bundle:
    get:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: |-
        GetJobBundle retrieves the full execution bundle for a claimed job,
         including the source archive URL, rendered values, state configuration,
         and environment variables.
      description: 'Scope: `runner:execute` | Token types: `agt`'
      operationId: admiral.api.runner.v1.RunnerAPI.GetJobBundle
      parameters:
        - name: job_id
          in: path
          description: The job to retrieve the bundle for (UUID).
          required: true
          schema:
            type: string
            title: job_id
            format: uuid
            description: The job to retrieve the bundle for (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.GetJobBundleResponse'
  /v1/runner/jobs/{job_id}/result:
    post:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: ReportJobResult reports the outcome of a job execution.
      description: 'Scope: `runner:execute` | Token types: `agt`'
      operationId: admiral.api.runner.v1.RunnerAPI.ReportJobResult
      parameters:
        - name: job_id
          in: path
          description: The job being reported on (UUID).
          required: true
          schema:
            type: string
            title: job_id
            format: uuid
            description: The job being reported on (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  title: status
                  enum:
                    - JOB_STATUS_SUCCEEDED
                    - JOB_STATUS_FAILED
                  description: Final status of the job execution.
                  $ref: '#/components/schemas/admiral.runner.v1.JobStatus'
                output:
                  type: string
                  title: output
                  description: Output or error message from the job execution.
              title: ReportJobResultRequest
              additionalProperties: false
              description: ReportJobResultRequest reports the outcome of a job execution.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.ReportJobResultResponse'
  /v1/runner/jobs/{job_id}/state:
    get:
      tags:
        - admiral.state.v1.StateAPI
      summary: |-
        GetState retrieves the current state data for a component+environment pair.
         Called by the runner's Terraform backend during `terraform init`.
      description: 'Scope: `state:read` | Token types: `agt`'
      operationId: admiral.state.v1.StateAPI.GetState
      parameters:
        - name: job_id
          in: path
          description: The job whose component+environment state to retrieve (UUID).
          required: true
          schema:
            type: string
            title: job_id
            format: uuid
            description: The job whose component+environment state to retrieve (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.GetStateResponse'
    post:
      tags:
        - admiral.state.v1.StateAPI
      summary: |-
        PushState stores a new state version for a component+environment pair.
         Called by the runner's Terraform backend after a successful apply.
      description: 'Scope: `state:write` | Token types: `agt`'
      operationId: admiral.state.v1.StateAPI.PushState
      parameters:
        - name: job_id
          in: path
          description: The job whose component+environment state to update (UUID).
          required: true
          schema:
            type: string
            title: job_id
            format: uuid
            description: The job whose component+environment state to update (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                lockId:
                  type: string
                  title: lock_id
                  minLength: 1
                  description: |-
                    The lock ID that must match the current lock. Required to prevent
                     concurrent writes.
                data:
                  type: string
                  title: data
                  format: byte
                  description: The raw state data (JSON-encoded Terraform state).
              title: PushStateRequest
              additionalProperties: false
              description: PushStateRequest stores a new state version.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.PushStateResponse'
  /v1/runner/jobs/{job_id}/state/lock:
    post:
      tags:
        - admiral.state.v1.StateAPI
      summary: |-
        LockState acquires a lock on a state for a component+environment pair.
         Called by the runner's Terraform backend before plan/apply.
      description: 'Scope: `state:write` | Token types: `agt`'
      operationId: admiral.state.v1.StateAPI.LockState
      parameters:
        - name: job_id
          in: path
          description: The job whose component+environment state to lock (UUID).
          required: true
          schema:
            type: string
            title: job_id
            format: uuid
            description: The job whose component+environment state to lock (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                lockId:
                  type: string
                  title: lock_id
                  minLength: 1
                  description: |-
                    A unique lock ID chosen by the caller (e.g., UUID). Returned in the
                     response and required for subsequent PushState and UnlockState calls.
              title: LockStateRequest
              additionalProperties: false
              description: LockStateRequest acquires a lock on a state.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.LockStateResponse'
  /v1/runner/jobs/{job_id}/state/unlock:
    post:
      tags:
        - admiral.state.v1.StateAPI
      summary: |-
        UnlockState releases a lock on a state for a component+environment pair.
         Called by the runner's Terraform backend after plan/apply completes.
      description: 'Scope: `state:write` | Token types: `agt`'
      operationId: admiral.state.v1.StateAPI.UnlockState
      parameters:
        - name: job_id
          in: path
          description: The job whose component+environment state to unlock (UUID).
          required: true
          schema:
            type: string
            title: job_id
            format: uuid
            description: The job whose component+environment state to unlock (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                lockId:
                  type: string
                  title: lock_id
                  minLength: 1
                  description: The lock ID to release. Must match the current lock.
              title: UnlockStateRequest
              additionalProperties: false
              description: UnlockStateRequest releases a lock on a state.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.UnlockStateResponse'
  /v1/runners:
    get:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: ListRunners returns a paginated list of runners within the caller's tenant.
      description: 'Scope: `runner:read`'
      operationId: admiral.api.runner.v1.RunnerAPI.ListRunners
      parameters:
        - name: filter
          in: query
          description: Filter expression using the PEG filter DSL.
          schema:
            type: string
            title: filter
            description: Filter expression using the PEG filter DSL.
        - name: pageSize
          in: query
          description: Maximum number of runners to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of runners to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.ListRunnersResponse'
    post:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: |-
        CreateRunner creates a new runner within the caller's tenant and generates
         an initial Agent Token (AGT). The runner starts in PENDING status until
         the runner agent connects and begins sending heartbeats.
      description: 'Scope: `runner:write`'
      operationId: admiral.api.runner.v1.RunnerAPI.CreateRunner
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.api.runner.v1.CreateRunnerRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.CreateRunnerResponse'
  /v1/runners/jobs:
    get:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: ListJobs returns a paginated list of jobs matching the filter.
      description: 'Scope: `runner:read`'
      operationId: admiral.api.runner.v1.RunnerAPI.ListJobs
      parameters:
        - name: filter
          in: query
          description: Filter expression using the PEG filter DSL.
          schema:
            type: string
            title: filter
            description: Filter expression using the PEG filter DSL.
        - name: pageSize
          in: query
          description: Maximum number of jobs to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of jobs to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.ListJobsResponse'
  /v1/runners/jobs/{job_id}:
    get:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: GetJob retrieves a job by ID.
      description: 'Scope: `runner:read`'
      operationId: admiral.api.runner.v1.RunnerAPI.GetJob
      parameters:
        - name: job_id
          in: path
          description: The unique identifier of the job (UUID).
          required: true
          schema:
            type: string
            title: job_id
            format: uuid
            description: The unique identifier of the job (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.GetJobResponse'
  /v1/runners/{runner.id}:
    patch:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: UpdateRunner updates a runner's mutable fields (name, description, labels).
      description: 'Scope: `runner:write`'
      operationId: admiral.api.runner.v1.RunnerAPI.UpdateRunner
      parameters:
        - name: runner.id
          in: path
          required: true
          schema:
            type: string
            title: id
            format: uuid
            description: Unique identifier for the runner (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                runner:
                  title: runner
                  description: The runner with updated fields. The `id` field is required.
                  $ref: '#/components/schemas/admiral.runner.v1.Runner'
                updateMask:
                  title: update_mask
                  description: |-
                    The set of fields to update. If unset, all mutable fields are updated.
                     Supported fields: `name`, `description`, `labels`.
                  $ref: '#/components/schemas/google.protobuf.FieldMask'
              title: UpdateRunnerRequest
              required:
                - runner
              additionalProperties: false
              description: UpdateRunnerRequest contains the runner fields to update.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.UpdateRunnerResponse'
  /v1/runners/{runner_id}:
    get:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: GetRunner retrieves a runner by ID.
      description: 'Scope: `runner:read`'
      operationId: admiral.api.runner.v1.RunnerAPI.GetRunner
      parameters:
        - name: runner_id
          in: path
          description: The unique identifier of the runner (UUID).
          required: true
          schema:
            type: string
            title: runner_id
            format: uuid
            description: The unique identifier of the runner (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.GetRunnerResponse'
    delete:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: |-
        DeleteRunner permanently deletes a runner and revokes all associated tokens.
         This action cannot be undone.
      description: 'Scope: `runner:write`'
      operationId: admiral.api.runner.v1.RunnerAPI.DeleteRunner
      parameters:
        - name: runner_id
          in: path
          description: The unique identifier of the runner to delete (UUID).
          required: true
          schema:
            type: string
            title: runner_id
            format: uuid
            description: The unique identifier of the runner to delete (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.DeleteRunnerResponse'
  /v1/runners/{runner_id}/status:
    get:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: GetRunnerStatus retrieves the current status snapshot for a runner.
      description: 'Scope: `runner:read`'
      operationId: admiral.api.runner.v1.RunnerAPI.GetRunnerStatus
      parameters:
        - name: runner_id
          in: path
          description: The unique identifier of the runner (UUID).
          required: true
          schema:
            type: string
            title: runner_id
            format: uuid
            description: The unique identifier of the runner (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.GetRunnerStatusResponse'
  /v1/runners/{runner_id}/tokens:
    get:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: |-
        ListRunnerTokens returns a paginated list of AGTs bound to the specified
         runner. Token secrets are never included.
      description: 'Scope: `runner:read`'
      operationId: admiral.api.runner.v1.RunnerAPI.ListRunnerTokens
      parameters:
        - name: runner_id
          in: path
          description: The runner whose tokens to list (UUID).
          required: true
          schema:
            type: string
            title: runner_id
            format: uuid
            description: The runner whose tokens to list (UUID).
        - name: pageSize
          in: query
          description: Maximum number of tokens to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of tokens to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
        - name: filter
          in: query
          description: Filter expression using the PEG filter DSL.
          schema:
            type: string
            title: filter
            description: Filter expression using the PEG filter DSL.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.ListRunnerTokensResponse'
    post:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: |-
        CreateRunnerToken creates a new Agent Token (AGT) bound to the specified
         runner. Scopes are auto-assigned. The response includes the raw token
         secret, which is shown exactly once.
      description: 'Scope: `runner:write`'
      operationId: admiral.api.runner.v1.RunnerAPI.CreateRunnerToken
      parameters:
        - name: runner_id
          in: path
          description: The runner to bind this token to (UUID).
          required: true
          schema:
            type: string
            title: runner_id
            format: uuid
            description: The runner to bind this token to (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  title: name
                  maxLength: 255
                  minLength: 1
                  pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
                  description: |-
                    URL-safe, human-readable identifier for the token (e.g., "prod-runner-key").
                     Must be unique within the runner's tokens. Lowercase alphanumeric and
                     hyphens only.
                expiresAt:
                  title: expires_at
                  description: Optional expiration time. If unset, the token does not expire.
                  $ref: '#/components/schemas/google.protobuf.Timestamp'
              title: CreateRunnerTokenRequest
              additionalProperties: false
              description: |-
                CreateRunnerTokenRequest contains the parameters for creating a new AGT
                 bound to a runner.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.CreateRunnerTokenResponse'
  /v1/runners/{runner_id}/tokens/{token_id}:
    get:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: |-
        GetRunnerToken retrieves a single AGT by ID.
         Returns metadata only — the token secret is never included.
      description: 'Scope: `runner:read`'
      operationId: admiral.api.runner.v1.RunnerAPI.GetRunnerToken
      parameters:
        - name: runner_id
          in: path
          description: The runner the token belongs to (UUID).
          required: true
          schema:
            type: string
            title: runner_id
            format: uuid
            description: The runner the token belongs to (UUID).
        - name: token_id
          in: path
          description: The unique identifier of the token (UUID).
          required: true
          schema:
            type: string
            title: token_id
            format: uuid
            description: The unique identifier of the token (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.GetRunnerTokenResponse'
  /v1/runners/{runner_id}/tokens/{token_id}/revoke:
    post:
      tags:
        - admiral.api.runner.v1.RunnerAPI
      summary: RevokeRunnerToken permanently revokes an AGT bound to this runner.
      description: 'Scope: `runner:write`'
      operationId: admiral.api.runner.v1.RunnerAPI.RevokeRunnerToken
      parameters:
        - name: runner_id
          in: path
          description: The runner the token belongs to (UUID).
          required: true
          schema:
            type: string
            title: runner_id
            format: uuid
            description: The runner the token belongs to (UUID).
        - name: token_id
          in: path
          description: The unique identifier of the token to revoke (UUID).
          required: true
          schema:
            type: string
            title: token_id
            format: uuid
            description: The unique identifier of the token to revoke (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.runner.v1.RevokeRunnerTokenResponse'
  /v1/sources:
    get:
      tags:
        - admiral.source.v1.SourceAPI
      summary: ListSources returns a paginated list of sources within the caller's tenant.
      description: 'Scope: `source:read`'
      operationId: admiral.source.v1.SourceAPI.ListSources
      parameters:
        - name: filter
          in: query
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `source_type`, `catalog`, `name`, and label selectors.
          schema:
            type: string
            title: filter
            description: |-
              Filter expression using the PEG filter DSL. Supported fields include
               `tenant_id`, `source_type`, `catalog`, `name`, and label selectors.
        - name: pageSize
          in: query
          description: Maximum number of sources to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of sources to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.ListSourcesResponse'
    post:
      tags:
        - admiral.source.v1.SourceAPI
      summary: CreateSource creates a new source within the caller's tenant.
      description: 'Scope: `source:write`'
      operationId: admiral.source.v1.SourceAPI.CreateSource
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.source.v1.CreateSourceRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.CreateSourceResponse'
  /v1/sources/{source.id}:
    patch:
      tags:
        - admiral.source.v1.SourceAPI
      summary: UpdateSource updates a source's mutable fields.
      description: 'Scope: `source:write`'
      operationId: admiral.source.v1.SourceAPI.UpdateSource
      parameters:
        - name: source.id
          in: path
          description: Unique identifier for the source (UUID).
          required: true
          schema:
            type: string
            title: id
            format: uuid
            description: Unique identifier for the source (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                source:
                  title: source
                  description: |-
                    The source with updated fields. The source's id field is required to
                     identify which source to update.
                  $ref: '#/components/schemas/admiral.source.v1.Source'
                updateMask:
                  title: update_mask
                  description: |-
                    The set of fields to update. If unset, all mutable fields are updated.
                     Supported fields: `name`, `description`, `source_type`, `source_config`,
                     `connection_id`, `catalog`, `labels`.
                  $ref: '#/components/schemas/google.protobuf.FieldMask'
              title: UpdateSourceRequest
              required:
                - source
              additionalProperties: false
              description: UpdateSourceRequest contains the source with updated fields.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.UpdateSourceResponse'
  /v1/sources/{source_id}:
    get:
      tags:
        - admiral.source.v1.SourceAPI
      summary: GetSource retrieves a source by ID.
      description: 'Scope: `source:read`'
      operationId: admiral.source.v1.SourceAPI.GetSource
      parameters:
        - name: source_id
          in: path
          description: The unique identifier of the source (UUID).
          required: true
          schema:
            type: string
            title: source_id
            format: uuid
            description: The unique identifier of the source (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.GetSourceResponse'
    delete:
      tags:
        - admiral.source.v1.SourceAPI
      summary: |-
        DeleteSource permanently deletes a source. Fails if any application
         components still reference this source. This action cannot be undone.
      description: 'Scope: `source:write`'
      operationId: admiral.source.v1.SourceAPI.DeleteSource
      parameters:
        - name: source_id
          in: path
          description: The unique identifier of the source to delete (UUID).
          required: true
          schema:
            type: string
            title: source_id
            format: uuid
            description: The unique identifier of the source to delete (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.DeleteSourceResponse'
  /v1/sources/{source_id}/sync:
    post:
      tags:
        - admiral.source.v1.SourceAPI
      summary: SyncSource triggers a metadata refresh for a source.
      description: 'Scope: `source:write`'
      operationId: admiral.source.v1.SourceAPI.SyncSource
      parameters:
        - name: source_id
          in: path
          description: The unique identifier of the source to sync (UUID).
          required: true
          schema:
            type: string
            title: source_id
            format: uuid
            description: The unique identifier of the source to sync (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.SyncSourceResponse'
  /v1/sources/{source_id}/versions:
    get:
      tags:
        - admiral.source.v1.SourceAPI
      summary: |-
        ListSourceVersions queries the external system for available versions of a
         source (registry API, OCI tags, git ls-remote).
      description: 'Scope: `source:read`'
      operationId: admiral.source.v1.SourceAPI.ListSourceVersions
      parameters:
        - name: source_id
          in: path
          description: The unique identifier of the source (UUID).
          required: true
          schema:
            type: string
            title: source_id
            format: uuid
            description: The unique identifier of the source (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.ListSourceVersionsResponse'
  /v1/sources/{source_id}/versions/{version}/inputs:
    get:
      tags:
        - admiral.source.v1.SourceAPI
      summary: |-
        GetSourceInputs fetches the source artifact at a specific version and
         parses its inputs (Terraform variables, Helm values.yaml + values.schema.json).
      description: 'Scope: `source:read`'
      operationId: admiral.source.v1.SourceAPI.GetSourceInputs
      parameters:
        - name: source_id
          in: path
          description: The unique identifier of the source (UUID).
          required: true
          schema:
            type: string
            title: source_id
            format: uuid
            description: The unique identifier of the source (UUID).
        - name: version
          in: path
          description: The version to fetch and parse (e.g., "1.2.3", "v2.0.0", commit SHA).
          required: true
          schema:
            type: string
            title: version
            minLength: 1
            description: The version to fetch and parse (e.g., "1.2.3", "v2.0.0", commit SHA).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.GetSourceInputsResponse'
  /v1/sources/{source_id}/versions/{version}/outputs:
    get:
      tags:
        - admiral.source.v1.SourceAPI
      summary: |-
        GetSourceOutputs parses output definitions from a source at a specific
         version. Only applicable to Terraform sources — workload sources have no
         formal outputs (user-declared at the component level).
      description: 'Scope: `source:read`'
      operationId: admiral.source.v1.SourceAPI.GetSourceOutputs
      parameters:
        - name: source_id
          in: path
          description: The unique identifier of the source (UUID).
          required: true
          schema:
            type: string
            title: source_id
            format: uuid
            description: The unique identifier of the source (UUID).
        - name: version
          in: path
          description: The version to fetch and parse (e.g., "1.2.3", "v2.0.0", commit SHA).
          required: true
          schema:
            type: string
            title: version
            minLength: 1
            description: The version to fetch and parse (e.g., "1.2.3", "v2.0.0", commit SHA).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.source.v1.GetSourceOutputsResponse'
  /v1/states:
    get:
      tags:
        - admiral.state.v1.StateAPI
      summary: ListStates returns a paginated list of states within the caller's tenant.
      description: 'Scope: `state:read`'
      operationId: admiral.state.v1.StateAPI.ListStates
      parameters:
        - name: filter
          in: query
          description: Filter expression using the PEG filter DSL.
          schema:
            type: string
            title: filter
            description: Filter expression using the PEG filter DSL.
        - name: pageSize
          in: query
          description: Maximum number of states to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of states to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.ListStatesResponse'
  /v1/states/current:
    get:
      tags:
        - admiral.state.v1.StateAPI
      summary: |-
        GetCurrentState retrieves the current state metadata for a
         component+environment pair.
      description: 'Scope: `state:read`'
      operationId: admiral.state.v1.StateAPI.GetCurrentState
      parameters:
        - name: componentId
          in: query
          description: The component whose state to retrieve (UUID).
          schema:
            type: string
            title: component_id
            format: uuid
            description: The component whose state to retrieve (UUID).
        - name: environmentId
          in: query
          description: The environment whose state to retrieve (UUID).
          schema:
            type: string
            title: environment_id
            format: uuid
            description: The environment whose state to retrieve (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.GetCurrentStateResponse'
  /v1/states/{state_id}:
    delete:
      tags:
        - admiral.state.v1.StateAPI
      summary: |-
        DeleteState permanently deletes a state and all its versions. This is a
         privileged operation. This action cannot be undone.
      description: 'Scope: `state:admin`'
      operationId: admiral.state.v1.StateAPI.DeleteState
      parameters:
        - name: state_id
          in: path
          description: The unique identifier of the state to delete (UUID).
          required: true
          schema:
            type: string
            title: state_id
            format: uuid
            description: The unique identifier of the state to delete (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.DeleteStateResponse'
  /v1/states/{state_id}/force-unlock:
    post:
      tags:
        - admiral.state.v1.StateAPI
      summary: |-
        ForceUnlockState forcibly releases a lock on a state. This is a privileged
         operation for operational recovery.
      description: 'Scope: `state:admin`'
      operationId: admiral.state.v1.StateAPI.ForceUnlockState
      parameters:
        - name: state_id
          in: path
          description: The state to force-unlock (UUID).
          required: true
          schema:
            type: string
            title: state_id
            format: uuid
            description: The state to force-unlock (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.ForceUnlockStateResponse'
  /v1/states/{state_id}/versions:
    get:
      tags:
        - admiral.state.v1.StateAPI
      summary: ListStateVersions returns a paginated list of versions for a state.
      description: 'Scope: `state:read`'
      operationId: admiral.state.v1.StateAPI.ListStateVersions
      parameters:
        - name: state_id
          in: path
          description: The state whose versions to list (UUID).
          required: true
          schema:
            type: string
            title: state_id
            format: uuid
            description: The state whose versions to list (UUID).
        - name: pageSize
          in: query
          description: Maximum number of versions to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of versions to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.ListStateVersionsResponse'
  /v1/states/{state_id}/versions/{version_id}:
    get:
      tags:
        - admiral.state.v1.StateAPI
      summary: GetStateVersion retrieves a specific state version with its metadata.
      description: 'Scope: `state:read`'
      operationId: admiral.state.v1.StateAPI.GetStateVersion
      parameters:
        - name: state_id
          in: path
          description: The state the version belongs to (UUID).
          required: true
          schema:
            type: string
            title: state_id
            format: uuid
            description: The state the version belongs to (UUID).
        - name: version_id
          in: path
          description: The unique identifier of the version (UUID).
          required: true
          schema:
            type: string
            title: version_id
            format: uuid
            description: The unique identifier of the version (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.state.v1.GetStateVersionResponse'
  /v1/user:
    get:
      tags:
        - admiral.api.user.v1.UserAPI
      summary: |-
        GetUser retrieves the profile of the currently authenticated user.
         The user is identified by the authentication token provided in the request.
      description: 'Scope: any authenticated request'
      operationId: admiral.api.user.v1.UserAPI.GetUser
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.user.v1.GetUserResponse'
  /v1/user/tokens:
    get:
      tags:
        - admiral.api.user.v1.UserAPI
      summary: |-
        ListUserTokens returns a paginated list of the authenticated user's PATs.
         Token secrets are never included.
      description: 'Scope: `token:read`'
      operationId: admiral.api.user.v1.UserAPI.ListUserTokens
      parameters:
        - name: pageSize
          in: query
          description: Maximum number of tokens to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of tokens to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
        - name: filter
          in: query
          description: |-
            Filter expression using the PEG filter DSL
             (e.g., `status = "active"` or `name = "ci-*"`).
          schema:
            type: string
            title: filter
            description: |-
              Filter expression using the PEG filter DSL
               (e.g., `status = "active"` or `name = "ci-*"`).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.user.v1.ListUserTokensResponse'
    post:
      tags:
        - admiral.api.user.v1.UserAPI
      summary: |-
        CreateUserToken creates a new PAT for the authenticated user.
         The response includes the raw token secret, which is shown exactly once
         and cannot be retrieved again.
      description: 'Scope: `token:write`'
      operationId: admiral.api.user.v1.UserAPI.CreateUserToken
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.api.user.v1.CreateUserTokenRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.user.v1.CreateUserTokenResponse'
  /v1/user/tokens/{token_id}:
    get:
      tags:
        - admiral.api.user.v1.UserAPI
      summary: |-
        GetUserToken retrieves a single PAT by ID.
         Returns metadata only — the token secret is never included.
      description: 'Scope: `token:read`'
      operationId: admiral.api.user.v1.UserAPI.GetUserToken
      parameters:
        - name: token_id
          in: path
          description: The unique identifier of the token (UUID).
          required: true
          schema:
            type: string
            title: token_id
            format: uuid
            description: The unique identifier of the token (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.user.v1.GetUserTokenResponse'
  /v1/user/tokens/{token_id}/revoke:
    post:
      tags:
        - admiral.api.user.v1.UserAPI
      summary: |-
        RevokeUserToken permanently revokes a PAT. The token becomes
         immediately unusable and cannot be restored.
      description: 'Scope: `token:write`'
      operationId: admiral.api.user.v1.UserAPI.RevokeUserToken
      parameters:
        - name: token_id
          in: path
          description: The unique identifier of the token to revoke (UUID).
          required: true
          schema:
            type: string
            title: token_id
            format: uuid
            description: The unique identifier of the token to revoke (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.api.user.v1.RevokeUserTokenResponse'
  /v1/variables:
    get:
      tags:
        - admiral.variable.v1.VariableAPI
      summary: ListVariables returns a merged, paginated list of variables.
      description: |-
        The returned list is a resolved view based on the provided filters:
           - No application_id or environment_id: global variables only.
           - application_id only: global + app-level variables merged.
           - application_id + environment_id: global + app + environment variables merged.

         When variables with the same key exist at multiple levels, all are returned
         so clients can determine precedence.

         Scope: `var:read`
      operationId: admiral.variable.v1.VariableAPI.ListVariables
      parameters:
        - name: applicationId
          in: query
          description: |-
            Filter to an application (UUID). When set, app-level variables for this
             application are included in the merged result alongside global variables.
          schema:
            type: string
            title: application_id
            format: uuid
            description: |-
              Filter to an application (UUID). When set, app-level variables for this
               application are included in the merged result alongside global variables.
        - name: environmentId
          in: query
          description: |-
            Filter to an environment (UUID). Requires application_id. When set,
             environment-level variables are included alongside global and app variables.
          schema:
            type: string
            title: environment_id
            format: uuid
            description: |-
              Filter to an environment (UUID). Requires application_id. When set,
               environment-level variables are included alongside global and app variables.
        - name: filter
          in: query
          description: Filter expression using the PEG filter DSL.
          schema:
            type: string
            title: filter
            description: Filter expression using the PEG filter DSL.
        - name: pageSize
          in: query
          description: Maximum number of variables to return per page.
          schema:
            type: integer
            title: page_size
            format: int32
            description: Maximum number of variables to return per page.
        - name: pageToken
          in: query
          description: Opaque pagination token from a previous response.
          schema:
            type: string
            title: page_token
            description: Opaque pagination token from a previous response.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.variable.v1.ListVariablesResponse'
    post:
      tags:
        - admiral.variable.v1.VariableAPI
      summary: CreateVariable creates a new variable.
      description: |-
        Fails if a variable with the same key already exists at the same level
         (same key + application_id + environment_id combination).

         Scope: `var:write`
      operationId: admiral.variable.v1.VariableAPI.CreateVariable
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admiral.variable.v1.CreateVariableRequest'
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.variable.v1.CreateVariableResponse'
  /v1/variables/{variable.id}:
    patch:
      tags:
        - admiral.variable.v1.VariableAPI
      summary: |-
        UpdateVariable updates a variable's mutable fields.
         Use the `update_mask` to specify which fields to update.
         Only `value` and `sensitive` are mutable — key is immutable.
      description: 'Scope: `var:write`'
      operationId: admiral.variable.v1.VariableAPI.UpdateVariable
      parameters:
        - name: variable.id
          in: path
          description: Unique identifier for the variable (UUID).
          required: true
          schema:
            type: string
            title: id
            format: uuid
            description: Unique identifier for the variable (UUID).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                variable:
                  title: variable
                  description: |-
                    The variable with updated fields. The `id` field is required.
                     Only fields specified in `update_mask` are updated.
                  $ref: '#/components/schemas/admiral.variable.v1.Variable'
                updateMask:
                  title: update_mask
                  description: |-
                    The set of fields to update. If unset, all mutable fields are updated.
                     Supported fields: `value`, `sensitive`.
                  $ref: '#/components/schemas/google.protobuf.FieldMask'
              title: UpdateVariableRequest
              required:
                - variable
              additionalProperties: false
              description: UpdateVariableRequest contains the variable fields to update.
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.variable.v1.UpdateVariableResponse'
  /v1/variables/{variable_id}:
    get:
      tags:
        - admiral.variable.v1.VariableAPI
      summary: GetVariable retrieves a variable by ID.
      description: |-
        Sensitive variable values are masked in the response.

         Scope: `var:read`
      operationId: admiral.variable.v1.VariableAPI.GetVariable
      parameters:
        - name: variable_id
          in: path
          description: The unique identifier of the variable (UUID).
          required: true
          schema:
            type: string
            title: variable_id
            format: uuid
            description: The unique identifier of the variable (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.variable.v1.GetVariableResponse'
    delete:
      tags:
        - admiral.variable.v1.VariableAPI
      summary: DeleteVariable permanently deletes a variable. This action cannot be undone.
      description: 'Scope: `var:write`'
      operationId: admiral.variable.v1.VariableAPI.DeleteVariable
      parameters:
        - name: variable_id
          in: path
          description: The unique identifier of the variable to delete (UUID).
          required: true
          schema:
            type: string
            title: variable_id
            format: uuid
            description: The unique identifier of the variable to delete (UUID).
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admiral.variable.v1.DeleteVariableResponse'
components:
  schemas:
    admiral.api.cluster.v1.CreateClusterRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 63
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "prod-us-east-1"). Must be
             unique within the tenant. Lowercase alphanumeric and hyphens only.
        description:
          type: string
          title: description
          maxLength: 1024
          description: Optional longer-form description of the cluster's purpose.
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: |-
            Arbitrary key-value labels for organizing and filtering clusters
             (e.g., `{"region": "us-east-1", "cloud": "aws"}`).
      title: CreateClusterRequest
      additionalProperties: false
      description: CreateClusterRequest contains the parameters for creating a new cluster.
    admiral.api.cluster.v1.CreateClusterRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.api.cluster.v1.CreateClusterResponse:
      type: object
      properties:
        cluster:
          title: cluster
          description: |-
            The created cluster. Health status will be PENDING until an agent connects
             and calls AgentAPI.RegisterAgent.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
        plainTextToken:
          type: string
          title: plain_text_token
          description: |-
            The raw Agent Token secret (e.g., "adm_agt_pL2mN5oQ8rS1..."). This value
             is shown exactly once and cannot be retrieved again. Deploy this token to
             the K8s agent for authentication.

             To create additional tokens (e.g., for rotation), use
             CreateClusterToken.
      title: CreateClusterResponse
      additionalProperties: false
      description: |-
        CreateClusterResponse contains the newly created cluster and its initial
         Agent Token (AGT).
    admiral.api.cluster.v1.CreateClusterTokenRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster to bind this token to (UUID).
        name:
          type: string
          title: name
          maxLength: 255
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier for the token (e.g., "prod-agent-key").
             Must be unique within the cluster's tokens. Lowercase alphanumeric and
             hyphens only.
        expiresAt:
          title: expires_at
          description: Optional expiration time. If unset, the token does not expire.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: CreateClusterTokenRequest
      additionalProperties: false
      description: |-
        CreateClusterTokenRequest contains the parameters for creating a new AGT
         bound to a cluster.
    admiral.api.cluster.v1.CreateClusterTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The created token metadata. Scopes are auto-assigned for cluster AGTs.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
        plainTextToken:
          type: string
          title: plain_text_token
          description: |-
            The raw token secret (e.g., "adm_agt_pL2mN5oQ8rS1..."). This value is
             shown exactly once and cannot be retrieved again. Store it securely.
      title: CreateClusterTokenResponse
      additionalProperties: false
      description: CreateClusterTokenResponse contains the newly created AGT.
    admiral.api.cluster.v1.DeleteClusterRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: |-
            The unique identifier of the cluster to delete (UUID).
             All associated agent tokens will be revoked.
      title: DeleteClusterRequest
      additionalProperties: false
      description: DeleteClusterRequest identifies a cluster to delete.
    admiral.api.cluster.v1.DeleteClusterResponse:
      type: object
      title: DeleteClusterResponse
      additionalProperties: false
      description: DeleteClusterResponse is empty on success.
    admiral.api.cluster.v1.GetClusterRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The unique identifier of the cluster (UUID).
      title: GetClusterRequest
      additionalProperties: false
      description: GetClusterRequest identifies a cluster to retrieve.
    admiral.api.cluster.v1.GetClusterResponse:
      type: object
      properties:
        cluster:
          title: cluster
          description: The cluster record, including server-derived health_status.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
      title: GetClusterResponse
      additionalProperties: false
      description: GetClusterResponse contains the cluster record.
    admiral.api.cluster.v1.GetClusterStatusRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The unique identifier of the cluster (UUID).
      title: GetClusterStatusRequest
      additionalProperties: false
      description: GetClusterStatusRequest identifies a cluster whose telemetry status to retrieve.
    admiral.api.cluster.v1.GetClusterStatusResponse:
      type: object
      properties:
        healthStatus:
          title: health_status
          description: |-
            Server-derived health status based on agent connectivity, node readiness,
             and workload health.
          $ref: '#/components/schemas/admiral.cluster.v1.ClusterHealthStatus'
        status:
          title: status
          description: |-
            Latest telemetry snapshot from the agent. Absent if no telemetry has
             been reported yet.
          $ref: '#/components/schemas/admiral.cluster.v1.ClusterStatus'
        reportedAt:
          title: reported_at
          description: When the latest telemetry was reported by the agent.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: GetClusterStatusResponse
      additionalProperties: false
      description: |-
        GetClusterStatusResponse contains the server-derived health status and the
         latest telemetry snapshot. If no agent has reported telemetry yet, the
         health_status will be PENDING and status will be absent.
    admiral.api.cluster.v1.GetClusterTokenRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster the token belongs to (UUID).
        tokenId:
          type: string
          title: token_id
          format: uuid
          description: The unique identifier of the token (UUID).
      title: GetClusterTokenRequest
      additionalProperties: false
      description: GetClusterTokenRequest identifies a cluster AGT to retrieve.
    admiral.api.cluster.v1.GetClusterTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The token metadata. The token secret is never included.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
      title: GetClusterTokenResponse
      additionalProperties: false
      description: GetClusterTokenResponse contains the requested cluster AGT metadata.
    admiral.api.cluster.v1.ListClusterTokensRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster whose tokens to list (UUID).
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of tokens to return per page.
        pageToken:
          type: string
          title: page_token
          description: Opaque pagination token from a previous response.
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
      title: ListClusterTokensRequest
      additionalProperties: false
      description: ListClusterTokensRequest contains pagination and filter parameters.
    admiral.api.cluster.v1.ListClusterTokensResponse:
      type: object
      properties:
        accessTokens:
          type: array
          items:
            $ref: '#/components/schemas/admiral.common.v1.AccessToken'
          title: access_tokens
          description: The list of tokens. Token secrets are never included.
        nextPageToken:
          type: string
          title: next_page_token
          description: Pagination token for the next page. Empty when there are no more results.
      title: ListClusterTokensResponse
      additionalProperties: false
      description: ListClusterTokensResponse contains a page of cluster AGT metadata.
    admiral.api.cluster.v1.ListClustersRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of clusters to return per page.
        pageToken:
          type: string
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListClustersRequest
      additionalProperties: false
      description: ListClustersRequest contains pagination and filter parameters.
    admiral.api.cluster.v1.ListClustersResponse:
      type: object
      properties:
        clusters:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
          title: clusters
          description: The list of clusters.
        nextPageToken:
          type: string
          title: next_page_token
          description: Pagination token for the next page. Empty when there are no more results.
      title: ListClustersResponse
      additionalProperties: false
      description: ListClustersResponse contains a page of clusters.
    admiral.api.cluster.v1.ListWorkloadsRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster whose workloads to list (UUID).
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of workloads to return per page.
        pageToken:
          type: string
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListWorkloadsRequest
      additionalProperties: false
      description: |-
        ListWorkloadsRequest contains pagination and filter parameters for listing
         workloads in a specific cluster.
    admiral.api.cluster.v1.ListWorkloadsResponse:
      type: object
      properties:
        workloads:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.Workload'
          title: workloads
          description: The list of workloads.
        nextPageToken:
          type: string
          title: next_page_token
          description: Pagination token for the next page. Empty when there are no more results.
      title: ListWorkloadsResponse
      additionalProperties: false
      description: ListWorkloadsResponse contains a page of workloads.
    admiral.api.cluster.v1.ReportClusterStatusRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster this status report is for (UUID).
        status:
          title: status
          description: Cluster-level telemetry snapshot.
          $ref: '#/components/schemas/admiral.cluster.v1.ClusterStatus'
        workloads:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.WorkloadStatus'
          title: workloads
          description: Per-workload status snapshots.
        events:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.WorkloadEvent'
          title: events
          description: Kubernetes events observed since the last push.
        reportedAt:
          title: reported_at
          description: When the agent generated this report.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: ReportClusterStatusRequest
      required:
        - status
      additionalProperties: false
      description: |-
        ReportClusterStatusRequest contains a combined telemetry payload from a K8s agent.
         Admiral splits this into three storage tiers: current snapshot, time-series
         metrics, and events.
    admiral.api.cluster.v1.ReportClusterStatusResponse:
      type: object
      properties:
        ack:
          type: boolean
          title: ack
          description: Whether the report was accepted.
        nextPushSeconds:
          type: integer
          title: next_push_seconds
          format: int32
          description: |-
            Server-controlled interval (in seconds) before the agent should send
             its next status push. Allows the server to adjust push frequency dynamically.
      title: ReportClusterStatusResponse
      additionalProperties: false
      description: ReportClusterStatusResponse acknowledges a telemetry push.
    admiral.api.cluster.v1.ReportWorkloadStatusRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster these workloads belong to (UUID).
        workloads:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.WorkloadStatus'
          title: workloads
          description: Per-workload status snapshots.
        reportedAt:
          title: reported_at
          description: When the agent generated this report.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: ReportWorkloadStatusRequest
      additionalProperties: false
      description: ReportWorkloadStatusRequest contains incremental workload telemetry from a K8s agent.
    admiral.api.cluster.v1.ReportWorkloadStatusResponse:
      type: object
      properties:
        ack:
          type: boolean
          title: ack
          description: Whether the report was accepted.
      title: ReportWorkloadStatusResponse
      additionalProperties: false
      description: ReportWorkloadStatusResponse acknowledges a workload telemetry push.
    admiral.api.cluster.v1.RevokeClusterTokenRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster the token belongs to (UUID).
        tokenId:
          type: string
          title: token_id
          format: uuid
          description: The unique identifier of the token to revoke (UUID).
      title: RevokeClusterTokenRequest
      additionalProperties: false
      description: RevokeClusterTokenRequest identifies a cluster AGT to revoke.
    admiral.api.cluster.v1.RevokeClusterTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The token metadata with updated status.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
      title: RevokeClusterTokenResponse
      additionalProperties: false
      description: RevokeClusterTokenResponse contains the revoked cluster AGT metadata.
    admiral.api.cluster.v1.UpdateClusterRequest:
      type: object
      properties:
        cluster:
          title: cluster
          description: |-
            The cluster with updated fields. The `id` field is required.
             Only fields specified in `update_mask` are updated.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `description`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateClusterRequest
      required:
        - cluster
      additionalProperties: false
      description: UpdateClusterRequest contains the cluster fields to update.
    admiral.api.cluster.v1.UpdateClusterResponse:
      type: object
      properties:
        cluster:
          title: cluster
          description: The updated cluster.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
      title: UpdateClusterResponse
      additionalProperties: false
      description: UpdateClusterResponse contains the updated cluster.
    admiral.api.runner.v1.ClaimJobRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The runner attempting to claim a job (UUID).
      title: ClaimJobRequest
      additionalProperties: false
      description: ClaimJobRequest attempts to claim the next available job for a runner.
    admiral.api.runner.v1.ClaimJobResponse:
      type: object
      properties:
        job:
          title: job
          description: The claimed job. Absent if no jobs are available.
          $ref: '#/components/schemas/admiral.runner.v1.Job'
      title: ClaimJobResponse
      additionalProperties: false
      description: ClaimJobResponse contains the claimed job, if any.
    admiral.api.runner.v1.CreateRunnerRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 63
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "terraform-prod"). Must be
             unique within the tenant. Lowercase alphanumeric and hyphens only.
        description:
          type:
            - string
            - "null"
          title: description
          maxLength: 1024
          description: Optional longer-form description of the runner's purpose.
        runnerKind:
          title: runner_kind
          description: The kind of operations this runner executes.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerKind'
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: Arbitrary key-value labels for organizing and filtering runners.
      title: CreateRunnerRequest
      additionalProperties: false
      description: CreateRunnerRequest contains the parameters for creating a new runner.
    admiral.api.runner.v1.CreateRunnerRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.api.runner.v1.CreateRunnerResponse:
      type: object
      properties:
        runner:
          title: runner
          description: |-
            The created runner. Health status will be PENDING until the runner agent
             connects and begins sending heartbeats.
          $ref: '#/components/schemas/admiral.runner.v1.Runner'
        plainTextToken:
          type: string
          title: plain_text_token
          description: |-
            The raw Agent Token secret (e.g., "adm_agt_pL2mN5oQ8rS1..."). This value
             is shown exactly once and cannot be retrieved again. Deploy this token to
             the runner agent for authentication.
      title: CreateRunnerResponse
      additionalProperties: false
      description: CreateRunnerResponse contains the newly created runner and its initial AGT.
    admiral.api.runner.v1.CreateRunnerTokenRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The runner to bind this token to (UUID).
        name:
          type: string
          title: name
          maxLength: 255
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier for the token (e.g., "prod-runner-key").
             Must be unique within the runner's tokens. Lowercase alphanumeric and
             hyphens only.
        expiresAt:
          title: expires_at
          description: Optional expiration time. If unset, the token does not expire.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: CreateRunnerTokenRequest
      additionalProperties: false
      description: |-
        CreateRunnerTokenRequest contains the parameters for creating a new AGT
         bound to a runner.
    admiral.api.runner.v1.CreateRunnerTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The created token metadata. Scopes are auto-assigned for runner AGTs.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
        plainTextToken:
          type: string
          title: plain_text_token
          description: |-
            The raw token secret (e.g., "adm_agt_pL2mN5oQ8rS1..."). This value is
             shown exactly once and cannot be retrieved again.
      title: CreateRunnerTokenResponse
      additionalProperties: false
      description: CreateRunnerTokenResponse contains the newly created AGT.
    admiral.api.runner.v1.DeleteRunnerRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The unique identifier of the runner to delete (UUID).
      title: DeleteRunnerRequest
      additionalProperties: false
      description: DeleteRunnerRequest identifies a runner to delete.
    admiral.api.runner.v1.DeleteRunnerResponse:
      type: object
      title: DeleteRunnerResponse
      additionalProperties: false
      description: DeleteRunnerResponse is empty on success.
    admiral.api.runner.v1.GetJobBundleRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The job to retrieve the bundle for (UUID).
      title: GetJobBundleRequest
      additionalProperties: false
      description: GetJobBundleRequest retrieves the execution bundle for a claimed job.
    admiral.api.runner.v1.GetJobBundleResponse:
      type: object
      properties:
        bundle:
          title: bundle
          description: The job execution bundle.
          $ref: '#/components/schemas/admiral.runner.v1.JobBundle'
      title: GetJobBundleResponse
      additionalProperties: false
      description: GetJobBundleResponse contains the full execution bundle.
    admiral.api.runner.v1.GetJobRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The unique identifier of the job (UUID).
      title: GetJobRequest
      additionalProperties: false
      description: GetJobRequest identifies a job to retrieve.
    admiral.api.runner.v1.GetJobResponse:
      type: object
      properties:
        job:
          title: job
          description: The job record.
          $ref: '#/components/schemas/admiral.runner.v1.Job'
      title: GetJobResponse
      additionalProperties: false
      description: GetJobResponse contains the requested job.
    admiral.api.runner.v1.GetRunnerRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The unique identifier of the runner (UUID).
      title: GetRunnerRequest
      additionalProperties: false
      description: GetRunnerRequest identifies a runner to retrieve.
    admiral.api.runner.v1.GetRunnerResponse:
      type: object
      properties:
        runner:
          title: runner
          description: The runner record.
          $ref: '#/components/schemas/admiral.runner.v1.Runner'
      title: GetRunnerResponse
      additionalProperties: false
      description: GetRunnerResponse contains the requested runner.
    admiral.api.runner.v1.GetRunnerStatusRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The unique identifier of the runner (UUID).
      title: GetRunnerStatusRequest
      additionalProperties: false
      description: GetRunnerStatusRequest identifies a runner whose status to retrieve.
    admiral.api.runner.v1.GetRunnerStatusResponse:
      type: object
      properties:
        healthStatus:
          title: health_status
          description: Server-derived health status.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerHealthStatus'
        status:
          title: status
          description: |-
            Latest status snapshot from the runner's heartbeat. Absent if no
             heartbeat has been received yet.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerStatus'
      title: GetRunnerStatusResponse
      additionalProperties: false
      description: GetRunnerStatusResponse contains the runner's current status snapshot.
    admiral.api.runner.v1.GetRunnerTokenRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The runner the token belongs to (UUID).
        tokenId:
          type: string
          title: token_id
          format: uuid
          description: The unique identifier of the token (UUID).
      title: GetRunnerTokenRequest
      additionalProperties: false
      description: GetRunnerTokenRequest identifies a runner AGT to retrieve.
    admiral.api.runner.v1.GetRunnerTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The token metadata. The token secret is never included.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
      title: GetRunnerTokenResponse
      additionalProperties: false
      description: GetRunnerTokenResponse contains the requested runner AGT metadata.
    admiral.api.runner.v1.HeartbeatRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The runner sending the heartbeat (UUID).
        status:
          title: status
          description: Current status snapshot from the runner.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerStatus'
      title: HeartbeatRequest
      required:
        - status
      additionalProperties: false
      description: HeartbeatRequest contains the runner's periodic health signal.
    admiral.api.runner.v1.HeartbeatResponse:
      type: object
      properties:
        nextHeartbeatSeconds:
          type: integer
          title: next_heartbeat_seconds
          format: int32
          description: |-
            Server-controlled interval (in seconds) before the runner should send
             its next heartbeat.
      title: HeartbeatResponse
      additionalProperties: false
      description: HeartbeatResponse acknowledges the heartbeat.
    admiral.api.runner.v1.ListJobsRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of jobs to return per page.
        pageToken:
          type: string
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListJobsRequest
      additionalProperties: false
      description: ListJobsRequest contains pagination and filter parameters for listing jobs.
    admiral.api.runner.v1.ListJobsResponse:
      type: object
      properties:
        jobs:
          type: array
          items:
            $ref: '#/components/schemas/admiral.runner.v1.Job'
          title: jobs
          description: The list of jobs.
        nextPageToken:
          type: string
          title: next_page_token
          description: Pagination token for the next page. Empty when there are no more results.
      title: ListJobsResponse
      additionalProperties: false
      description: ListJobsResponse contains a page of jobs.
    admiral.api.runner.v1.ListRunnerTokensRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The runner whose tokens to list (UUID).
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of tokens to return per page.
        pageToken:
          type: string
          title: page_token
          description: Opaque pagination token from a previous response.
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
      title: ListRunnerTokensRequest
      additionalProperties: false
      description: ListRunnerTokensRequest contains pagination and filter parameters.
    admiral.api.runner.v1.ListRunnerTokensResponse:
      type: object
      properties:
        accessTokens:
          type: array
          items:
            $ref: '#/components/schemas/admiral.common.v1.AccessToken'
          title: access_tokens
          description: The list of tokens. Token secrets are never included.
        nextPageToken:
          type: string
          title: next_page_token
          description: Pagination token for the next page. Empty when there are no more results.
      title: ListRunnerTokensResponse
      additionalProperties: false
      description: ListRunnerTokensResponse contains a page of runner AGT metadata.
    admiral.api.runner.v1.ListRunnersRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of runners to return per page.
        pageToken:
          type: string
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListRunnersRequest
      additionalProperties: false
      description: ListRunnersRequest contains pagination and filter parameters.
    admiral.api.runner.v1.ListRunnersResponse:
      type: object
      properties:
        runners:
          type: array
          items:
            $ref: '#/components/schemas/admiral.runner.v1.Runner'
          title: runners
          description: The list of runners.
        nextPageToken:
          type: string
          title: next_page_token
          description: Pagination token for the next page. Empty when there are no more results.
      title: ListRunnersResponse
      additionalProperties: false
      description: ListRunnersResponse contains a page of runners.
    admiral.api.runner.v1.ReportJobResultRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The job being reported on (UUID).
        status:
          title: status
          enum:
            - JOB_STATUS_SUCCEEDED
            - JOB_STATUS_FAILED
          description: Final status of the job execution.
          $ref: '#/components/schemas/admiral.runner.v1.JobStatus'
        output:
          type: string
          title: output
          description: Output or error message from the job execution.
      title: ReportJobResultRequest
      additionalProperties: false
      description: ReportJobResultRequest reports the outcome of a job execution.
    admiral.api.runner.v1.ReportJobResultResponse:
      type: object
      title: ReportJobResultResponse
      additionalProperties: false
      description: ReportJobResultResponse acknowledges the job result report.
    admiral.api.runner.v1.RevokeRunnerTokenRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The runner the token belongs to (UUID).
        tokenId:
          type: string
          title: token_id
          format: uuid
          description: The unique identifier of the token to revoke (UUID).
      title: RevokeRunnerTokenRequest
      additionalProperties: false
      description: RevokeRunnerTokenRequest identifies a runner AGT to revoke.
    admiral.api.runner.v1.RevokeRunnerTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The token metadata with updated status.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
      title: RevokeRunnerTokenResponse
      additionalProperties: false
      description: RevokeRunnerTokenResponse contains the revoked runner AGT metadata.
    admiral.api.runner.v1.UpdateRunnerRequest:
      type: object
      properties:
        runner:
          title: runner
          description: The runner with updated fields. The `id` field is required.
          $ref: '#/components/schemas/admiral.runner.v1.Runner'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `description`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateRunnerRequest
      required:
        - runner
      additionalProperties: false
      description: UpdateRunnerRequest contains the runner fields to update.
    admiral.api.runner.v1.UpdateRunnerResponse:
      type: object
      properties:
        runner:
          title: runner
          description: The updated runner.
          $ref: '#/components/schemas/admiral.runner.v1.Runner'
      title: UpdateRunnerResponse
      additionalProperties: false
      description: UpdateRunnerResponse contains the updated runner.
    admiral.api.user.v1.CreateUserTokenRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 255
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier for the token (e.g., "postman-testing").
             Must be unique per user within the tenant. Lowercase alphanumeric and
             hyphens only.
        scopes:
          type: array
          items:
            type: string
          title: scopes
          description: The scopes to grant this token. Must be valid scopes allowed for PATs.
        expiresAt:
          title: expires_at
          description: |-
            Optional expiration time. If unset, the token does not expire.
             Tenant policies may enforce a maximum lifetime.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: CreateUserTokenRequest
      additionalProperties: false
      description: CreateUserTokenRequest contains the parameters for creating a new PAT.
    admiral.api.user.v1.CreateUserTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The created token metadata.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
        plainTextToken:
          type: string
          title: plain_text_token
          description: |-
            The raw token secret (e.g., "adm_pat_7kH3mNqR2xFb..."). This value is
             shown exactly once and cannot be retrieved again. Store it securely.
      title: CreateUserTokenResponse
      additionalProperties: false
      description: CreateUserTokenResponse contains the newly created PAT.
    admiral.api.user.v1.GetUserRequest:
      type: object
      title: GetUserRequest
      additionalProperties: false
      description: |-
        GetUserRequest is the request message for GetUser.
         No parameters are required as the user is identified by the auth token.
    admiral.api.user.v1.GetUserResponse:
      type: object
      properties:
        user:
          title: user
          description: The authenticated user's profile.
          $ref: '#/components/schemas/admiral.identity.v1.User'
      title: GetUserResponse
      additionalProperties: false
      description: GetUserResponse contains the authenticated user's profile information.
    admiral.api.user.v1.GetUserTokenRequest:
      type: object
      properties:
        tokenId:
          type: string
          title: token_id
          format: uuid
          description: The unique identifier of the token (UUID).
      title: GetUserTokenRequest
      additionalProperties: false
      description: GetUserTokenRequest identifies a PAT to retrieve.
    admiral.api.user.v1.GetUserTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The token metadata. The token secret is never included.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
      title: GetUserTokenResponse
      additionalProperties: false
      description: GetUserTokenResponse contains the requested PAT metadata.
    admiral.api.user.v1.ListUserTokensRequest:
      type: object
      properties:
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of tokens to return per page.
        pageToken:
          type: string
          title: page_token
          description: Opaque pagination token from a previous response.
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL
             (e.g., `status = "active"` or `name = "ci-*"`).
      title: ListUserTokensRequest
      additionalProperties: false
      description: ListUserTokensRequest contains pagination and filter parameters.
    admiral.api.user.v1.ListUserTokensResponse:
      type: object
      properties:
        accessTokens:
          type: array
          items:
            $ref: '#/components/schemas/admiral.common.v1.AccessToken'
          title: access_tokens
          description: The list of tokens. Token secrets are never included.
        nextPageToken:
          type: string
          title: next_page_token
          description: Pagination token for the next page. Empty when there are no more results.
      title: ListUserTokensResponse
      additionalProperties: false
      description: ListUserTokensResponse contains a page of PAT metadata.
    admiral.api.user.v1.RevokeUserTokenRequest:
      type: object
      properties:
        tokenId:
          type: string
          title: token_id
          format: uuid
          description: The unique identifier of the token to revoke (UUID).
      title: RevokeUserTokenRequest
      additionalProperties: false
      description: RevokeUserTokenRequest identifies a PAT to revoke.
    admiral.api.user.v1.RevokeUserTokenResponse:
      type: object
      properties:
        accessToken:
          title: access_token
          description: The token metadata with updated status.
          $ref: '#/components/schemas/admiral.common.v1.AccessToken'
      title: RevokeUserTokenResponse
      additionalProperties: false
      description: RevokeUserTokenResponse contains the revoked PAT metadata.
    admiral.application.v1.Application:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the application (UUID).
        name:
          type: string
          title: name
          maxLength: 255
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "billing-api"). Unique within
             the tenant. Lowercase alphanumeric and hyphens only, must start with a
             letter and end with an alphanumeric character (1-63 chars).
        description:
          type: string
          title: description
          maxLength: 1024
          description: |-
            Optional longer-form description of the application's purpose
             (e.g., "Handles invoice generation and payment processing").
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: |-
            Arbitrary key-value labels for organizing and filtering applications
             (e.g., `{"team": "payments", "tier": "critical"}`).
        createdAt:
          title: created_at
          description: When the application was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: When the application was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: Application
      additionalProperties: false
      description: |-
        Application represents a deployable unit within a tenant. An application
         groups manifests, dependencies, and environment configuration into a single
         entity that Admiral orchestrates across environments.
    admiral.application.v1.Application.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.application.v1.CreateApplicationRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 255
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "billing-api"). Must be unique
             within the tenant. Lowercase alphanumeric and hyphens only.
        description:
          type:
            - string
            - "null"
          title: description
          maxLength: 1024
          description: Optional longer-form description of the application's purpose.
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: Arbitrary key-value labels for organizing and filtering applications.
      title: CreateApplicationRequest
      additionalProperties: false
      description: CreateApplicationRequest contains the parameters for creating a new application.
    admiral.application.v1.CreateApplicationRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.application.v1.CreateApplicationResponse:
      type: object
      properties:
        application:
          title: application
          description: The created application.
          $ref: '#/components/schemas/admiral.application.v1.Application'
      title: CreateApplicationResponse
      additionalProperties: false
      description: CreateApplicationResponse contains the newly created application.
    admiral.application.v1.DeleteApplicationRequest:
      type: object
      properties:
        applicationId:
          type: string
          title: application_id
          format: uuid
          description: The unique identifier of the application to delete (UUID).
      title: DeleteApplicationRequest
      additionalProperties: false
      description: DeleteApplicationRequest identifies an application to delete.
    admiral.application.v1.DeleteApplicationResponse:
      type: object
      title: DeleteApplicationResponse
      additionalProperties: false
      description: DeleteApplicationResponse is returned when the application has been successfully deleted.
    admiral.application.v1.GetApplicationRequest:
      type: object
      properties:
        applicationId:
          type: string
          title: application_id
          format: uuid
          description: The unique identifier of the application (UUID).
      title: GetApplicationRequest
      additionalProperties: false
      description: GetApplicationRequest identifies an application to retrieve.
    admiral.application.v1.GetApplicationResponse:
      type: object
      properties:
        application:
          title: application
          description: The application record.
          $ref: '#/components/schemas/admiral.application.v1.Application'
      title: GetApplicationResponse
      additionalProperties: false
      description: GetApplicationResponse contains the requested application.
    admiral.application.v1.ListApplicationsRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `name`, and label selectors.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of applications to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListApplicationsRequest
      additionalProperties: false
      description: ListApplicationsRequest contains pagination and filter parameters.
    admiral.application.v1.ListApplicationsResponse:
      type: object
      properties:
        applications:
          type: array
          items:
            $ref: '#/components/schemas/admiral.application.v1.Application'
          title: applications
          description: The list of applications matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListApplicationsResponse
      additionalProperties: false
      description: ListApplicationsResponse contains a page of applications.
    admiral.application.v1.UpdateApplicationRequest:
      type: object
      properties:
        application:
          title: application
          description: |-
            The application with updated fields. The application's id field is required
             to identify which application to update.
          $ref: '#/components/schemas/admiral.application.v1.Application'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `description`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateApplicationRequest
      required:
        - application
      additionalProperties: false
      description: UpdateApplicationRequest contains the application with updated fields.
    admiral.application.v1.UpdateApplicationResponse:
      type: object
      properties:
        application:
          title: application
          description: The updated application with all fields reflecting the current state.
          $ref: '#/components/schemas/admiral.application.v1.Application'
      title: UpdateApplicationResponse
      additionalProperties: false
      description: UpdateApplicationResponse contains the updated application.
    admiral.cluster.v1.BindClusterUIDRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster to bind the UID to (UUID).
        clusterUid:
          type: string
          title: cluster_uid
          minLength: 1
          description: The kube-system namespace UID from the Kubernetes cluster.
      title: BindClusterUIDRequest
      additionalProperties: false
      description: BindClusterUIDRequest sets the cluster_uid on a cluster record.
    admiral.cluster.v1.BindClusterUIDResponse:
      type: object
      properties:
        cluster:
          title: cluster
          description: The cluster with cluster_uid set.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
      title: BindClusterUIDResponse
      additionalProperties: false
      description: BindClusterUIDResponse contains the updated cluster after UID binding.
    admiral.cluster.v1.Cluster:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the cluster (UUID).
        name:
          type: string
          title: name
          maxLength: 63
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "prod-us-east-1"). Unique
             within the tenant. Lowercase alphanumeric and hyphens only, must start
             with a letter and end with an alphanumeric character (1-63 chars).
        description:
          type: string
          title: description
          maxLength: 1024
          description: |-
            Optional longer-form description of the cluster's purpose
             (e.g., "Primary production cluster serving US East traffic").
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: |-
            Arbitrary key-value labels for organizing and filtering clusters
             (e.g., `{"region": "us-east-1", "cloud": "aws"}`).
        clusterUid:
          type: string
          title: cluster_uid
          description: |-
            The Kubernetes kube-system namespace UID, bound at agent registration
             using a first-write-wins strategy. Used to detect when a token is
             accidentally deployed to a different physical cluster.
        healthStatus:
          title: health_status
          description: Derived health status based on agent connectivity and workload state.
          $ref: '#/components/schemas/admiral.cluster.v1.ClusterHealthStatus'
        createdAt:
          title: created_at
          description: When the cluster record was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: When the cluster record was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: Cluster
      additionalProperties: false
      description: Cluster represents a registered Kubernetes cluster within a tenant.
    admiral.cluster.v1.Cluster.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.cluster.v1.ClusterHealthStatus:
      type: string
      title: ClusterHealthStatus
      enum:
        - CLUSTER_HEALTH_STATUS_UNSPECIFIED
        - CLUSTER_HEALTH_STATUS_PENDING
        - CLUSTER_HEALTH_STATUS_HEALTHY
        - CLUSTER_HEALTH_STATUS_DEGRADED
        - CLUSTER_HEALTH_STATUS_ERROR
        - CLUSTER_HEALTH_STATUS_UNREACHABLE
      description: |-
        ClusterHealthStatus represents the derived health state of a cluster.
         The status is computed from agent connectivity, node readiness, and workload health.
    admiral.cluster.v1.ClusterStatus:
      type: object
      properties:
        k8sVersion:
          type: string
          title: k8s_version
          description: Kubernetes version reported by the agent (e.g., "1.29.2").
        nodeCount:
          type: integer
          title: node_count
          format: int32
          description: Total number of nodes in the cluster.
        nodesReady:
          type: integer
          title: nodes_ready
          format: int32
          description: Number of nodes in Ready condition.
        podCapacity:
          type: integer
          title: pod_capacity
          format: int32
          description: Maximum number of pods the cluster can schedule.
        podCount:
          type: integer
          title: pod_count
          format: int32
          description: Total number of pods across all namespaces.
        podsRunning:
          type: integer
          title: pods_running
          format: int32
          description: Number of pods in Running phase.
        podsPending:
          type: integer
          title: pods_pending
          format: int32
          description: Number of pods in Pending phase.
        podsFailed:
          type: integer
          title: pods_failed
          format: int32
          description: Number of pods in Failed phase.
        cpuCapacityMillicores:
          type:
            - integer
            - string
          title: cpu_capacity_millicores
          format: int64
          description: Total CPU capacity across all nodes, in millicores.
        cpuUsedMillicores:
          type:
            - integer
            - string
          title: cpu_used_millicores
          format: int64
          description: Current CPU usage across all nodes, in millicores.
        memoryCapacityBytes:
          type:
            - integer
            - string
          title: memory_capacity_bytes
          format: int64
          description: Total memory capacity across all nodes, in bytes.
        memoryUsedBytes:
          type:
            - integer
            - string
          title: memory_used_bytes
          format: int64
          description: Current memory usage across all nodes, in bytes.
        workloadsTotal:
          type: integer
          title: workloads_total
          format: int32
          description: Total number of tracked workloads.
        workloadsHealthy:
          type: integer
          title: workloads_healthy
          format: int32
          description: Number of workloads in healthy state.
        workloadsDegraded:
          type: integer
          title: workloads_degraded
          format: int32
          description: Number of workloads in degraded state.
        workloadsError:
          type: integer
          title: workloads_error
          format: int32
          description: Number of workloads in error state.
      title: ClusterStatus
      additionalProperties: false
      description: |-
        ClusterStatus contains the raw telemetry metrics for a cluster, as reported
         by the K8s agent. This message is used in both the push payload
         (ReportClusterStatusRequest) and the read response (GetClusterStatusResponse).

         Server-derived fields (health_status, agent connectivity) are NOT included
         here — they live on the Cluster and Agent records respectively, and are
         returned alongside this message in GetClusterStatusResponse.
    admiral.cluster.v1.ContainerStatus:
      type: object
      properties:
        name:
          type: string
          title: name
          description: Container name within the pod spec.
        image:
          type: string
          title: image
          description: Container image reference (e.g., "registry.example.com/api:v2.1.4").
        restartCount:
          type: integer
          title: restart_count
          format: int32
          description: Cumulative number of container restarts.
        state:
          type: string
          title: state
          description: Current container state (e.g., "running", "waiting", "terminated").
        ready:
          type: boolean
          title: ready
          description: Whether the container's readiness probe is passing.
      title: ContainerStatus
      additionalProperties: false
      description: ContainerStatus describes the current state of a single container.
    admiral.cluster.v1.CreateClusterRequest:
      type: object
      properties:
        tenantId:
          type: string
          title: tenant_id
          format: uuid
          description: Tenant the cluster belongs to (UUID).
        name:
          type: string
          title: name
          maxLength: 63
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "prod-us-east-1"). Must be
             unique within the tenant. Lowercase alphanumeric and hyphens only.
        description:
          type: string
          title: description
          maxLength: 1024
          description: Optional longer-form description of the cluster's purpose.
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: |-
            Arbitrary key-value labels for organizing and filtering clusters
             (e.g., `{"region": "us-east-1", "cloud": "aws"}`).
      title: CreateClusterRequest
      additionalProperties: false
      description: CreateClusterRequest contains the parameters for creating a new cluster.
    admiral.cluster.v1.CreateClusterRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.cluster.v1.CreateClusterResponse:
      type: object
      properties:
        cluster:
          title: cluster
          description: The created cluster. Health status will be PENDING.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
      title: CreateClusterResponse
      additionalProperties: false
      description: CreateClusterResponse contains the newly created cluster.
    admiral.cluster.v1.DeleteClusterRequest:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: The unique identifier of the cluster to delete (UUID).
      title: DeleteClusterRequest
      additionalProperties: false
      description: DeleteClusterRequest identifies a cluster to delete.
    admiral.cluster.v1.DeleteClusterResponse:
      type: object
      title: DeleteClusterResponse
      additionalProperties: false
      description: DeleteClusterResponse is returned when the cluster has been successfully deleted.
    admiral.cluster.v1.GetClusterRequest:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: The unique identifier of the cluster (UUID).
      title: GetClusterRequest
      additionalProperties: false
      description: GetClusterRequest identifies a cluster to retrieve.
    admiral.cluster.v1.GetClusterResponse:
      type: object
      properties:
        cluster:
          title: cluster
          description: The cluster record, including server-derived health_status.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
      title: GetClusterResponse
      additionalProperties: false
      description: GetClusterResponse contains the requested cluster.
    admiral.cluster.v1.GetClusterStatusRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The unique identifier of the cluster (UUID).
      title: GetClusterStatusRequest
      additionalProperties: false
      description: GetClusterStatusRequest identifies a cluster whose telemetry to retrieve.
    admiral.cluster.v1.GetClusterStatusResponse:
      type: object
      properties:
        healthStatus:
          title: health_status
          description: |-
            Server-derived health status based on agent connectivity, node readiness,
             and workload health.
          $ref: '#/components/schemas/admiral.cluster.v1.ClusterHealthStatus'
        status:
          title: status
          description: |-
            Latest telemetry snapshot from the agent. Absent if no telemetry has
             been reported yet.
          $ref: '#/components/schemas/admiral.cluster.v1.ClusterStatus'
        reportedAt:
          title: reported_at
          description: When the latest telemetry was reported by the agent.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: GetClusterStatusResponse
      additionalProperties: false
      description: GetClusterStatusResponse contains the latest telemetry snapshot.
    admiral.cluster.v1.ListClustersRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `health_status`, and label selectors.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of clusters to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListClustersRequest
      additionalProperties: false
      description: ListClustersRequest contains pagination and filter parameters.
    admiral.cluster.v1.ListClustersResponse:
      type: object
      properties:
        clusters:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
          title: clusters
          description: The list of clusters matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListClustersResponse
      additionalProperties: false
      description: ListClustersResponse contains a page of clusters.
    admiral.cluster.v1.ListWorkloadsRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster whose workloads to list (UUID).
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of workloads to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListWorkloadsRequest
      additionalProperties: false
      description: |-
        ListWorkloadsRequest contains pagination and filter parameters for listing
         workloads in a specific cluster.
    admiral.cluster.v1.ListWorkloadsResponse:
      type: object
      properties:
        workloads:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.Workload'
          title: workloads
          description: The list of workloads.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListWorkloadsResponse
      additionalProperties: false
      description: ListWorkloadsResponse contains a page of workloads.
    admiral.cluster.v1.ObjectReference:
      type: object
      properties:
        kind:
          type: string
          title: kind
          description: Kubernetes resource kind (e.g., "Pod", "ReplicaSet").
        namespace:
          type: string
          title: namespace
          description: Kubernetes namespace.
        name:
          type: string
          title: name
          description: Object name.
      title: ObjectReference
      additionalProperties: false
      description: ObjectReference is a lightweight reference to a Kubernetes object.
    admiral.cluster.v1.StoreWorkloadEventsRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster these events belong to (UUID).
        events:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.WorkloadEvent'
          title: events
          description: The events to store. Deduplicated by K8s event UID.
      title: StoreWorkloadEventsRequest
      additionalProperties: false
      description: StoreWorkloadEventsRequest stores Kubernetes events from an agent push.
    admiral.cluster.v1.StoreWorkloadEventsResponse:
      type: object
      properties:
        storedCount:
          type: integer
          title: stored_count
          format: int32
          description: Number of new events stored (excluding duplicates).
      title: StoreWorkloadEventsResponse
      additionalProperties: false
      description: StoreWorkloadEventsResponse acknowledges the event storage.
    admiral.cluster.v1.UpdateClusterHealthStatusRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster whose health status to update (UUID).
        healthStatus:
          title: health_status
          description: The new health status.
          $ref: '#/components/schemas/admiral.cluster.v1.ClusterHealthStatus'
      title: UpdateClusterHealthStatusRequest
      additionalProperties: false
      description: UpdateClusterHealthStatusRequest updates the server-derived health status.
    admiral.cluster.v1.UpdateClusterHealthStatusResponse:
      type: object
      properties:
        cluster:
          title: cluster
          description: The cluster with the updated health status.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
      title: UpdateClusterHealthStatusResponse
      additionalProperties: false
      description: UpdateClusterHealthStatusResponse contains the updated cluster.
    admiral.cluster.v1.UpdateClusterRequest:
      type: object
      properties:
        cluster:
          title: cluster
          description: |-
            The cluster with updated fields. The `id` field is required.
             Only fields specified in `update_mask` are updated.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `description`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateClusterRequest
      required:
        - cluster
      additionalProperties: false
      description: UpdateClusterRequest contains the cluster with updated fields.
    admiral.cluster.v1.UpdateClusterResponse:
      type: object
      properties:
        cluster:
          title: cluster
          description: The updated cluster with all fields reflecting the current state.
          $ref: '#/components/schemas/admiral.cluster.v1.Cluster'
      title: UpdateClusterResponse
      additionalProperties: false
      description: UpdateClusterResponse contains the updated cluster.
    admiral.cluster.v1.UpsertClusterStatusRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster this status belongs to (UUID).
        status:
          title: status
          description: The telemetry snapshot to store.
          $ref: '#/components/schemas/admiral.cluster.v1.ClusterStatus'
        reportedAt:
          title: reported_at
          description: When the agent generated this report.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: UpsertClusterStatusRequest
      required:
        - status
      additionalProperties: false
      description: UpsertClusterStatusRequest stores a telemetry snapshot for a cluster.
    admiral.cluster.v1.UpsertClusterStatusResponse:
      type: object
      title: UpsertClusterStatusResponse
      additionalProperties: false
      description: UpsertClusterStatusResponse acknowledges the telemetry upsert.
    admiral.cluster.v1.UpsertWorkloadsRequest:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster these workloads belong to (UUID).
        workloads:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.WorkloadStatus'
          title: workloads
          description: The workload statuses to upsert.
        reportedAt:
          title: reported_at
          description: When the agent generated this report.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: UpsertWorkloadsRequest
      additionalProperties: false
      description: UpsertWorkloadsRequest stores or updates workload records from an agent push.
    admiral.cluster.v1.UpsertWorkloadsResponse:
      type: object
      title: UpsertWorkloadsResponse
      additionalProperties: false
      description: UpsertWorkloadsResponse acknowledges the workload upsert.
    admiral.cluster.v1.Workload:
      type: object
      properties:
        id:
          type: string
          title: id
          description: Unique identifier for the workload within Admiral (UUID).
        clusterId:
          type: string
          title: cluster_id
          description: The cluster this workload belongs to (UUID).
        namespace:
          type: string
          title: namespace
          description: Kubernetes namespace.
        name:
          type: string
          title: name
          description: Workload name.
        kind:
          type: string
          title: kind
          description: Kubernetes resource kind (e.g., "Deployment", "StatefulSet", "DaemonSet").
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: Kubernetes labels on the workload.
        healthStatus:
          title: health_status
          description: Derived health status.
          $ref: '#/components/schemas/admiral.cluster.v1.WorkloadHealthStatus'
        statusReason:
          type: string
          title: status_reason
          description: Human-readable reason for the current status (e.g., "MinimumReplicasUnavailable").
        replicasDesired:
          type: integer
          title: replicas_desired
          format: int32
          description: Number of desired replicas.
        replicasReady:
          type: integer
          title: replicas_ready
          format: int32
          description: Number of ready replicas.
        replicasAvailable:
          type: integer
          title: replicas_available
          format: int32
          description: Number of available replicas.
        cpuRequestsMillicores:
          type:
            - integer
            - string
          title: cpu_requests_millicores
          format: int64
          description: CPU requests across all containers, in millicores.
        cpuLimitsMillicores:
          type:
            - integer
            - string
          title: cpu_limits_millicores
          format: int64
          description: CPU limits across all containers, in millicores.
        cpuUsedMillicores:
          type:
            - integer
            - string
          title: cpu_used_millicores
          format: int64
          description: Current CPU usage across all containers, in millicores.
        memoryRequestsBytes:
          type:
            - integer
            - string
          title: memory_requests_bytes
          format: int64
          description: Memory requests across all containers, in bytes.
        memoryLimitsBytes:
          type:
            - integer
            - string
          title: memory_limits_bytes
          format: int64
          description: Memory limits across all containers, in bytes.
        memoryUsedBytes:
          type:
            - integer
            - string
          title: memory_used_bytes
          format: int64
          description: Current memory usage across all containers, in bytes.
        containers:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.ContainerStatus'
          title: containers
          description: Status of individual containers in this workload.
        lastUpdatedAt:
          title: last_updated_at
          description: When this workload's status was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: Workload
      additionalProperties: false
      description: |-
        Workload represents a Kubernetes workload (Deployment, StatefulSet,
         DaemonSet, etc.) as observed by the agent.
    admiral.cluster.v1.Workload.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.cluster.v1.WorkloadEvent:
      type: object
      properties:
        uid:
          type: string
          title: uid
          description: Kubernetes event UID, used for deduplication.
        type:
          type: string
          title: type
          description: 'Event type: "Normal" or "Warning".'
        reason:
          type: string
          title: reason
          description: Short machine-readable reason (e.g., "BackOff", "FailedScheduling").
        regarding:
          title: regarding
          description: The Kubernetes object this event is about.
          $ref: '#/components/schemas/admiral.cluster.v1.ObjectReference'
        message:
          type: string
          title: message
          description: Human-readable event message.
        firstSeen:
          title: first_seen
          description: When this event was first observed.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        lastSeen:
          title: last_seen
          description: When this event was most recently observed.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        count:
          type: integer
          title: count
          format: int32
          description: Number of times this event has occurred.
      title: WorkloadEvent
      additionalProperties: false
      description: |-
        WorkloadEvent represents a Kubernetes event related to a workload or its
         child objects (pods, replicasets). Events are deduplicated by their K8s UID.
    admiral.cluster.v1.WorkloadHealthStatus:
      type: string
      title: WorkloadHealthStatus
      enum:
        - WORKLOAD_HEALTH_STATUS_UNSPECIFIED
        - WORKLOAD_HEALTH_STATUS_HEALTHY
        - WORKLOAD_HEALTH_STATUS_DEGRADED
        - WORKLOAD_HEALTH_STATUS_ERROR
      description: WorkloadHealthStatus represents the derived health state of a single workload.
    admiral.cluster.v1.WorkloadStatus:
      type: object
      properties:
        namespace:
          type: string
          title: namespace
          description: Kubernetes namespace.
        name:
          type: string
          title: name
          description: Workload name.
        kind:
          type: string
          title: kind
          description: Kubernetes resource kind (e.g., "Deployment", "StatefulSet").
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: Kubernetes labels on the workload.
        replicasDesired:
          type: integer
          title: replicas_desired
          format: int32
          description: Number of desired replicas.
        replicasReady:
          type: integer
          title: replicas_ready
          format: int32
          description: Number of ready replicas.
        replicasAvailable:
          type: integer
          title: replicas_available
          format: int32
          description: Number of available replicas.
        cpuRequestsMillicores:
          type:
            - integer
            - string
          title: cpu_requests_millicores
          format: int64
          description: CPU requests across all containers, in millicores.
        cpuLimitsMillicores:
          type:
            - integer
            - string
          title: cpu_limits_millicores
          format: int64
          description: CPU limits across all containers, in millicores.
        cpuUsedMillicores:
          type:
            - integer
            - string
          title: cpu_used_millicores
          format: int64
          description: Current CPU usage across all containers, in millicores.
        memoryRequestsBytes:
          type:
            - integer
            - string
          title: memory_requests_bytes
          format: int64
          description: Memory requests across all containers, in bytes.
        memoryLimitsBytes:
          type:
            - integer
            - string
          title: memory_limits_bytes
          format: int64
          description: Memory limits across all containers, in bytes.
        memoryUsedBytes:
          type:
            - integer
            - string
          title: memory_used_bytes
          format: int64
          description: Current memory usage across all containers, in bytes.
        healthStatus:
          title: health_status
          description: Derived health status.
          $ref: '#/components/schemas/admiral.cluster.v1.WorkloadHealthStatus'
        containers:
          type: array
          items:
            $ref: '#/components/schemas/admiral.cluster.v1.ContainerStatus'
          title: containers
          description: Status of individual containers.
      title: WorkloadStatus
      additionalProperties: false
      description: |-
        WorkloadStatus is the agent-reported status for a single workload within
         a telemetry push payload.
    admiral.cluster.v1.WorkloadStatus.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.common.v1.AccessToken:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the token (UUID).
        tenantId:
          type: string
          title: tenant_id
          format: uuid
          description: Tenant this token belongs to (UUID).
        name:
          type: string
          title: name
          maxLength: 255
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier for the token (e.g., "ci-deploy-key").
             Unique within the parent resource. Lowercase alphanumeric and hyphens only,
             must start with a letter and end with an alphanumeric character (1-63 chars).
        tokenType:
          title: token_type
          description: The category of this token.
          $ref: '#/components/schemas/admiral.common.v1.TokenType'
        scopes:
          type: array
          items:
            type: string
          title: scopes
          description: |-
            The scopes granted to this token. For PATs, these are user-selected.
             For AGTs, these are auto-assigned based on the resource type.
        status:
          title: status
          description: Current lifecycle status of the token.
          $ref: '#/components/schemas/admiral.common.v1.AccessTokenStatus'
        bindingType:
          title: binding_type
          description: The kind of resource this token is bound to.
          $ref: '#/components/schemas/admiral.common.v1.BindingType'
        bindingId:
          type: string
          title: binding_id
          description: The ID of the resource this token is bound to (UUID).
        createdBy:
          type: string
          title: created_by
          description: |-
            The user who created this token (UUID). For PATs, this is the token owner.
             For AGTs, this is the administrator who issued the token.
        expiresAt:
          title: expires_at
          description: When the token expires. If unset, the token does not expire.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        lastUsedAt:
          title: last_used_at
          description: When the token was last used to authenticate an API request.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        createdAt:
          title: created_at
          description: When the token was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        revokedAt:
          title: revoked_at
          description: When the token was revoked. Only set when status is REVOKED.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: AccessToken
      additionalProperties: false
      description: |-
        AccessToken contains token metadata common to all token types (PAT, AGT).
         The raw token secret is never included in this message — it is only returned
         once at creation time via the `plain_text_token` field in Create responses.

         Token CRUD is managed by each parent resource's API:
           - PATs:         UserAPI    (/v1/user/tokens)
           - Cluster AGTs: ClusterAPI (/v1/clusters/{id}/tokens)
    admiral.common.v1.AccessTokenStatus:
      type: string
      title: AccessTokenStatus
      enum:
        - ACCESS_TOKEN_STATUS_UNSPECIFIED
        - ACCESS_TOKEN_STATUS_ACTIVE
        - ACCESS_TOKEN_STATUS_REVOKED
        - ACCESS_TOKEN_STATUS_ROTATING
      description: AccessTokenStatus represents the lifecycle state of an access token.
    admiral.common.v1.AuthRule:
      type: object
      properties:
        scope:
          type: string
          title: scope
          description: |-
            The scope required to call this RPC (e.g., "cluster:read").
             Empty string means any valid token is sufficient — no specific scope required.
        allowedTokenTypes:
          type: array
          items:
            type: string
          title: allowed_token_types
          description: |-
            Restrict to specific token types ("pat", "agt", "session").
             Empty means all token types are allowed.
      title: AuthRule
      additionalProperties: false
      description: |-
        AuthRule defines the authorization requirements for an RPC method.
         Applied as a custom method option and enforced at runtime by a Connect interceptor.

         The presence of the option means the RPC requires authentication.
         An empty scope means any authenticated request is sufficient.
    admiral.common.v1.BindingType:
      type: string
      title: BindingType
      enum:
        - BINDING_TYPE_UNSPECIFIED
        - BINDING_TYPE_USER
        - BINDING_TYPE_CLUSTER
      description: BindingType identifies the kind of resource an access token is bound to.
    admiral.common.v1.TokenType:
      type: string
      title: TokenType
      enum:
        - TOKEN_TYPE_UNSPECIFIED
        - TOKEN_TYPE_PAT
        - TOKEN_TYPE_AGT
      description: |-
        TokenType identifies the category of an access token issued by Admiral's token system.
         IDP-issued JWTs (OAuth2/OIDC sessions) are NOT represented here — they are
         resolved by separate middleware and can be referenced as "session" in
         AuthRule.allowed_token_types when needed.
    admiral.component.v1.Component:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the component (UUID).
        applicationId:
          type: string
          title: application_id
          format: uuid
          description: The application this component belongs to (UUID).
        name:
          type: string
          title: name
          maxLength: 63
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "vpc", "api-server"). Unique
             within the application. Lowercase alphanumeric and hyphens only, must
             start with a letter and end with an alphanumeric character (1-63 chars).
        description:
          type: string
          title: description
          maxLength: 1024
          description: Optional longer-form description of the component's purpose.
        sourceId:
          type: string
          title: source_id
          format: uuid
          description: The source artifact this component uses (UUID).
        version:
          type: string
          title: version
          description: Pinned version of the source artifact (e.g., "1.2.3", "v2.0.0").
        componentCategory:
          title: component_category
          description: Derived category based on the source type (infrastructure or workload).
          $ref: '#/components/schemas/admiral.component.v1.ComponentCategory'
        valuesTemplate:
          type: string
          title: values_template
          description: |-
            JSON-encoded values object with template expressions. Templates reference
             variables (`{{ .var.X }}`), other component outputs
             (`{{ .component.Y.Z }}`), and environment context (`{{ .env.name }}`).
        dependsOn:
          type: array
          items:
            type: string
          title: depends_on
          description: |-
            UUIDs of components this component depends on. Admiral ensures dependent
             components are deployed in topological order.
        outputs:
          type: array
          items:
            $ref: '#/components/schemas/admiral.component.v1.ComponentOutput'
          title: outputs
          description: |-
            Named outputs from this component. For workload components, user-declared
             with value_template expressions. For Terraform, auto-discovered from
             output blocks.
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: Arbitrary key-value labels for organizing and filtering components.
        disabled:
          type: boolean
          title: disabled
          description: |-
            Whether this component is disabled in the resolved environment view.
             Only populated when ListComponents filter includes an environment_id.
        hasOverride:
          type: boolean
          title: has_override
          description: |-
            Whether this component has an override for the resolved environment.
             Only populated when ListComponents filter includes an environment_id.
        createdAt:
          title: created_at
          description: When the component was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: When the component was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: Component
      additionalProperties: false
      description: |-
        Component represents a deployable unit within an application that binds a
         source artifact to version pinning, values configuration, and dependency
         ordering. Components are flat standalone resources scoped to an application.
    admiral.component.v1.Component.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.component.v1.ComponentCategory:
      type: string
      title: ComponentCategory
      enum:
        - COMPONENT_CATEGORY_UNSPECIFIED
        - COMPONENT_CATEGORY_INFRASTRUCTURE
        - COMPONENT_CATEGORY_WORKLOAD
      description: ComponentCategory classifies a component based on its source type.
    admiral.component.v1.ComponentOutput:
      type: object
      properties:
        name:
          type: string
          title: name
          description: Output name (e.g., "service_url", "database_host").
        valueTemplate:
          type: string
          title: value_template
          description: |-
            Template expression that resolves the output value
             (e.g., "{{ .component.api.service_name }}.{{ .env.namespace }}.svc.cluster.local").
        description:
          type: string
          title: description
          description: Human-readable description of the output.
      title: ComponentOutput
      additionalProperties: false
      description: |-
        ComponentOutput defines a named output from a component. For workload
         components, outputs are user-declared with value_template expressions
         (e.g., K8s service DNS). For Terraform components, outputs are auto-discovered
         and this field is ignored.
    admiral.component.v1.ComponentOverride:
      type: object
      properties:
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component this override applies to (UUID).
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The environment this override applies to (UUID).
        sourceId:
          type:
            - string
            - "null"
          title: source_id
          format: uuid
          description: Override source artifact (UUID). If set, replaces the base source_id.
        version:
          type:
            - string
            - "null"
          title: version
          description: Override version. If set, replaces the base version.
        valuesTemplate:
          type:
            - string
            - "null"
          title: values_template
          description: Override values template (JSON). If set, replaces the base values_template.
        dependsOn:
          type: array
          items:
            type: string
          title: depends_on
          description: Override dependency list (component UUIDs). If set, replaces the base depends_on.
        outputs:
          type: array
          items:
            $ref: '#/components/schemas/admiral.component.v1.ComponentOutput'
          title: outputs
          description: Override outputs. If set, replaces the base outputs.
        disabled:
          type: boolean
          title: disabled
          description: Whether the component is disabled for this environment.
        createdAt:
          title: created_at
          description: When the override was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: When the override was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: ComponentOverride
      additionalProperties: false
      description: |-
        ComponentOverride represents an environment-level override for a component.
         Override is full replace — the entire override replaces the base component's
         fields for that environment. Source override can change category (Helm to TF
         or vice versa per environment).
    admiral.component.v1.CreateComponentRequest:
      type: object
      properties:
        applicationId:
          type: string
          title: application_id
          format: uuid
          description: The application to create this component for (UUID).
        name:
          type: string
          title: name
          maxLength: 63
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "vpc", "api-server"). Must be
             unique within the application. Lowercase alphanumeric and hyphens only.
        description:
          type:
            - string
            - "null"
          title: description
          maxLength: 1024
          description: Optional longer-form description of the component's purpose.
        sourceId:
          type: string
          title: source_id
          format: uuid
          description: The source artifact this component uses (UUID).
        version:
          type: string
          title: version
          minLength: 1
          description: Pinned version of the source artifact (e.g., "1.2.3").
        valuesTemplate:
          type:
            - string
            - "null"
          title: values_template
          description: JSON-encoded values object with template expressions.
        dependsOn:
          type: array
          items:
            type: string
          title: depends_on
          description: UUIDs of components this component depends on.
        outputs:
          type: array
          items:
            $ref: '#/components/schemas/admiral.component.v1.ComponentOutput'
          title: outputs
          description: Named outputs from this component.
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: Arbitrary key-value labels for organizing and filtering components.
      title: CreateComponentRequest
      additionalProperties: false
      description: CreateComponentRequest contains the parameters for creating a new component.
    admiral.component.v1.CreateComponentRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.component.v1.CreateComponentResponse:
      type: object
      properties:
        component:
          title: component
          description: The created component.
          $ref: '#/components/schemas/admiral.component.v1.Component'
      title: CreateComponentResponse
      additionalProperties: false
      description: CreateComponentResponse contains the newly created component.
    admiral.component.v1.DeleteComponentOverrideRequest:
      type: object
      properties:
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component the override belongs to (UUID).
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The environment the override applies to (UUID).
      title: DeleteComponentOverrideRequest
      additionalProperties: false
      description: DeleteComponentOverrideRequest identifies a component override to delete.
    admiral.component.v1.DeleteComponentOverrideResponse:
      type: object
      title: DeleteComponentOverrideResponse
      additionalProperties: false
      description: DeleteComponentOverrideResponse is returned when the override has been successfully deleted.
    admiral.component.v1.DeleteComponentRequest:
      type: object
      properties:
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The unique identifier of the component to delete (UUID).
      title: DeleteComponentRequest
      additionalProperties: false
      description: |-
        DeleteComponentRequest identifies a component to delete.
         Deletion fails if other components reference this component via depends_on
         or template expressions.
    admiral.component.v1.DeleteComponentResponse:
      type: object
      title: DeleteComponentResponse
      additionalProperties: false
      description: DeleteComponentResponse is returned when the component has been successfully deleted.
    admiral.component.v1.GetComponentOverrideRequest:
      type: object
      properties:
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component the override belongs to (UUID).
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The environment the override applies to (UUID).
      title: GetComponentOverrideRequest
      additionalProperties: false
      description: GetComponentOverrideRequest identifies a component override to retrieve.
    admiral.component.v1.GetComponentOverrideResponse:
      type: object
      properties:
        override:
          title: override
          description: The component override.
          $ref: '#/components/schemas/admiral.component.v1.ComponentOverride'
      title: GetComponentOverrideResponse
      additionalProperties: false
      description: GetComponentOverrideResponse contains the requested override.
    admiral.component.v1.GetComponentRequest:
      type: object
      properties:
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The unique identifier of the component (UUID).
      title: GetComponentRequest
      additionalProperties: false
      description: GetComponentRequest identifies a component to retrieve.
    admiral.component.v1.GetComponentResponse:
      type: object
      properties:
        component:
          title: component
          description: The component record.
          $ref: '#/components/schemas/admiral.component.v1.Component'
      title: GetComponentResponse
      additionalProperties: false
      description: GetComponentResponse contains the requested component.
    admiral.component.v1.ListComponentOverridesRequest:
      type: object
      properties:
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component whose overrides to list (UUID).
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of overrides to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListComponentOverridesRequest
      additionalProperties: false
      description: ListComponentOverridesRequest lists all environment-level overrides for a component.
    admiral.component.v1.ListComponentOverridesResponse:
      type: object
      properties:
        overrides:
          type: array
          items:
            $ref: '#/components/schemas/admiral.component.v1.ComponentOverride'
          title: overrides
          description: The list of overrides for the component.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListComponentOverridesResponse
      additionalProperties: false
      description: ListComponentOverridesResponse contains a page of component overrides.
    admiral.component.v1.ListComponentsRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `application_id`, `environment_id`, `component_category`,
             `source_id`, `name`, and label selectors.

             When `environment_id` is present in the filter, the response contains the
             resolved view with overrides applied and disabled/has_override flags set.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of components to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListComponentsRequest
      additionalProperties: false
      description: ListComponentsRequest contains pagination and filter parameters.
    admiral.component.v1.ListComponentsResponse:
      type: object
      properties:
        components:
          type: array
          items:
            $ref: '#/components/schemas/admiral.component.v1.Component'
          title: components
          description: The list of components matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListComponentsResponse
      additionalProperties: false
      description: ListComponentsResponse contains a page of components.
    admiral.component.v1.SetComponentOverrideRequest:
      type: object
      properties:
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component to override (UUID).
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The environment this override applies to (UUID).
        override:
          title: override
          description: |-
            The override to set. component_id and environment_id in the override body
             must match the URL parameters.
          $ref: '#/components/schemas/admiral.component.v1.ComponentOverride'
      title: SetComponentOverrideRequest
      required:
        - override
      additionalProperties: false
      description: |-
        SetComponentOverrideRequest creates or replaces an environment-level override
         for a component. The override is full replace — no merge with the base.
    admiral.component.v1.SetComponentOverrideResponse:
      type: object
      properties:
        override:
          title: override
          description: The override that was set.
          $ref: '#/components/schemas/admiral.component.v1.ComponentOverride'
      title: SetComponentOverrideResponse
      additionalProperties: false
      description: SetComponentOverrideResponse contains the created or updated override.
    admiral.component.v1.UpdateComponentRequest:
      type: object
      properties:
        component:
          title: component
          description: |-
            The component with updated fields. The component's id field is required
             to identify which component to update.
          $ref: '#/components/schemas/admiral.component.v1.Component'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `description`, `source_id`, `version`,
             `values_template`, `depends_on`, `outputs`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateComponentRequest
      required:
        - component
      additionalProperties: false
      description: UpdateComponentRequest contains the component with updated fields.
    admiral.component.v1.UpdateComponentResponse:
      type: object
      properties:
        component:
          title: component
          description: The updated component with all fields reflecting the current state.
          $ref: '#/components/schemas/admiral.component.v1.Component'
      title: UpdateComponentResponse
      additionalProperties: false
      description: UpdateComponentResponse contains the updated component.
    admiral.connection.v1.CloudOIDCAWSConfig:
      type: object
      properties:
        roleArn:
          type: string
          title: role_arn
          description: The ARN of the IAM role to assume via OIDC.
        externalId:
          type: string
          title: external_id
          description: Optional external ID for the STS AssumeRoleWithWebIdentity call.
      title: CloudOIDCAWSConfig
      additionalProperties: false
      description: |-
        CloudOIDCAWSConfig contains configuration for AWS OIDC federation.
         Admiral acts as the OIDC issuer and the customer configures an IAM role
         trust policy for Admiral's issuer URL.
    admiral.connection.v1.CloudOIDCAzureConfig:
      type: object
      properties:
        tenantId:
          type: string
          title: tenant_id
          description: Azure AD tenant ID.
        clientId:
          type: string
          title: client_id
          description: Azure AD application (client) ID.
      title: CloudOIDCAzureConfig
      additionalProperties: false
      description: CloudOIDCAzureConfig contains configuration for Azure OIDC federation.
    admiral.connection.v1.CloudOIDCGCPConfig:
      type: object
      properties:
        projectId:
          type: string
          title: project_id
          description: GCP project ID.
        serviceAccountEmail:
          type: string
          title: service_account_email
          description: Service account email to impersonate.
        workloadIdentityProvider:
          type: string
          title: workload_identity_provider
          description: Full resource name of the Workload Identity Provider.
      title: CloudOIDCGCPConfig
      additionalProperties: false
      description: CloudOIDCGCPConfig contains configuration for GCP Workload Identity federation.
    admiral.connection.v1.CloudStaticAWSConfig:
      type: object
      properties:
        accessKeyId:
          type: string
          title: access_key_id
          description: AWS access key ID.
        secretAccessKey:
          type: string
          title: secret_access_key
          description: AWS secret access key.
      title: CloudStaticAWSConfig
      additionalProperties: false
      description: |-
        CloudStaticAWSConfig contains static AWS credentials.
         Deprecated: use CloudOIDCAWSConfig with OIDC federation instead.
    admiral.connection.v1.CloudStaticAzureConfig:
      type: object
      properties:
        tenantId:
          type: string
          title: tenant_id
          description: Azure AD tenant ID.
        clientId:
          type: string
          title: client_id
          description: Azure AD application (client) ID.
        clientSecret:
          type: string
          title: client_secret
          description: Azure AD client secret.
      title: CloudStaticAzureConfig
      additionalProperties: false
      description: |-
        CloudStaticAzureConfig contains static Azure client credentials.
         Deprecated: use CloudOIDCAzureConfig with OIDC federation instead.
    admiral.connection.v1.CloudStaticGCPConfig:
      type: object
      properties:
        serviceAccountJson:
          type: string
          title: service_account_json
          description: JSON-encoded service account key.
      title: CloudStaticGCPConfig
      additionalProperties: false
      description: |-
        CloudStaticGCPConfig contains a static GCP service account key.
         Deprecated: use CloudOIDCGCPConfig with Workload Identity instead.
    admiral.connection.v1.Connection:
      type: object
      allOf:
        - properties:
            id:
              type: string
              title: id
              format: uuid
              description: Unique identifier for the connection (UUID).
            name:
              type: string
              title: name
              maxLength: 63
              minLength: 1
              pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
              description: |-
                URL-safe, human-readable identifier (e.g., "github-main", "aws-prod").
                 Unique within the tenant. Lowercase alphanumeric and hyphens only, must
                 start with a letter and end with an alphanumeric character (1-63 chars).
            description:
              type: string
              title: description
              maxLength: 1024
              description: Optional longer-form description of the connection's purpose.
            connectionType:
              title: connection_type
              description: The type of external system this connection targets.
              $ref: '#/components/schemas/admiral.connection.v1.ConnectionType'
            status:
              title: status
              description: Current validation status of the connection.
              $ref: '#/components/schemas/admiral.connection.v1.ConnectionStatus'
            labels:
              type: object
              title: labels
              additionalProperties:
                type: string
                title: value
              description: Arbitrary key-value labels for organizing and filtering connections.
            createdBy:
              type: string
              title: created_by
              description: User ID who created the connection.
            updatedBy:
              type: string
              title: updated_by
              description: User ID who last updated the connection.
            createdAt:
              title: created_at
              description: When the connection was created.
              $ref: '#/components/schemas/google.protobuf.Timestamp'
            updatedAt:
              title: updated_at
              description: When the connection was last updated.
              $ref: '#/components/schemas/google.protobuf.Timestamp'
        - oneOf:
            - properties:
                cloudOidcAws:
                  title: cloud_oidc_aws
                  description: AWS OIDC federation.
                  $ref: '#/components/schemas/admiral.connection.v1.CloudOIDCAWSConfig'
              title: cloud_oidc_aws
              required:
                - cloudOidcAws
            - properties:
                cloudOidcAzure:
                  title: cloud_oidc_azure
                  description: Azure OIDC federation.
                  $ref: '#/components/schemas/admiral.connection.v1.CloudOIDCAzureConfig'
              title: cloud_oidc_azure
              required:
                - cloudOidcAzure
            - properties:
                cloudOidcGcp:
                  title: cloud_oidc_gcp
                  description: GCP OIDC federation via Workload Identity.
                  $ref: '#/components/schemas/admiral.connection.v1.CloudOIDCGCPConfig'
              title: cloud_oidc_gcp
              required:
                - cloudOidcGcp
            - properties:
                cloudStaticAws:
                  title: cloud_static_aws
                  description: AWS static credentials (deprecated).
                  deprecated: true
                  $ref: '#/components/schemas/admiral.connection.v1.CloudStaticAWSConfig'
              title: cloud_static_aws
              required:
                - cloudStaticAws
            - properties:
                cloudStaticAzure:
                  title: cloud_static_azure
                  description: Azure static credentials (deprecated).
                  deprecated: true
                  $ref: '#/components/schemas/admiral.connection.v1.CloudStaticAzureConfig'
              title: cloud_static_azure
              required:
                - cloudStaticAzure
            - properties:
                cloudStaticGcp:
                  title: cloud_static_gcp
                  description: GCP static credentials (deprecated).
                  deprecated: true
                  $ref: '#/components/schemas/admiral.connection.v1.CloudStaticGCPConfig'
              title: cloud_static_gcp
              required:
                - cloudStaticGcp
            - properties:
                gcs:
                  title: gcs
                  description: Google Cloud Storage bucket configuration.
                  $ref: '#/components/schemas/admiral.connection.v1.GCSConfig'
              title: gcs
              required:
                - gcs
            - properties:
                gitGithubApp:
                  title: git_github_app
                  description: GitHub App authentication.
                  $ref: '#/components/schemas/admiral.connection.v1.GitHubAppConfig'
              title: git_github_app
              required:
                - gitGithubApp
            - properties:
                gitSsh:
                  title: git_ssh
                  description: Git SSH key authentication.
                  $ref: '#/components/schemas/admiral.connection.v1.GitSSHConfig'
              title: git_ssh
              required:
                - gitSsh
            - properties:
                gitToken:
                  title: git_token
                  description: Git token authentication.
                  $ref: '#/components/schemas/admiral.connection.v1.GitTokenConfig'
              title: git_token
              required:
                - gitToken
            - properties:
                helmHttp:
                  title: helm_http
                  description: Helm HTTP basic auth.
                  $ref: '#/components/schemas/admiral.connection.v1.HelmHTTPConfig'
              title: helm_http
              required:
                - helmHttp
            - properties:
                ociBasic:
                  title: oci_basic
                  description: OCI registry basic auth.
                  $ref: '#/components/schemas/admiral.connection.v1.OCIBasicConfig'
              title: oci_basic
              required:
                - ociBasic
            - properties:
                s3:
                  title: s3
                  description: Amazon S3 bucket configuration.
                  $ref: '#/components/schemas/admiral.connection.v1.S3Config'
              title: s3
              required:
                - s3
            - properties:
                terraformRegistry:
                  title: terraform_registry
                  description: Terraform registry credentials.
                  $ref: '#/components/schemas/admiral.connection.v1.TerraformRegistryConfig'
              title: terraform_registry
              required:
                - terraformRegistry
      title: Connection
      additionalProperties: false
      description: |-
        Connection represents a tenant-scoped set of credentials for an external
         system. Connections are referenced by sources to fetch artifacts.
    admiral.connection.v1.Connection.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.connection.v1.ConnectionStatus:
      type: string
      title: ConnectionStatus
      enum:
        - CONNECTION_STATUS_UNSPECIFIED
        - CONNECTION_STATUS_ACTIVE
        - CONNECTION_STATUS_ERROR
        - CONNECTION_STATUS_UNTESTED
      description: ConnectionStatus represents the current validation state of a connection.
    admiral.connection.v1.ConnectionType:
      type: string
      title: ConnectionType
      enum:
        - CONNECTION_TYPE_UNSPECIFIED
        - CONNECTION_TYPE_GIT_TOKEN
        - CONNECTION_TYPE_GIT_SSH
        - CONNECTION_TYPE_GIT_GITHUB_APP
        - CONNECTION_TYPE_HELM_HTTP
        - CONNECTION_TYPE_OCI_BASIC
        - CONNECTION_TYPE_CLOUD_OIDC_AWS
        - CONNECTION_TYPE_CLOUD_OIDC_GCP
        - CONNECTION_TYPE_CLOUD_OIDC_AZURE
        - CONNECTION_TYPE_CLOUD_STATIC_AWS
        - CONNECTION_TYPE_CLOUD_STATIC_GCP
        - CONNECTION_TYPE_CLOUD_STATIC_AZURE
        - CONNECTION_TYPE_TERRAFORM_REGISTRY
        - CONNECTION_TYPE_S3
        - CONNECTION_TYPE_GCS
      description: ConnectionType identifies the kind of external system a connection targets.
    admiral.connection.v1.CreateConnectionRequest:
      type: object
      allOf:
        - properties:
            name:
              type: string
              title: name
              maxLength: 63
              minLength: 1
              pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
              description: |-
                URL-safe, human-readable identifier (e.g., "github-main"). Must be unique
                 within the tenant. Lowercase alphanumeric and hyphens only.
            description:
              type:
                - string
                - "null"
              title: description
              maxLength: 1024
              description: Optional longer-form description of the connection's purpose.
            connectionType:
              title: connection_type
              description: The type of external system this connection targets.
              $ref: '#/components/schemas/admiral.connection.v1.ConnectionType'
            labels:
              type: object
              title: labels
              additionalProperties:
                type: string
                title: value
              description: Arbitrary key-value labels for organizing and filtering connections.
            createdBy:
              type: string
              title: created_by
              description: User ID who is creating the connection.
        - oneOf:
            - properties:
                cloudOidcAws:
                  title: cloud_oidc_aws
                  description: AWS OIDC federation.
                  $ref: '#/components/schemas/admiral.connection.v1.CloudOIDCAWSConfig'
              title: cloud_oidc_aws
              required:
                - cloudOidcAws
            - properties:
                cloudOidcAzure:
                  title: cloud_oidc_azure
                  description: Azure OIDC federation.
                  $ref: '#/components/schemas/admiral.connection.v1.CloudOIDCAzureConfig'
              title: cloud_oidc_azure
              required:
                - cloudOidcAzure
            - properties:
                cloudOidcGcp:
                  title: cloud_oidc_gcp
                  description: GCP OIDC federation via Workload Identity.
                  $ref: '#/components/schemas/admiral.connection.v1.CloudOIDCGCPConfig'
              title: cloud_oidc_gcp
              required:
                - cloudOidcGcp
            - properties:
                cloudStaticAws:
                  title: cloud_static_aws
                  description: AWS static credentials (deprecated).
                  deprecated: true
                  $ref: '#/components/schemas/admiral.connection.v1.CloudStaticAWSConfig'
              title: cloud_static_aws
              required:
                - cloudStaticAws
            - properties:
                cloudStaticAzure:
                  title: cloud_static_azure
                  description: Azure static credentials (deprecated).
                  deprecated: true
                  $ref: '#/components/schemas/admiral.connection.v1.CloudStaticAzureConfig'
              title: cloud_static_azure
              required:
                - cloudStaticAzure
            - properties:
                cloudStaticGcp:
                  title: cloud_static_gcp
                  description: GCP static credentials (deprecated).
                  deprecated: true
                  $ref: '#/components/schemas/admiral.connection.v1.CloudStaticGCPConfig'
              title: cloud_static_gcp
              required:
                - cloudStaticGcp
            - properties:
                gcs:
                  title: gcs
                  description: Google Cloud Storage bucket configuration.
                  $ref: '#/components/schemas/admiral.connection.v1.GCSConfig'
              title: gcs
              required:
                - gcs
            - properties:
                gitGithubApp:
                  title: git_github_app
                  description: GitHub App authentication.
                  $ref: '#/components/schemas/admiral.connection.v1.GitHubAppConfig'
              title: git_github_app
              required:
                - gitGithubApp
            - properties:
                gitSsh:
                  title: git_ssh
                  description: Git SSH key authentication.
                  $ref: '#/components/schemas/admiral.connection.v1.GitSSHConfig'
              title: git_ssh
              required:
                - gitSsh
            - properties:
                gitToken:
                  title: git_token
                  description: Git token authentication.
                  $ref: '#/components/schemas/admiral.connection.v1.GitTokenConfig'
              title: git_token
              required:
                - gitToken
            - properties:
                helmHttp:
                  title: helm_http
                  description: Helm HTTP basic auth.
                  $ref: '#/components/schemas/admiral.connection.v1.HelmHTTPConfig'
              title: helm_http
              required:
                - helmHttp
            - properties:
                ociBasic:
                  title: oci_basic
                  description: OCI registry basic auth.
                  $ref: '#/components/schemas/admiral.connection.v1.OCIBasicConfig'
              title: oci_basic
              required:
                - ociBasic
            - properties:
                s3:
                  title: s3
                  description: Amazon S3 bucket configuration.
                  $ref: '#/components/schemas/admiral.connection.v1.S3Config'
              title: s3
              required:
                - s3
            - properties:
                terraformRegistry:
                  title: terraform_registry
                  description: Terraform registry credentials.
                  $ref: '#/components/schemas/admiral.connection.v1.TerraformRegistryConfig'
              title: terraform_registry
              required:
                - terraformRegistry
      title: CreateConnectionRequest
      additionalProperties: false
      description: CreateConnectionRequest contains the parameters for creating a new connection.
    admiral.connection.v1.CreateConnectionRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.connection.v1.CreateConnectionResponse:
      type: object
      properties:
        connection:
          title: connection
          description: The created connection.
          $ref: '#/components/schemas/admiral.connection.v1.Connection'
      title: CreateConnectionResponse
      additionalProperties: false
      description: CreateConnectionResponse contains the newly created connection.
    admiral.connection.v1.DeleteConnectionRequest:
      type: object
      properties:
        connectionId:
          type: string
          title: connection_id
          format: uuid
          description: The unique identifier of the connection to delete (UUID).
      title: DeleteConnectionRequest
      additionalProperties: false
      description: |-
        DeleteConnectionRequest identifies a connection to delete.
         Deletion fails if any sources still reference this connection.
    admiral.connection.v1.DeleteConnectionResponse:
      type: object
      title: DeleteConnectionResponse
      additionalProperties: false
      description: DeleteConnectionResponse is returned when the connection has been successfully deleted.
    admiral.connection.v1.GCSConfig:
      type: object
      properties:
        bucket:
          type: string
          title: bucket
          description: GCS bucket name.
        prefix:
          type: string
          title: prefix
          description: Optional key prefix within the bucket.
      title: GCSConfig
      additionalProperties: false
      description: GCSConfig contains configuration for a Google Cloud Storage bucket.
    admiral.connection.v1.GetConnectionRequest:
      type: object
      properties:
        connectionId:
          type: string
          title: connection_id
          format: uuid
          description: The unique identifier of the connection (UUID).
      title: GetConnectionRequest
      additionalProperties: false
      description: GetConnectionRequest identifies a connection to retrieve.
    admiral.connection.v1.GetConnectionResponse:
      type: object
      properties:
        connection:
          title: connection
          description: The connection record. Sensitive credential fields are masked.
          $ref: '#/components/schemas/admiral.connection.v1.Connection'
      title: GetConnectionResponse
      additionalProperties: false
      description: GetConnectionResponse contains the requested connection.
    admiral.connection.v1.GitHubAppConfig:
      type: object
      properties:
        appId:
          type:
            - integer
            - string
          title: app_id
          format: int64
          description: GitHub App ID.
        installationId:
          type:
            - integer
            - string
          title: installation_id
          format: int64
          description: GitHub App installation ID.
        privateKey:
          type: string
          title: private_key
          description: PEM-encoded private key for the GitHub App.
      title: GitHubAppConfig
      additionalProperties: false
      description: GitHubAppConfig contains credentials for GitHub App authentication.
    admiral.connection.v1.GitSSHConfig:
      type: object
      properties:
        privateKey:
          type: string
          title: private_key
          description: PEM-encoded private key.
      title: GitSSHConfig
      additionalProperties: false
      description: GitSSHConfig contains credentials for Git SSH key authentication.
    admiral.connection.v1.GitTokenConfig:
      type: object
      properties:
        token:
          type: string
          title: token
          description: Personal access token or deploy token.
      title: GitTokenConfig
      additionalProperties: false
      description: GitTokenConfig contains credentials for Git token-based authentication.
    admiral.connection.v1.HelmHTTPConfig:
      type: object
      properties:
        username:
          type: string
          title: username
          description: HTTP basic auth username.
        password:
          type: string
          title: password
          description: HTTP basic auth password.
      title: HelmHTTPConfig
      additionalProperties: false
      description: HelmHTTPConfig contains credentials for Helm HTTP repository authentication.
    admiral.connection.v1.ListConnectionsRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `connection_type`, `status`, `name`, and label selectors.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of connections to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListConnectionsRequest
      additionalProperties: false
      description: ListConnectionsRequest contains pagination and filter parameters.
    admiral.connection.v1.ListConnectionsResponse:
      type: object
      properties:
        connections:
          type: array
          items:
            $ref: '#/components/schemas/admiral.connection.v1.Connection'
          title: connections
          description: The list of connections matching the filter. Sensitive fields are masked.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListConnectionsResponse
      additionalProperties: false
      description: ListConnectionsResponse contains a page of connections.
    admiral.connection.v1.OCIBasicConfig:
      type: object
      properties:
        username:
          type: string
          title: username
          description: Registry username.
        password:
          type: string
          title: password
          description: Registry password.
      title: OCIBasicConfig
      additionalProperties: false
      description: OCIBasicConfig contains credentials for OCI registry basic authentication.
    admiral.connection.v1.S3Config:
      type: object
      properties:
        bucket:
          type: string
          title: bucket
          description: S3 bucket name.
        region:
          type: string
          title: region
          description: AWS region (e.g., "us-east-1").
        prefix:
          type: string
          title: prefix
          description: Optional key prefix within the bucket.
      title: S3Config
      additionalProperties: false
      description: S3Config contains configuration for an Amazon S3 bucket.
    admiral.connection.v1.TerraformRegistryConfig:
      type: object
      properties:
        hostname:
          type: string
          title: hostname
          description: Registry hostname (e.g., "app.terraform.io", "registry.terraform.io").
        token:
          type: string
          title: token
          description: API token for the registry.
      title: TerraformRegistryConfig
      additionalProperties: false
      description: TerraformRegistryConfig contains credentials for a Terraform registry.
    admiral.connection.v1.TestConnectionRequest:
      type: object
      properties:
        connectionId:
          type: string
          title: connection_id
          format: uuid
          description: The unique identifier of the connection to test (UUID).
      title: TestConnectionRequest
      additionalProperties: false
      description: TestConnectionRequest identifies a connection to validate against the remote system.
    admiral.connection.v1.TestConnectionResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
          description: Whether the connection test succeeded.
        errorMessage:
          type: string
          title: error_message
          description: Error message if the test failed. Empty on success.
      title: TestConnectionResponse
      additionalProperties: false
      description: TestConnectionResponse contains the result of the connection test.
    admiral.connection.v1.UpdateConnectionRequest:
      type: object
      properties:
        connection:
          title: connection
          description: |-
            The connection with updated fields. The connection's id field is required
             to identify which connection to update. The auth_config oneof is replaced
             entirely — partial auth updates are not supported.
          $ref: '#/components/schemas/admiral.connection.v1.Connection'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `description`, `connection_type`, `auth_config`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateConnectionRequest
      required:
        - connection
      additionalProperties: false
      description: UpdateConnectionRequest contains the connection with updated fields.
    admiral.connection.v1.UpdateConnectionResponse:
      type: object
      properties:
        connection:
          title: connection
          description: The updated connection with all fields reflecting the current state.
          $ref: '#/components/schemas/admiral.connection.v1.Connection'
      title: UpdateConnectionResponse
      additionalProperties: false
      description: UpdateConnectionResponse contains the updated connection.
    admiral.deployment.v1.CancelDeploymentRequest:
      type: object
      properties:
        deploymentId:
          type: string
          title: deployment_id
          format: uuid
          description: The unique identifier of the deployment to cancel (UUID).
      title: CancelDeploymentRequest
      additionalProperties: false
      description: CancelDeploymentRequest identifies a deployment to cancel.
    admiral.deployment.v1.CancelDeploymentResponse:
      type: object
      properties:
        deployment:
          title: deployment
          description: The deployment with updated status (CANCELLED).
          $ref: '#/components/schemas/admiral.deployment.v1.Deployment'
      title: CancelDeploymentResponse
      additionalProperties: false
      description: CancelDeploymentResponse contains the cancelled deployment.
    admiral.deployment.v1.CreateDeploymentRequest:
      type: object
      properties:
        applicationId:
          type: string
          title: application_id
          format: uuid
          description: The application to deploy (UUID).
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The environment to deploy to (UUID).
      title: CreateDeploymentRequest
      additionalProperties: false
      description: CreateDeploymentRequest contains the parameters for creating a new deployment.
    admiral.deployment.v1.CreateDeploymentResponse:
      type: object
      properties:
        deployment:
          title: deployment
          description: |-
            The created deployment. Status will be PENDING or QUEUED depending on
             whether another deployment is active for this application+environment.
          $ref: '#/components/schemas/admiral.deployment.v1.Deployment'
      title: CreateDeploymentResponse
      additionalProperties: false
      description: CreateDeploymentResponse contains the newly created deployment.
    admiral.deployment.v1.Deployment:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the deployment (UUID).
        applicationId:
          type: string
          title: application_id
          format: uuid
          description: The application being deployed (UUID).
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The environment being deployed to (UUID).
        status:
          title: status
          description: Current lifecycle status of the deployment.
          $ref: '#/components/schemas/admiral.deployment.v1.DeploymentStatus'
        startedAt:
          oneOf:
            - $ref: '#/components/schemas/google.protobuf.Timestamp'
            - type: "null"
          title: started_at
          description: When the deployment started executing (transitioned from QUEUED to RUNNING).
        completedAt:
          oneOf:
            - $ref: '#/components/schemas/google.protobuf.Timestamp'
            - type: "null"
          title: completed_at
          description: When the deployment completed (succeeded, failed, or cancelled).
        createdAt:
          title: created_at
          description: When the deployment record was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: When the deployment record was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: Deployment
      additionalProperties: false
      description: |-
        Deployment represents one act of deploying an application to an environment.
         Each deployment produces one revision per component in the application's
         dependency graph.
    admiral.deployment.v1.DeploymentStatus:
      type: string
      title: DeploymentStatus
      enum:
        - DEPLOYMENT_STATUS_UNSPECIFIED
        - DEPLOYMENT_STATUS_PENDING
        - DEPLOYMENT_STATUS_QUEUED
        - DEPLOYMENT_STATUS_RUNNING
        - DEPLOYMENT_STATUS_SUCCEEDED
        - DEPLOYMENT_STATUS_PARTIALLY_FAILED
        - DEPLOYMENT_STATUS_FAILED
        - DEPLOYMENT_STATUS_CANCELLED
      description: DeploymentStatus represents the lifecycle state of a deployment.
    admiral.deployment.v1.GetDeploymentRequest:
      type: object
      properties:
        deploymentId:
          type: string
          title: deployment_id
          format: uuid
          description: The unique identifier of the deployment (UUID).
      title: GetDeploymentRequest
      additionalProperties: false
      description: GetDeploymentRequest identifies a deployment to retrieve.
    admiral.deployment.v1.GetDeploymentResponse:
      type: object
      properties:
        deployment:
          title: deployment
          description: The deployment record.
          $ref: '#/components/schemas/admiral.deployment.v1.Deployment'
      title: GetDeploymentResponse
      additionalProperties: false
      description: GetDeploymentResponse contains the requested deployment.
    admiral.deployment.v1.GetRevisionRequest:
      type: object
      properties:
        deploymentId:
          type: string
          title: deployment_id
          format: uuid
          description: The deployment the revision belongs to (UUID).
        revisionId:
          type: string
          title: revision_id
          format: uuid
          description: The unique identifier of the revision (UUID).
      title: GetRevisionRequest
      additionalProperties: false
      description: GetRevisionRequest identifies a revision within a deployment.
    admiral.deployment.v1.GetRevisionResponse:
      type: object
      properties:
        revision:
          title: revision
          description: The revision record.
          $ref: '#/components/schemas/admiral.deployment.v1.Revision'
      title: GetRevisionResponse
      additionalProperties: false
      description: GetRevisionResponse contains the requested revision.
    admiral.deployment.v1.ListDeploymentsRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `application_id`, `environment_id`, `status`, and `created_by`.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of deployments to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListDeploymentsRequest
      additionalProperties: false
      description: ListDeploymentsRequest contains pagination and filter parameters.
    admiral.deployment.v1.ListDeploymentsResponse:
      type: object
      properties:
        deployments:
          type: array
          items:
            $ref: '#/components/schemas/admiral.deployment.v1.Deployment'
          title: deployments
          description: The list of deployments matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListDeploymentsResponse
      additionalProperties: false
      description: ListDeploymentsResponse contains a page of deployments.
    admiral.deployment.v1.ListRevisionsRequest:
      type: object
      properties:
        deploymentId:
          type: string
          title: deployment_id
          format: uuid
          description: The deployment whose revisions to list (UUID).
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of revisions to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListRevisionsRequest
      additionalProperties: false
      description: ListRevisionsRequest lists all revisions for a deployment.
    admiral.deployment.v1.ListRevisionsResponse:
      type: object
      properties:
        revisions:
          type: array
          items:
            $ref: '#/components/schemas/admiral.deployment.v1.Revision'
          title: revisions
          description: The list of revisions for the deployment.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListRevisionsResponse
      additionalProperties: false
      description: ListRevisionsResponse contains a page of revisions.
    admiral.deployment.v1.RetryRevisionRequest:
      type: object
      properties:
        deploymentId:
          type: string
          title: deployment_id
          format: uuid
          description: The deployment the revision belongs to (UUID).
        revisionId:
          type: string
          title: revision_id
          format: uuid
          description: The unique identifier of the revision to retry (UUID).
      title: RetryRevisionRequest
      additionalProperties: false
      description: RetryRevisionRequest identifies a failed revision to retry.
    admiral.deployment.v1.RetryRevisionResponse:
      type: object
      properties:
        revision:
          title: revision
          description: The revision with reset status (PENDING).
          $ref: '#/components/schemas/admiral.deployment.v1.Revision'
      title: RetryRevisionResponse
      additionalProperties: false
      description: RetryRevisionResponse contains the retried revision.
    admiral.deployment.v1.Revision:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the revision (UUID).
        deploymentId:
          type: string
          title: deployment_id
          format: uuid
          description: The deployment this revision belongs to (UUID).
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component being executed (UUID).
        componentName:
          type: string
          title: component_name
          description: The component name at the time of deployment (denormalized for history).
        status:
          title: status
          description: Current lifecycle status of the revision.
          $ref: '#/components/schemas/admiral.deployment.v1.RevisionStatus'
        blockedBy:
          type: array
          items:
            type: string
          title: blocked_by
          description: |-
            Component IDs that this revision is blocked by. Only populated when
             status is BLOCKED.
        planOutput:
          type:
            - string
            - "null"
          title: plan_output
          description: |-
            Plan output from the planning phase (e.g., Terraform plan output).
             Only populated after the planning phase completes.
        applyOutput:
          type:
            - string
            - "null"
          title: apply_output
          description: |-
            Apply output from the applying phase (e.g., Terraform apply output).
             Only populated after the applying phase completes.
        startedAt:
          oneOf:
            - $ref: '#/components/schemas/google.protobuf.Timestamp'
            - type: "null"
          title: started_at
          description: When the revision started executing.
        completedAt:
          oneOf:
            - $ref: '#/components/schemas/google.protobuf.Timestamp'
            - type: "null"
          title: completed_at
          description: When the revision completed (succeeded, failed, or cancelled).
        createdAt:
          title: created_at
          description: When the revision record was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: Revision
      additionalProperties: false
      description: |-
        Revision represents the execution of a single component within a deployment.
         Revisions are nested under deployments and follow the component dependency
         graph for ordering.
    admiral.deployment.v1.RevisionStatus:
      type: string
      title: RevisionStatus
      enum:
        - REVISION_STATUS_UNSPECIFIED
        - REVISION_STATUS_PENDING
        - REVISION_STATUS_QUEUED
        - REVISION_STATUS_PLANNING
        - REVISION_STATUS_APPLYING
        - REVISION_STATUS_SUCCEEDED
        - REVISION_STATUS_FAILED
        - REVISION_STATUS_BLOCKED
        - REVISION_STATUS_CANCELLED
      description: |-
        RevisionStatus represents the lifecycle state of a single component revision
         within a deployment.
    admiral.environment.v1.CreateEnvironmentRequest:
      type: object
      allOf:
        - properties:
            applicationId:
              type: string
              title: application_id
              format: uuid
              description: The application to create this environment for (UUID).
            name:
              type: string
              title: name
              maxLength: 255
              minLength: 1
              pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
              description: |-
                URL-safe, human-readable identifier (e.g., "prod", "staging-us-east").
                 Must be unique within the application. Lowercase alphanumeric and hyphens only.
            runtimeType:
              title: runtime_type
              description: |-
                The kind of runtime this environment targets. Optional — can be assigned
                 later via UpdateEnvironment.
              $ref: '#/components/schemas/admiral.environment.v1.RuntimeType'
            labels:
              type: object
              title: labels
              additionalProperties:
                type: string
                title: value
              description: Arbitrary key-value labels for organizing and filtering environments.
        - oneOf:
            - properties:
                kubernetes:
                  title: kubernetes
                  description: Kubernetes-specific settings (cluster, namespace).
                  $ref: '#/components/schemas/admiral.environment.v1.KubernetesConfig'
              title: kubernetes
              required:
                - kubernetes
      title: CreateEnvironmentRequest
      additionalProperties: false
      description: CreateEnvironmentRequest contains the parameters for creating a new environment.
    admiral.environment.v1.CreateEnvironmentRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.environment.v1.CreateEnvironmentResponse:
      type: object
      properties:
        environment:
          title: environment
          description: The created environment.
          $ref: '#/components/schemas/admiral.environment.v1.Environment'
      title: CreateEnvironmentResponse
      additionalProperties: false
      description: CreateEnvironmentResponse contains the newly created environment.
    admiral.environment.v1.DeleteEnvironmentRequest:
      type: object
      properties:
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The unique identifier of the environment to delete (UUID).
      title: DeleteEnvironmentRequest
      additionalProperties: false
      description: DeleteEnvironmentRequest identifies an environment to delete.
    admiral.environment.v1.DeleteEnvironmentResponse:
      type: object
      title: DeleteEnvironmentResponse
      additionalProperties: false
      description: DeleteEnvironmentResponse is returned when the environment has been successfully deleted.
    admiral.environment.v1.Environment:
      type: object
      allOf:
        - properties:
            id:
              type: string
              title: id
              format: uuid
              description: Unique identifier for the environment (UUID).
            applicationId:
              type: string
              title: application_id
              format: uuid
              description: The application this environment belongs to (UUID).
            name:
              type: string
              title: name
              maxLength: 255
              minLength: 1
              pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
              description: |-
                URL-safe, human-readable identifier (e.g., "prod", "staging-us-east").
                 Unique within the application. Lowercase alphanumeric and hyphens only,
                 must start with a letter and end with an alphanumeric character (1-63 chars).
            runtimeType:
              title: runtime_type
              description: |-
                The kind of runtime this environment targets. Optional — can be assigned
                 after creation.
              $ref: '#/components/schemas/admiral.environment.v1.RuntimeType'
            labels:
              type: object
              title: labels
              additionalProperties:
                type: string
                title: value
              description: |-
                Arbitrary key-value labels for organizing and filtering environments
                 (e.g., `{"region": "us-east-1", "tier": "production"}`).
            createdAt:
              title: created_at
              description: When the environment was created.
              $ref: '#/components/schemas/google.protobuf.Timestamp'
            updatedAt:
              title: updated_at
              description: When the environment was last updated.
              $ref: '#/components/schemas/google.protobuf.Timestamp'
        - oneOf:
            - properties:
                kubernetes:
                  title: kubernetes
                  description: Kubernetes-specific settings (cluster, namespace).
                  $ref: '#/components/schemas/admiral.environment.v1.KubernetesConfig'
              title: kubernetes
              required:
                - kubernetes
      title: Environment
      additionalProperties: false
      description: |-
        Environment represents a named deployment target for an application. Each
         environment binds an application to a runtime where its workloads are deployed.
    admiral.environment.v1.Environment.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.environment.v1.GetEnvironmentRequest:
      type: object
      properties:
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The unique identifier of the environment (UUID).
      title: GetEnvironmentRequest
      additionalProperties: false
      description: GetEnvironmentRequest identifies an environment to retrieve.
    admiral.environment.v1.GetEnvironmentResponse:
      type: object
      properties:
        environment:
          title: environment
          description: The environment record.
          $ref: '#/components/schemas/admiral.environment.v1.Environment'
      title: GetEnvironmentResponse
      additionalProperties: false
      description: GetEnvironmentResponse contains the environment record.
    admiral.environment.v1.KubernetesConfig:
      type: object
      properties:
        clusterId:
          type: string
          title: cluster_id
          format: uuid
          description: The cluster this environment deploys to (UUID).
        namespace:
          type:
            - string
            - "null"
          title: namespace
          description: |-
            The Kubernetes namespace for this environment's workloads.
             Defaults to the environment name if not specified at deploy time.
      title: KubernetesConfig
      additionalProperties: false
      description: KubernetesConfig contains Kubernetes-specific settings for an environment.
    admiral.environment.v1.ListEnvironmentsRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `application_id`, `name`, `runtime_type`, and label selectors.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of environments to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListEnvironmentsRequest
      additionalProperties: false
      description: ListEnvironmentsRequest contains pagination and filter parameters.
    admiral.environment.v1.ListEnvironmentsResponse:
      type: object
      properties:
        environments:
          type: array
          items:
            $ref: '#/components/schemas/admiral.environment.v1.Environment'
          title: environments
          description: The list of environments matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListEnvironmentsResponse
      additionalProperties: false
      description: ListEnvironmentsResponse contains a page of environments.
    admiral.environment.v1.RuntimeType:
      type: string
      title: RuntimeType
      enum:
        - RUNTIME_TYPE_UNSPECIFIED
        - RUNTIME_TYPE_KUBERNETES
      description: RuntimeType identifies the kind of runtime an environment targets.
    admiral.environment.v1.UpdateEnvironmentRequest:
      type: object
      properties:
        environment:
          title: environment
          description: |-
            The environment with updated fields. The environment's id field is required
             to identify which environment to update.
          $ref: '#/components/schemas/admiral.environment.v1.Environment'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `runtime_type`, `kubernetes`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateEnvironmentRequest
      required:
        - environment
      additionalProperties: false
      description: UpdateEnvironmentRequest contains the environment with updated fields.
    admiral.environment.v1.UpdateEnvironmentResponse:
      type: object
      properties:
        environment:
          title: environment
          description: The updated environment with all fields reflecting the current state.
          $ref: '#/components/schemas/admiral.environment.v1.Environment'
      title: UpdateEnvironmentResponse
      additionalProperties: false
      description: UpdateEnvironmentResponse contains the updated environment.
    admiral.healthcheck.v1.HealthcheckRequest:
      type: object
      title: HealthcheckRequest
      additionalProperties: false
      description: |-
        HealthcheckRequest is the request message for the Healthcheck RPC.
         No parameters are required.
    admiral.healthcheck.v1.HealthcheckResponse:
      type: object
      title: HealthcheckResponse
      additionalProperties: false
      description: |-
        HealthcheckResponse is returned when the service is healthy. An empty
         response with an OK status code indicates the service is available.
    admiral.identity.v1.AuthPolicy:
      type: string
      title: AuthPolicy
      enum:
        - AUTH_POLICY_UNSPECIFIED
        - PASSWORD
        - SSO
      description: |-
        AuthPolicy defines the primary authentication method enforced for a tenant's
         users. This controls how users prove their identity during login.
    admiral.identity.v1.CreateFederatedIdentityRequest:
      type: object
      allOf:
        - properties:
            tenantId:
              type: string
              title: tenant_id
              format: uuid
              description: The tenant this federated identity belongs to (UUID format).
            userId:
              type: string
              title: user_id
              format: uuid
              description: The Admiral user to link this external identity to (UUID format).
            subjectId:
              type: string
              title: subject_id
              minLength: 1
              description: The unique identifier for the user at the external provider.
        - oneOf:
            - properties:
                identityProviderId:
                  type: string
                  title: identity_provider_id
                  description: The UUID of a tenant-specific enterprise identity provider.
              title: identity_provider_id
              required:
                - identityProviderId
            - properties:
                socialProvider:
                  title: social_provider
                  description: A preconfigured social login provider.
                  $ref: '#/components/schemas/admiral.identity.v1.SocialProvider'
              title: social_provider
              required:
                - socialProvider
      title: CreateFederatedIdentityRequest
      additionalProperties: false
      description: |-
        CreateFederatedIdentityRequest contains the fields required to link an
         external identity to an Admiral user.
    admiral.identity.v1.CreateFederatedIdentityResponse:
      type: object
      properties:
        federatedIdentity:
          title: federated_identity
          description: The created federated identity.
          $ref: '#/components/schemas/admiral.identity.v1.FederatedIdentity'
      title: CreateFederatedIdentityResponse
      additionalProperties: false
      description: CreateFederatedIdentityResponse contains the newly created federated identity.
    admiral.identity.v1.CreateUserRequest:
      type: object
      properties:
        tenantId:
          type: string
          title: tenant_id
          format: uuid
          description: The tenant to create the user in (UUID format).
        email:
          type: string
          title: email
          format: email
          description: The user's email address. Must be unique within the tenant.
        displayName:
          type:
            - string
            - "null"
          title: display_name
          description: The user's display name.
        givenName:
          type:
            - string
            - "null"
          title: given_name
          description: The user's given (first) name.
        familyName:
          type:
            - string
            - "null"
          title: family_name
          description: The user's family (last) name.
        avatarUrl:
          type:
            - string
            - "null"
          title: avatar_url
          description: URL to the user's avatar image.
        emailVerified:
          type: boolean
          title: email_verified
          description: |-
            Whether the user's email should be marked as verified. Set to true when
             the email has been verified through an external flow (e.g., SSO login).
        tenantRole:
          title: tenant_role
          description: The role to assign this user within the tenant.
          $ref: '#/components/schemas/admiral.identity.v1.TenantRole'
        roles:
          type: array
          items:
            type: string
          title: roles
          description: Application-level roles to assign to this user.
        password:
          type:
            - string
            - "null"
          title: password
          description: |-
            Initial password for the user. If omitted, the user will not have
             password-based authentication and must use an alternative method
             (e.g., SSO, social login) or have a password set later via SetPassword.
        enabled:
          type: boolean
          title: enabled
          description: Whether the user account should be enabled upon creation.
      title: CreateUserRequest
      additionalProperties: false
      description: CreateUserRequest contains the fields required to create a new user.
    admiral.identity.v1.CreateUserResponse:
      type: object
      properties:
        user:
          title: user
          description: The created user with all fields populated.
          $ref: '#/components/schemas/admiral.identity.v1.User'
      title: CreateUserResponse
      additionalProperties: false
      description: CreateUserResponse contains the newly created user.
    admiral.identity.v1.DeleteFederatedIdentityRequest:
      type: object
      allOf:
        - properties:
            userId:
              type: string
              title: user_id
              format: uuid
              description: The Admiral user whose federated identity link should be removed (UUID format).
            subjectId:
              type: string
              title: subject_id
              minLength: 1
              description: The unique identifier for the user at the external provider.
        - oneOf:
            - properties:
                identityProviderId:
                  type: string
                  title: identity_provider_id
                  description: The UUID of a tenant-specific enterprise identity provider.
              title: identity_provider_id
              required:
                - identityProviderId
            - properties:
                socialProvider:
                  title: social_provider
                  description: A preconfigured social login provider.
                  $ref: '#/components/schemas/admiral.identity.v1.SocialProvider'
              title: social_provider
              required:
                - socialProvider
      title: DeleteFederatedIdentityRequest
      additionalProperties: false
      description: |-
        DeleteFederatedIdentityRequest identifies the federated identity to remove
         by user, provider, and subject_id.
    admiral.identity.v1.DeleteFederatedIdentityResponse:
      type: object
      title: DeleteFederatedIdentityResponse
      additionalProperties: false
      description: |-
        DeleteFederatedIdentityResponse is returned when the link has been
         successfully removed.
    admiral.identity.v1.DeleteUserRequest:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: The unique identifier of the user to delete (UUID format).
      title: DeleteUserRequest
      additionalProperties: false
      description: DeleteUserRequest identifies the user to delete.
    admiral.identity.v1.DeleteUserResponse:
      type: object
      title: DeleteUserResponse
      additionalProperties: false
      description: DeleteUserResponse is returned when the user has been successfully deleted.
    admiral.identity.v1.FederatedIdentity:
      type: object
      allOf:
        - properties:
            tenantId:
              type: string
              title: tenant_id
              format: uuid
              description: The tenant this federated identity belongs to (UUID format).
            userId:
              type: string
              title: user_id
              format: uuid
              description: The Admiral user this external identity is linked to (UUID format).
            subjectId:
              type: string
              title: subject_id
              minLength: 1
              description: |-
                The unique identifier for this user at the external provider (e.g.,
                 the "sub" claim in an OIDC token or the NameID in a SAML assertion).
        - oneOf:
            - properties:
                identityProviderId:
                  type: string
                  title: identity_provider_id
                  description: |-
                    The UUID of a tenant-specific enterprise identity provider configured
                     via IdentityProviderAPI.
              title: identity_provider_id
              required:
                - identityProviderId
            - properties:
                socialProvider:
                  title: social_provider
                  description: A preconfigured social login provider (e.g., GOOGLE).
                  $ref: '#/components/schemas/admiral.identity.v1.SocialProvider'
              title: social_provider
              required:
                - socialProvider
      title: FederatedIdentity
      additionalProperties: false
      description: |-
        FederatedIdentity represents a link between an Admiral user and an external
         identity from a social provider (e.g., Google) or an enterprise identity
         provider (SAML/OIDC). The subject_id is the unique identifier assigned to
         the user by the external provider.
    admiral.identity.v1.GetFederatedIdentityRequest:
      type: object
      allOf:
        - oneOf:
            - properties:
                identityProviderId:
                  type: string
                  title: identity_provider_id
                  description: The UUID of a tenant-specific enterprise identity provider.
              title: identity_provider_id
              required:
                - identityProviderId
            - properties:
                socialProvider:
                  title: social_provider
                  description: A preconfigured social login provider.
                  $ref: '#/components/schemas/admiral.identity.v1.SocialProvider'
              title: social_provider
              required:
                - socialProvider
        - oneOf:
            - properties:
                tenantId:
                  type: string
                  title: tenant_id
                  description: |-
                    Look up by tenant — finds which user within this tenant is linked to
                     the given provider and subject_id. Used during login to resolve the
                     external identity to an Admiral user.
              title: tenant_id
              required:
                - tenantId
            - properties:
                userId:
                  type: string
                  title: user_id
                  description: |-
                    Look up by user — returns the federated identity for this user matching
                     the given provider and subject_id.
              title: user_id
              required:
                - userId
      properties:
        subjectId:
          type: string
          title: subject_id
          minLength: 1
          description: The unique identifier for the user at the external provider.
      title: GetFederatedIdentityRequest
      additionalProperties: false
      description: |-
        GetFederatedIdentityRequest looks up a federated identity by provider and
         subject_id, scoped to either a user or a tenant.
    admiral.identity.v1.GetFederatedIdentityResponse:
      type: object
      properties:
        federatedIdentity:
          title: federated_identity
          description: The matching federated identity.
          $ref: '#/components/schemas/admiral.identity.v1.FederatedIdentity'
      title: GetFederatedIdentityResponse
      additionalProperties: false
      description: GetFederatedIdentityResponse contains the matching federated identity.
    admiral.identity.v1.GetUserRequest:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: The unique identifier of the user to retrieve (UUID format).
      title: GetUserRequest
      additionalProperties: false
      description: GetUserRequest identifies the user to retrieve.
    admiral.identity.v1.GetUserResponse:
      type: object
      properties:
        user:
          title: user
          description: The requested user.
          $ref: '#/components/schemas/admiral.identity.v1.User'
      title: GetUserResponse
      additionalProperties: false
      description: GetUserResponse contains the requested user.
    admiral.identity.v1.ListFederatedIdentitiesRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `user_id`, and `identity_provider_id`.
             Example: `user_id = "uuid"` or `tenant_id = "uuid"`.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: |-
            Maximum number of federated identities to return per page. The server
             may return fewer results. If unspecified, the server picks an appropriate
             default.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: |-
            Opaque pagination token from a previous ListFederatedIdentitiesResponse.
             If provided, the server returns the next page of results. When absent,
             the first page is returned.
      title: ListFederatedIdentitiesRequest
      additionalProperties: false
      description: |-
        ListFederatedIdentitiesRequest specifies the filter and pagination
         parameters for listing federated identities.
    admiral.identity.v1.ListFederatedIdentitiesResponse:
      type: object
      properties:
        federatedIdentities:
          type: array
          items:
            $ref: '#/components/schemas/admiral.identity.v1.FederatedIdentity'
          title: federated_identities
          description: The list of federated identities matching the filter for this page.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListFederatedIdentitiesResponse
      additionalProperties: false
      description: |-
        ListFederatedIdentitiesResponse contains a page of federated identities
         and a token for the next page.
    admiral.identity.v1.ListUsersRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `email`, `tenant_role`, and `enabled`.
             Example: `tenant_id = "uuid" AND enabled = true` or `email = "*@example.com"`.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: |-
            Maximum number of users to return per page. The server may return fewer
             results. If unspecified, the server picks an appropriate default.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: |-
            Opaque pagination token from a previous ListUsersResponse. If provided,
             the server returns the next page of results. When absent, the first page
             is returned.
      title: ListUsersRequest
      additionalProperties: false
      description: |-
        ListUsersRequest specifies the filter and pagination parameters for listing
         users within a tenant.
    admiral.identity.v1.ListUsersResponse:
      type: object
      properties:
        users:
          type: array
          items:
            $ref: '#/components/schemas/admiral.identity.v1.User'
          title: users
          description: The list of users matching the filter for this page.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListUsersResponse
      additionalProperties: false
      description: ListUsersResponse contains a page of users and a token for the next page.
    admiral.identity.v1.MfaMethod:
      type: string
      title: MfaMethod
      enum:
        - MFA_METHOD_UNSPECIFIED
        - TOTP
      description: |-
        MfaMethod identifies a multi-factor authentication method that a user has
         enrolled.
    admiral.identity.v1.ProfileSyncMode:
      type: string
      title: ProfileSyncMode
      enum:
        - PROFILE_SYNC_MODE_UNSPECIFIED
        - SYNC_ON_CREATE
        - SYNC_ON_LOGIN
      description: |-
        ProfileSyncMode controls when user profile attributes (display name, email,
         etc.) are synchronized from an external identity provider into Admiral.
    admiral.identity.v1.SocialProvider:
      type: string
      title: SocialProvider
      enum:
        - SOCIAL_PROVIDER_UNSPECIFIED
        - GOOGLE
      description: |-
        SocialProvider identifies a third-party social login provider that a tenant
         can enable for its users. Social providers use OAuth 2.0 / OpenID Connect
         and are preconfigured — unlike enterprise identity providers which require
         per-tenant configuration via IdentityProviderAPI.
    admiral.identity.v1.TenantRole:
      type: string
      title: TenantRole
      enum:
        - TENANT_ROLE_UNSPECIFIED
        - MEMBER
        - OWNER
      description: |-
        TenantRole defines the role a user holds within a tenant. Roles follow a
         simple ownership hierarchy — not a full RBAC model. Scopes on tokens are
         orthogonal to tenant roles on users.
    admiral.identity.v1.Tier:
      type: string
      title: Tier
      enum:
        - TIER_UNSPECIFIED
        - FREE
        - PRO
        - ENTERPRISE
      description: |-
        Tier represents a tenant's subscription level, which determines feature
         availability and usage limits.
    admiral.identity.v1.UpdateUserRequest:
      type: object
      properties:
        user:
          title: user
          description: |-
            The user with updated fields. The user's id field is required to
             identify which user to update.
          $ref: '#/components/schemas/admiral.identity.v1.User'
      title: UpdateUserRequest
      required:
        - user
      additionalProperties: false
      description: UpdateUserRequest contains the user with updated fields.
    admiral.identity.v1.UpdateUserResponse:
      type: object
      properties:
        user:
          title: user
          description: The updated user with all fields reflecting the current state.
          $ref: '#/components/schemas/admiral.identity.v1.User'
      title: UpdateUserResponse
      additionalProperties: false
      description: UpdateUserResponse contains the updated user.
    admiral.identity.v1.User:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the user (UUID format).
        tenantId:
          type: string
          title: tenant_id
          format: uuid
          description: The tenant this user belongs to (UUID format).
        email:
          type: string
          title: email
          format: email
          description: The user's email address. Must be unique within the tenant.
        displayName:
          type:
            - string
            - "null"
          title: display_name
          description: |-
            The user's display name, shown in the UI. If not set, the email
             address is typically used as a fallback.
        givenName:
          type:
            - string
            - "null"
          title: given_name
          description: The user's given (first) name.
        familyName:
          type:
            - string
            - "null"
          title: family_name
          description: The user's family (last) name.
        avatarUrl:
          type:
            - string
            - "null"
          title: avatar_url
          description: URL to the user's avatar image.
        emailVerified:
          type: boolean
          title: email_verified
          description: Whether the user's email address has been verified.
        tenantRole:
          title: tenant_role
          description: |-
            The user's role within their tenant. Determines administrative
             privileges (OWNER has full access, MEMBER has standard access).
          $ref: '#/components/schemas/admiral.identity.v1.TenantRole'
        roles:
          type: array
          items:
            type: string
          title: roles
          description: |-
            Application-level roles assigned to this user. These are opaque strings
             interpreted by the application layer (e.g., "billing-admin", "viewer").
        enabled:
          type: boolean
          title: enabled
          description: |-
            Whether the user account is enabled. Disabled users cannot authenticate
             or access any resources.
        federatedIdentities:
          type: array
          items:
            $ref: '#/components/schemas/admiral.identity.v1.FederatedIdentity'
          title: federated_identities
          description: |-
            Read-only: managed by FederatedIdentityAPI.
             The user's linked external identities (social providers or enterprise IdPs).
        hasPassword:
          type: boolean
          title: has_password
          description: |-
            Read-only: derived from password presence.
             Whether the user has a password set for password-based authentication.
        mfaMethods:
          type: array
          items:
            $ref: '#/components/schemas/admiral.identity.v1.MfaMethod'
          title: mfa_methods
          description: |-
            Read-only: managed by AuthenticationAPI.
             The MFA methods the user has enrolled (e.g., TOTP).
        recoveryCodesRemaining:
          type: integer
          title: recovery_codes_remaining
          format: int32
          description: |-
            Read-only: managed by AuthenticationAPI.
             The number of unused recovery codes remaining for MFA fallback.
        lastLoginAt:
          oneOf:
            - $ref: '#/components/schemas/google.protobuf.Timestamp'
            - type: "null"
          title: last_login_at
          description: |-
            Timestamp of the user's most recent login. Null if the user has never
             logged in.
        createdAt:
          title: created_at
          description: Timestamp when the user was created. Read-only.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: Timestamp when the user was last updated. Read-only.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: User
      additionalProperties: false
      description: |-
        User represents a human identity within a tenant. Each user has a unique
         email address within their tenant, a tenant role, and optional profile
         attributes.
    admiral.runner.v1.ClaimJobRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The runner attempting to claim a job (UUID).
      title: ClaimJobRequest
      additionalProperties: false
      description: ClaimJobRequest attempts to claim the next available job for a runner.
    admiral.runner.v1.ClaimJobResponse:
      type: object
      properties:
        job:
          title: job
          description: The claimed job. Absent if no jobs are available.
          $ref: '#/components/schemas/admiral.runner.v1.Job'
      title: ClaimJobResponse
      additionalProperties: false
      description: ClaimJobResponse contains the claimed job, if any.
    admiral.runner.v1.CreateRunnerRequest:
      type: object
      properties:
        tenantId:
          type: string
          title: tenant_id
          format: uuid
          description: Tenant the runner belongs to (UUID).
        name:
          type: string
          title: name
          maxLength: 63
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "terraform-prod"). Must be
             unique within the tenant. Lowercase alphanumeric and hyphens only.
        description:
          type:
            - string
            - "null"
          title: description
          maxLength: 1024
          description: Optional longer-form description of the runner's purpose.
        runnerKind:
          title: runner_kind
          description: The kind of operations this runner executes.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerKind'
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: Arbitrary key-value labels for organizing and filtering runners.
        createdBy:
          type: string
          title: created_by
          description: User ID who is creating the runner.
      title: CreateRunnerRequest
      additionalProperties: false
      description: CreateRunnerRequest contains the parameters for creating a new runner.
    admiral.runner.v1.CreateRunnerRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.runner.v1.CreateRunnerResponse:
      type: object
      properties:
        runner:
          title: runner
          description: |-
            The created runner. Health status will be PENDING until the runner agent
             connects and begins sending heartbeats.
          $ref: '#/components/schemas/admiral.runner.v1.Runner'
      title: CreateRunnerResponse
      additionalProperties: false
      description: CreateRunnerResponse contains the newly created runner.
    admiral.runner.v1.DeleteRunnerRequest:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: The unique identifier of the runner to delete (UUID).
      title: DeleteRunnerRequest
      additionalProperties: false
      description: DeleteRunnerRequest identifies a runner to delete.
    admiral.runner.v1.DeleteRunnerResponse:
      type: object
      title: DeleteRunnerResponse
      additionalProperties: false
      description: DeleteRunnerResponse is returned when the runner has been successfully deleted.
    admiral.runner.v1.GetJobBundleRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The job to retrieve the bundle for (UUID).
      title: GetJobBundleRequest
      additionalProperties: false
      description: GetJobBundleRequest retrieves the execution bundle for a claimed job.
    admiral.runner.v1.GetJobBundleResponse:
      type: object
      properties:
        bundle:
          title: bundle
          description: The job execution bundle.
          $ref: '#/components/schemas/admiral.runner.v1.JobBundle'
      title: GetJobBundleResponse
      additionalProperties: false
      description: GetJobBundleResponse contains the full execution bundle.
    admiral.runner.v1.GetJobRequest:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: The unique identifier of the job (UUID).
      title: GetJobRequest
      additionalProperties: false
      description: GetJobRequest identifies a job to retrieve.
    admiral.runner.v1.GetJobResponse:
      type: object
      properties:
        job:
          title: job
          description: The job record.
          $ref: '#/components/schemas/admiral.runner.v1.Job'
      title: GetJobResponse
      additionalProperties: false
      description: GetJobResponse contains the requested job.
    admiral.runner.v1.GetRunnerRequest:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: The unique identifier of the runner (UUID).
      title: GetRunnerRequest
      additionalProperties: false
      description: GetRunnerRequest identifies a runner to retrieve.
    admiral.runner.v1.GetRunnerResponse:
      type: object
      properties:
        runner:
          title: runner
          description: The runner record.
          $ref: '#/components/schemas/admiral.runner.v1.Runner'
      title: GetRunnerResponse
      additionalProperties: false
      description: GetRunnerResponse contains the requested runner.
    admiral.runner.v1.GetRunnerStatusRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The unique identifier of the runner (UUID).
      title: GetRunnerStatusRequest
      additionalProperties: false
      description: GetRunnerStatusRequest identifies a runner whose status to retrieve.
    admiral.runner.v1.GetRunnerStatusResponse:
      type: object
      properties:
        healthStatus:
          title: health_status
          description: Server-derived health status.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerHealthStatus'
        status:
          title: status
          description: |-
            Latest status snapshot from the runner's heartbeat. Absent if no
             heartbeat has been received yet.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerStatus'
      title: GetRunnerStatusResponse
      additionalProperties: false
      description: GetRunnerStatusResponse contains the runner's current status snapshot.
    admiral.runner.v1.HeartbeatRequest:
      type: object
      properties:
        runnerId:
          type: string
          title: runner_id
          format: uuid
          description: The runner sending the heartbeat (UUID).
        status:
          title: status
          description: Current status snapshot from the runner.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerStatus'
      title: HeartbeatRequest
      required:
        - status
      additionalProperties: false
      description: HeartbeatRequest contains the runner's periodic health signal.
    admiral.runner.v1.HeartbeatResponse:
      type: object
      properties:
        nextHeartbeatSeconds:
          type: integer
          title: next_heartbeat_seconds
          format: int32
          description: |-
            Server-controlled interval (in seconds) before the runner should send
             its next heartbeat.
      title: HeartbeatResponse
      additionalProperties: false
      description: HeartbeatResponse acknowledges the heartbeat.
    admiral.runner.v1.Job:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the job (UUID).
        tenantId:
          type: string
          title: tenant_id
          format: uuid
          description: Tenant this job belongs to (UUID).
        runnerId:
          type: string
          title: runner_id
          description: The runner assigned to execute this job (UUID).
        deploymentId:
          type: string
          title: deployment_id
          format: uuid
          description: The deployment this job is part of (UUID).
        revisionId:
          type: string
          title: revision_id
          format: uuid
          description: The revision this job corresponds to (UUID).
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component being executed (UUID).
        jobType:
          type: string
          title: job_type
          description: The type of job (e.g., "terraform_plan", "terraform_apply", "helm_upgrade").
        status:
          title: status
          description: Current lifecycle status of the job.
          $ref: '#/components/schemas/admiral.runner.v1.JobStatus'
        createdAt:
          title: created_at
          description: When the job record was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        startedAt:
          oneOf:
            - $ref: '#/components/schemas/google.protobuf.Timestamp'
            - type: "null"
          title: started_at
          description: When the job started executing.
        completedAt:
          oneOf:
            - $ref: '#/components/schemas/google.protobuf.Timestamp'
            - type: "null"
          title: completed_at
          description: When the job completed.
      title: Job
      additionalProperties: false
      description: Job represents a unit of work dispatched to a runner for execution.
    admiral.runner.v1.JobBundle:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          description: The job this bundle is for (UUID).
        sourceArchiveUrl:
          type: string
          title: source_archive_url
          description: URL to download the source archive (pre-signed or authenticated).
        valuesJson:
          type: string
          title: values_json
          description: JSON-encoded rendered values for the component.
        stateConfig:
          type:
            - string
            - "null"
          title: state_config
          description: Optional state backend configuration for Terraform jobs.
        environmentVariables:
          type: object
          title: environment_variables
          additionalProperties:
            type: string
            title: value
          description: Environment variables to inject into the job execution environment.
      title: JobBundle
      additionalProperties: false
      description: JobBundle contains all the information a runner needs to execute a job.
    admiral.runner.v1.JobBundle.EnvironmentVariablesEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: EnvironmentVariablesEntry
      additionalProperties: false
    admiral.runner.v1.JobStatus:
      type: string
      title: JobStatus
      enum:
        - JOB_STATUS_UNSPECIFIED
        - JOB_STATUS_PENDING
        - JOB_STATUS_CLAIMED
        - JOB_STATUS_RUNNING
        - JOB_STATUS_SUCCEEDED
        - JOB_STATUS_FAILED
        - JOB_STATUS_CANCELLED
      description: JobStatus represents the lifecycle state of a job.
    admiral.runner.v1.ListJobsRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `runner_id`, `deployment_id`, `status`, and `job_type`.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of jobs to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListJobsRequest
      additionalProperties: false
      description: ListJobsRequest contains pagination and filter parameters for listing jobs.
    admiral.runner.v1.ListJobsResponse:
      type: object
      properties:
        jobs:
          type: array
          items:
            $ref: '#/components/schemas/admiral.runner.v1.Job'
          title: jobs
          description: The list of jobs matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListJobsResponse
      additionalProperties: false
      description: ListJobsResponse contains a page of jobs.
    admiral.runner.v1.ListRunnersRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `runner_kind`, `health_status`, `name`, and label selectors.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of runners to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListRunnersRequest
      additionalProperties: false
      description: ListRunnersRequest contains pagination and filter parameters.
    admiral.runner.v1.ListRunnersResponse:
      type: object
      properties:
        runners:
          type: array
          items:
            $ref: '#/components/schemas/admiral.runner.v1.Runner'
          title: runners
          description: The list of runners matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListRunnersResponse
      additionalProperties: false
      description: ListRunnersResponse contains a page of runners.
    admiral.runner.v1.ReportJobResultRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The job being reported on (UUID).
        status:
          title: status
          enum:
            - JOB_STATUS_SUCCEEDED
            - JOB_STATUS_FAILED
          description: Final status of the job execution.
          $ref: '#/components/schemas/admiral.runner.v1.JobStatus'
        output:
          type: string
          title: output
          description: Output or error message from the job execution.
      title: ReportJobResultRequest
      additionalProperties: false
      description: ReportJobResultRequest reports the outcome of a job execution.
    admiral.runner.v1.ReportJobResultResponse:
      type: object
      title: ReportJobResultResponse
      additionalProperties: false
      description: ReportJobResultResponse acknowledges the job result report.
    admiral.runner.v1.Runner:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the runner (UUID).
        tenantId:
          type: string
          title: tenant_id
          format: uuid
          description: Tenant this runner belongs to (UUID).
        name:
          type: string
          title: name
          maxLength: 63
          minLength: 1
          pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
          description: |-
            URL-safe, human-readable identifier (e.g., "terraform-prod", "workflow-ci").
             Unique within the tenant. Lowercase alphanumeric and hyphens only, must
             start with a letter and end with an alphanumeric character (1-63 chars).
        description:
          type: string
          title: description
          maxLength: 1024
          description: Optional longer-form description of the runner's purpose.
        runnerKind:
          title: runner_kind
          description: The kind of operations this runner executes.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerKind'
        healthStatus:
          title: health_status
          description: Derived health status based on heartbeat recency.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerHealthStatus'
        labels:
          type: object
          title: labels
          additionalProperties:
            type: string
            title: value
          description: Arbitrary key-value labels for organizing and filtering runners.
        createdBy:
          type: string
          title: created_by
          description: User ID who created the runner.
        updatedBy:
          type: string
          title: updated_by
          description: User ID who last updated the runner.
        createdAt:
          title: created_at
          description: When the runner record was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: When the runner record was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: Runner
      additionalProperties: false
      description: |-
        Runner represents an IaC/workflow execution environment within a tenant.
         1 Runner = 1 controller = 1 agent record.
    admiral.runner.v1.Runner.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.runner.v1.RunnerHealthStatus:
      type: string
      title: RunnerHealthStatus
      enum:
        - RUNNER_HEALTH_STATUS_UNSPECIFIED
        - RUNNER_HEALTH_STATUS_PENDING
        - RUNNER_HEALTH_STATUS_HEALTHY
        - RUNNER_HEALTH_STATUS_UNREACHABLE
      description: RunnerHealthStatus represents the derived health state of a runner.
    admiral.runner.v1.RunnerKind:
      type: string
      title: RunnerKind
      enum:
        - RUNNER_KIND_UNSPECIFIED
        - RUNNER_KIND_TERRAFORM
        - RUNNER_KIND_WORKFLOW
      description: RunnerKind identifies what type of operations a runner can execute.
    admiral.runner.v1.RunnerStatus:
      type: object
      properties:
        runnerKind:
          title: runner_kind
          description: The kind of operations this runner executes.
          $ref: '#/components/schemas/admiral.runner.v1.RunnerKind'
        version:
          type: string
          title: version
          description: Runner agent version string.
        os:
          type: string
          title: os
          description: Operating system (e.g., "linux", "darwin").
        arch:
          type: string
          title: arch
          description: CPU architecture (e.g., "amd64", "arm64").
        cpuCount:
          type: integer
          title: cpu_count
          format: int32
          description: Number of CPU cores available.
        memoryBytes:
          type:
            - integer
            - string
          title: memory_bytes
          format: int64
          description: Total memory available, in bytes.
        activeJobs:
          type: integer
          title: active_jobs
          format: int32
          description: Number of jobs currently executing.
        maxJobs:
          type: integer
          title: max_jobs
          format: int32
          description: Maximum concurrent jobs the runner can handle.
        lastHeartbeatAt:
          title: last_heartbeat_at
          description: When the last heartbeat was received.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: RunnerStatus
      additionalProperties: false
      description: |-
        RunnerStatus contains the runtime status snapshot for a runner, as reported
         by the runner's heartbeat.
    admiral.runner.v1.UpdateRunnerRequest:
      type: object
      properties:
        runner:
          title: runner
          description: |-
            The runner with updated fields. The runner's id field is required to
             identify which runner to update.
          $ref: '#/components/schemas/admiral.runner.v1.Runner'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `description`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateRunnerRequest
      required:
        - runner
      additionalProperties: false
      description: UpdateRunnerRequest contains the runner with updated fields.
    admiral.runner.v1.UpdateRunnerResponse:
      type: object
      properties:
        runner:
          title: runner
          description: The updated runner with all fields reflecting the current state.
          $ref: '#/components/schemas/admiral.runner.v1.Runner'
      title: UpdateRunnerResponse
      additionalProperties: false
      description: UpdateRunnerResponse contains the updated runner.
    admiral.source.v1.ArchiveConfig:
      type: object
      properties:
        url:
          type: string
          title: url
          description: URL to the archive (tar.gz, zip).
      title: ArchiveConfig
      additionalProperties: false
      description: ArchiveConfig contains settings for a downloadable archive source.
    admiral.source.v1.CreateSourceRequest:
      type: object
      allOf:
        - properties:
            name:
              type: string
              title: name
              maxLength: 63
              minLength: 1
              pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
              description: |-
                URL-safe, human-readable identifier (e.g., "vpc-module"). Must be unique
                 within the tenant. Lowercase alphanumeric and hyphens only.
            description:
              type:
                - string
                - "null"
              title: description
              maxLength: 1024
              description: Optional longer-form description of the source's purpose.
            sourceType:
              title: source_type
              description: The type of artifact this source points to.
              $ref: '#/components/schemas/admiral.source.v1.SourceType'
            connectionId:
              type:
                - string
                - "null"
              title: connection_id
              format: uuid
              description: |-
                The connection providing credentials for this source (UUID). Omit for
                 public sources that require no authentication.
            catalog:
              type: boolean
              title: catalog
              description: Whether this source is a curated catalog entry.
            labels:
              type: object
              title: labels
              additionalProperties:
                type: string
                title: value
              description: Arbitrary key-value labels for organizing and filtering sources.
            createdBy:
              type: string
              title: created_by
              description: User ID who is creating the source.
        - oneOf:
            - properties:
                archive:
                  title: archive
                  description: Downloadable archive.
                  $ref: '#/components/schemas/admiral.source.v1.ArchiveConfig'
              title: archive
              required:
                - archive
            - properties:
                helmGit:
                  title: helm_git
                  description: Helm chart from a Git repository.
                  $ref: '#/components/schemas/admiral.source.v1.HelmGitConfig'
              title: helm_git
              required:
                - helmGit
            - properties:
                helmOci:
                  title: helm_oci
                  description: Helm chart from an OCI registry.
                  $ref: '#/components/schemas/admiral.source.v1.HelmOCIConfig'
              title: helm_oci
              required:
                - helmOci
            - properties:
                helmRepository:
                  title: helm_repository
                  description: Helm chart from an HTTP(S) repository.
                  $ref: '#/components/schemas/admiral.source.v1.HelmRepositoryConfig'
              title: helm_repository
              required:
                - helmRepository
            - properties:
                kustomizeGit:
                  title: kustomize_git
                  description: Kustomize overlay from a Git repository.
                  $ref: '#/components/schemas/admiral.source.v1.KustomizeGitConfig'
              title: kustomize_git
              required:
                - kustomizeGit
            - properties:
                manifestGit:
                  title: manifest_git
                  description: Raw Kubernetes manifests from a Git repository.
                  $ref: '#/components/schemas/admiral.source.v1.ManifestGitConfig'
              title: manifest_git
              required:
                - manifestGit
            - properties:
                terraformGit:
                  title: terraform_git
                  description: Terraform module in a Git repository.
                  $ref: '#/components/schemas/admiral.source.v1.TerraformGitConfig'
              title: terraform_git
              required:
                - terraformGit
            - properties:
                terraformRegistry:
                  title: terraform_registry
                  description: Terraform registry module.
                  $ref: '#/components/schemas/admiral.source.v1.TerraformRegistryConfig'
              title: terraform_registry
              required:
                - terraformRegistry
      title: CreateSourceRequest
      additionalProperties: false
      description: CreateSourceRequest contains the parameters for creating a new source.
    admiral.source.v1.CreateSourceRequest.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.source.v1.CreateSourceResponse:
      type: object
      properties:
        source:
          title: source
          description: The created source.
          $ref: '#/components/schemas/admiral.source.v1.Source'
      title: CreateSourceResponse
      additionalProperties: false
      description: CreateSourceResponse contains the newly created source.
    admiral.source.v1.DeleteSourceRequest:
      type: object
      properties:
        sourceId:
          type: string
          title: source_id
          format: uuid
          description: The unique identifier of the source to delete (UUID).
      title: DeleteSourceRequest
      additionalProperties: false
      description: |-
        DeleteSourceRequest identifies a source to delete.
         Deletion fails if any application components still reference this source.
    admiral.source.v1.DeleteSourceResponse:
      type: object
      title: DeleteSourceResponse
      additionalProperties: false
      description: DeleteSourceResponse is returned when the source has been successfully deleted.
    admiral.source.v1.GetSourceInputsRequest:
      type: object
      properties:
        sourceId:
          type: string
          title: source_id
          format: uuid
          description: The unique identifier of the source (UUID).
        version:
          type: string
          title: version
          minLength: 1
          description: The version to fetch and parse (e.g., "1.2.3", "v2.0.0", commit SHA).
      title: GetSourceInputsRequest
      additionalProperties: false
      description: GetSourceInputsRequest identifies a source and version to parse inputs from.
    admiral.source.v1.GetSourceInputsResponse:
      type: object
      properties:
        inputs:
          type: array
          items:
            $ref: '#/components/schemas/admiral.source.v1.SourceInput'
          title: inputs
          description: The parsed input parameters.
      title: GetSourceInputsResponse
      additionalProperties: false
      description: GetSourceInputsResponse contains the parsed inputs for a source version.
    admiral.source.v1.GetSourceOutputsRequest:
      type: object
      properties:
        sourceId:
          type: string
          title: source_id
          format: uuid
          description: The unique identifier of the source (UUID).
        version:
          type: string
          title: version
          minLength: 1
          description: The version to fetch and parse (e.g., "1.2.3", "v2.0.0", commit SHA).
      title: GetSourceOutputsRequest
      additionalProperties: false
      description: GetSourceOutputsRequest identifies a source and version to parse outputs from.
    admiral.source.v1.GetSourceOutputsResponse:
      type: object
      properties:
        outputs:
          type: array
          items:
            $ref: '#/components/schemas/admiral.source.v1.SourceOutput'
          title: outputs
          description: The parsed output definitions.
      title: GetSourceOutputsResponse
      additionalProperties: false
      description: |-
        GetSourceOutputsResponse contains the parsed outputs for a source version.
         Only populated for Terraform sources — workload sources have no formal outputs.
    admiral.source.v1.GetSourceRequest:
      type: object
      properties:
        sourceId:
          type: string
          title: source_id
          format: uuid
          description: The unique identifier of the source (UUID).
      title: GetSourceRequest
      additionalProperties: false
      description: GetSourceRequest identifies a source to retrieve.
    admiral.source.v1.GetSourceResponse:
      type: object
      properties:
        source:
          title: source
          description: The source record.
          $ref: '#/components/schemas/admiral.source.v1.Source'
      title: GetSourceResponse
      additionalProperties: false
      description: GetSourceResponse contains the requested source.
    admiral.source.v1.HelmGitConfig:
      type: object
      properties:
        repoUrl:
          type: string
          title: repo_url
          description: Git repository URL.
        path:
          type: string
          title: path
          description: Path to the chart within the repository.
        ref:
          type: string
          title: ref
          description: Git ref (branch, tag, or commit SHA). Defaults to the repository's default branch.
      title: HelmGitConfig
      additionalProperties: false
      description: HelmGitConfig contains settings for a Helm chart in a Git repository.
    admiral.source.v1.HelmOCIConfig:
      type: object
      properties:
        registryUrl:
          type: string
          title: registry_url
          description: OCI registry URL (e.g., "oci://ghcr.io/org").
        chartName:
          type: string
          title: chart_name
          description: Chart name within the registry.
      title: HelmOCIConfig
      additionalProperties: false
      description: HelmOCIConfig contains settings for a Helm chart in an OCI registry.
    admiral.source.v1.HelmRepositoryConfig:
      type: object
      properties:
        repoUrl:
          type: string
          title: repo_url
          description: Helm chart repository URL.
        chartName:
          type: string
          title: chart_name
          description: Chart name within the repository.
      title: HelmRepositoryConfig
      additionalProperties: false
      description: HelmRepositoryConfig contains settings for a Helm chart in an HTTP(S) repository.
    admiral.source.v1.KustomizeGitConfig:
      type: object
      properties:
        repoUrl:
          type: string
          title: repo_url
          description: Git repository URL.
        path:
          type: string
          title: path
          description: Path to the kustomization directory within the repository.
        ref:
          type: string
          title: ref
          description: Git ref (branch, tag, or commit SHA). Defaults to the repository's default branch.
      title: KustomizeGitConfig
      additionalProperties: false
      description: KustomizeGitConfig contains settings for a Kustomize overlay in a Git repository.
    admiral.source.v1.ListSourceVersionsRequest:
      type: object
      properties:
        sourceId:
          type: string
          title: source_id
          format: uuid
          description: The unique identifier of the source (UUID).
      title: ListSourceVersionsRequest
      additionalProperties: false
      description: ListSourceVersionsRequest identifies a source whose available versions to list.
    admiral.source.v1.ListSourceVersionsResponse:
      type: object
      properties:
        versions:
          type: array
          items:
            type: string
          title: versions
          description: Available versions from the external system (e.g., semver tags, commit SHAs).
      title: ListSourceVersionsResponse
      additionalProperties: false
      description: ListSourceVersionsResponse contains the available versions for a source.
    admiral.source.v1.ListSourcesRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: |-
            Filter expression using the PEG filter DSL. Supported fields include
             `tenant_id`, `source_type`, `catalog`, `name`, and label selectors.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of sources to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListSourcesRequest
      additionalProperties: false
      description: ListSourcesRequest contains pagination and filter parameters.
    admiral.source.v1.ListSourcesResponse:
      type: object
      properties:
        sources:
          type: array
          items:
            $ref: '#/components/schemas/admiral.source.v1.Source'
          title: sources
          description: The list of sources matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListSourcesResponse
      additionalProperties: false
      description: ListSourcesResponse contains a page of sources.
    admiral.source.v1.ManifestGitConfig:
      type: object
      properties:
        repoUrl:
          type: string
          title: repo_url
          description: Git repository URL.
        path:
          type: string
          title: path
          description: Path to the manifests directory within the repository.
        ref:
          type: string
          title: ref
          description: Git ref (branch, tag, or commit SHA). Defaults to the repository's default branch.
      title: ManifestGitConfig
      additionalProperties: false
      description: ManifestGitConfig contains settings for raw Kubernetes manifests in a Git repository.
    admiral.source.v1.Source:
      type: object
      allOf:
        - properties:
            id:
              type: string
              title: id
              format: uuid
              description: Unique identifier for the source (UUID).
            name:
              type: string
              title: name
              maxLength: 63
              minLength: 1
              pattern: ^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$
              description: |-
                URL-safe, human-readable identifier (e.g., "vpc-module", "nginx-chart").
                 Unique within the tenant. Lowercase alphanumeric and hyphens only, must
                 start with a letter and end with an alphanumeric character (1-63 chars).
            description:
              type: string
              title: description
              maxLength: 1024
              description: Optional longer-form description of the source's purpose.
            sourceType:
              title: source_type
              description: The type of artifact this source points to.
              $ref: '#/components/schemas/admiral.source.v1.SourceType'
            connectionId:
              type:
                - string
                - "null"
              title: connection_id
              format: uuid
              description: |-
                The connection providing credentials for this source (UUID). Null for
                 public sources that require no authentication.
            catalog:
              type: boolean
              title: catalog
              description: |-
                Whether this source is a curated catalog entry. Platform engineers mark
                 sources as catalog entries for developer self-service consumption.
            labels:
              type: object
              title: labels
              additionalProperties:
                type: string
                title: value
              description: Arbitrary key-value labels for organizing and filtering sources.
            createdBy:
              type: string
              title: created_by
              description: User ID who created the source.
            updatedBy:
              type: string
              title: updated_by
              description: User ID who last updated the source.
            createdAt:
              title: created_at
              description: When the source was created.
              $ref: '#/components/schemas/google.protobuf.Timestamp'
            updatedAt:
              title: updated_at
              description: When the source was last updated.
              $ref: '#/components/schemas/google.protobuf.Timestamp'
        - oneOf:
            - properties:
                archive:
                  title: archive
                  description: Downloadable archive.
                  $ref: '#/components/schemas/admiral.source.v1.ArchiveConfig'
              title: archive
              required:
                - archive
            - properties:
                helmGit:
                  title: helm_git
                  description: Helm chart from a Git repository.
                  $ref: '#/components/schemas/admiral.source.v1.HelmGitConfig'
              title: helm_git
              required:
                - helmGit
            - properties:
                helmOci:
                  title: helm_oci
                  description: Helm chart from an OCI registry.
                  $ref: '#/components/schemas/admiral.source.v1.HelmOCIConfig'
              title: helm_oci
              required:
                - helmOci
            - properties:
                helmRepository:
                  title: helm_repository
                  description: Helm chart from an HTTP(S) repository.
                  $ref: '#/components/schemas/admiral.source.v1.HelmRepositoryConfig'
              title: helm_repository
              required:
                - helmRepository
            - properties:
                kustomizeGit:
                  title: kustomize_git
                  description: Kustomize overlay from a Git repository.
                  $ref: '#/components/schemas/admiral.source.v1.KustomizeGitConfig'
              title: kustomize_git
              required:
                - kustomizeGit
            - properties:
                manifestGit:
                  title: manifest_git
                  description: Raw Kubernetes manifests from a Git repository.
                  $ref: '#/components/schemas/admiral.source.v1.ManifestGitConfig'
              title: manifest_git
              required:
                - manifestGit
            - properties:
                terraformGit:
                  title: terraform_git
                  description: Terraform module in a Git repository.
                  $ref: '#/components/schemas/admiral.source.v1.TerraformGitConfig'
              title: terraform_git
              required:
                - terraformGit
            - properties:
                terraformRegistry:
                  title: terraform_registry
                  description: Terraform registry module.
                  $ref: '#/components/schemas/admiral.source.v1.TerraformRegistryConfig'
              title: terraform_registry
              required:
                - terraformRegistry
      title: Source
      additionalProperties: false
      description: |-
        Source represents a tenant-scoped artifact definition pointing to an external
         module, chart, manifest set, or archive. Sources are referenced by components
         to define what gets deployed.
    admiral.source.v1.Source.LabelsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: LabelsEntry
      additionalProperties: false
    admiral.source.v1.SourceInput:
      type: object
      properties:
        name:
          type: string
          title: name
          description: Input parameter name (e.g., "instance_type", "replicaCount").
        type:
          type: string
          title: type
          description: Input type (e.g., "string", "number", "bool", "list", "map").
        description:
          type: string
          title: description
          description: Human-readable description of the input.
        defaultValue:
          type: string
          title: default_value
          description: Default value as a JSON-encoded string. Empty if no default is defined.
        required:
          type: boolean
          title: required
          description: Whether this input is required (no default value).
        sensitive:
          type: boolean
          title: sensitive
          description: Whether this input contains sensitive data.
      title: SourceInput
      additionalProperties: false
      description: |-
        SourceInput describes a single input parameter for a source artifact.
         For Terraform: parsed from variable blocks via terraform-config-inspect.
         For Helm: parsed from values.yaml and values.schema.json.
    admiral.source.v1.SourceOutput:
      type: object
      properties:
        name:
          type: string
          title: name
          description: Output name (e.g., "cluster_endpoint", "database_url").
        type:
          type: string
          title: type
          description: Output type (e.g., "string", "list", "map").
        description:
          type: string
          title: description
          description: Human-readable description of the output.
        sensitive:
          type: boolean
          title: sensitive
          description: Whether this output contains sensitive data.
      title: SourceOutput
      additionalProperties: false
      description: |-
        SourceOutput describes a single output from a source artifact.
         Only applicable to Terraform sources — Helm/Kustomize have no formal outputs.
    admiral.source.v1.SourceType:
      type: string
      title: SourceType
      enum:
        - SOURCE_TYPE_UNSPECIFIED
        - SOURCE_TYPE_TERRAFORM_REGISTRY
        - SOURCE_TYPE_TERRAFORM_GIT
        - SOURCE_TYPE_HELM_REPOSITORY
        - SOURCE_TYPE_HELM_OCI
        - SOURCE_TYPE_HELM_GIT
        - SOURCE_TYPE_KUSTOMIZE_GIT
        - SOURCE_TYPE_MANIFEST_GIT
        - SOURCE_TYPE_ARCHIVE
      description: SourceType identifies the kind of artifact a source points to.
    admiral.source.v1.SyncSourceRequest:
      type: object
      properties:
        sourceId:
          type: string
          title: source_id
          format: uuid
          description: The unique identifier of the source to sync (UUID).
      title: SyncSourceRequest
      additionalProperties: false
      description: SyncSourceRequest triggers a metadata refresh for a source.
    admiral.source.v1.SyncSourceResponse:
      type: object
      title: SyncSourceResponse
      additionalProperties: false
      description: SyncSourceResponse acknowledges the sync request.
    admiral.source.v1.TerraformGitConfig:
      type: object
      properties:
        repoUrl:
          type: string
          title: repo_url
          description: Git repository URL.
        path:
          type: string
          title: path
          description: Path to the module within the repository.
        ref:
          type: string
          title: ref
          description: Git ref (branch, tag, or commit SHA). Defaults to the repository's default branch.
      title: TerraformGitConfig
      additionalProperties: false
      description: TerraformGitConfig contains settings for a Terraform module in a Git repository.
    admiral.source.v1.TerraformRegistryConfig:
      type: object
      properties:
        namespace:
          type: string
          title: namespace
          description: Registry namespace (e.g., "hashicorp").
        moduleName:
          type: string
          title: module_name
          description: Module name (e.g., "consul").
        system:
          type: string
          title: system
          description: Target system (e.g., "aws", "azurerm", "google").
      title: TerraformRegistryConfig
      additionalProperties: false
      description: TerraformRegistryConfig contains settings for a Terraform registry source.
    admiral.source.v1.UpdateSourceRequest:
      type: object
      properties:
        source:
          title: source
          description: |-
            The source with updated fields. The source's id field is required to
             identify which source to update.
          $ref: '#/components/schemas/admiral.source.v1.Source'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `name`, `description`, `source_type`, `source_config`,
             `connection_id`, `catalog`, `labels`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateSourceRequest
      required:
        - source
      additionalProperties: false
      description: UpdateSourceRequest contains the source with updated fields.
    admiral.source.v1.UpdateSourceResponse:
      type: object
      properties:
        source:
          title: source
          description: The updated source with all fields reflecting the current state.
          $ref: '#/components/schemas/admiral.source.v1.Source'
      title: UpdateSourceResponse
      additionalProperties: false
      description: UpdateSourceResponse contains the updated source.
    admiral.state.v1.DeleteStateRequest:
      type: object
      properties:
        stateId:
          type: string
          title: state_id
          format: uuid
          description: The unique identifier of the state to delete (UUID).
      title: DeleteStateRequest
      additionalProperties: false
      description: |-
        DeleteStateRequest permanently deletes a state and all its versions. This is
         a privileged operation — requires `state:admin` scope.
    admiral.state.v1.DeleteStateResponse:
      type: object
      title: DeleteStateResponse
      additionalProperties: false
      description: DeleteStateResponse is returned when the state has been successfully deleted.
    admiral.state.v1.ForceUnlockStateRequest:
      type: object
      properties:
        stateId:
          type: string
          title: state_id
          format: uuid
          description: The state to force-unlock (UUID).
      title: ForceUnlockStateRequest
      additionalProperties: false
      description: |-
        ForceUnlockStateRequest forcibly releases a lock on a state. This is a
         privileged operation for operational recovery — requires `state:admin` scope.
    admiral.state.v1.ForceUnlockStateResponse:
      type: object
      properties:
        state:
          title: state
          description: The state with lock information cleared.
          $ref: '#/components/schemas/admiral.state.v1.State'
      title: ForceUnlockStateResponse
      additionalProperties: false
      description: ForceUnlockStateResponse contains the state with lock cleared.
    admiral.state.v1.GetCurrentStateRequest:
      type: object
      properties:
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component whose state to retrieve (UUID).
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The environment whose state to retrieve (UUID).
      title: GetCurrentStateRequest
      additionalProperties: false
      description: |-
        GetCurrentStateRequest retrieves the current state metadata for a
         component+environment pair.
    admiral.state.v1.GetCurrentStateResponse:
      type: object
      properties:
        state:
          title: state
          description: The state record.
          $ref: '#/components/schemas/admiral.state.v1.State'
      title: GetCurrentStateResponse
      additionalProperties: false
      description: GetCurrentStateResponse contains the state metadata.
    admiral.state.v1.GetStateRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The job whose component+environment state to retrieve (UUID).
      title: GetStateRequest
      additionalProperties: false
      description: |-
        GetStateRequest retrieves the current state data for the component+environment
         pair associated with the given job.
    admiral.state.v1.GetStateResponse:
      type: object
      properties:
        state:
          title: state
          description: The state metadata.
          $ref: '#/components/schemas/admiral.state.v1.State'
        data:
          type: string
          title: data
          format: byte
          description: The raw state data (JSON-encoded Terraform state).
      title: GetStateResponse
      additionalProperties: false
      description: GetStateResponse contains the current state data.
    admiral.state.v1.GetStateVersionRequest:
      type: object
      properties:
        stateId:
          type: string
          title: state_id
          format: uuid
          description: The state the version belongs to (UUID).
        versionId:
          type: string
          title: version_id
          format: uuid
          description: The unique identifier of the version (UUID).
      title: GetStateVersionRequest
      additionalProperties: false
      description: GetStateVersionRequest identifies a specific state version.
    admiral.state.v1.GetStateVersionResponse:
      type: object
      properties:
        version:
          title: version
          description: The state version metadata.
          $ref: '#/components/schemas/admiral.state.v1.StateVersion'
        data:
          type: string
          title: data
          format: byte
          description: The raw state data for this version (JSON-encoded Terraform state).
      title: GetStateVersionResponse
      additionalProperties: false
      description: GetStateVersionResponse contains the requested state version.
    admiral.state.v1.ListStateVersionsRequest:
      type: object
      properties:
        stateId:
          type: string
          title: state_id
          format: uuid
          description: The state whose versions to list (UUID).
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of versions to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListStateVersionsRequest
      additionalProperties: false
      description: ListStateVersionsRequest lists versions for a specific state.
    admiral.state.v1.ListStateVersionsResponse:
      type: object
      properties:
        versions:
          type: array
          items:
            $ref: '#/components/schemas/admiral.state.v1.StateVersion'
          title: versions
          description: The list of state versions, ordered by version_number descending.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListStateVersionsResponse
      additionalProperties: false
      description: ListStateVersionsResponse contains a page of state versions.
    admiral.state.v1.ListStatesRequest:
      type: object
      properties:
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of states to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListStatesRequest
      additionalProperties: false
      description: ListStatesRequest contains pagination and filter parameters.
    admiral.state.v1.ListStatesResponse:
      type: object
      properties:
        states:
          type: array
          items:
            $ref: '#/components/schemas/admiral.state.v1.State'
          title: states
          description: The list of states matching the filter.
        nextPageToken:
          type: string
          title: next_page_token
          description: Token to retrieve the next page. Empty when there are no more results.
      title: ListStatesResponse
      additionalProperties: false
      description: ListStatesResponse contains a page of states.
    admiral.state.v1.LockStateRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The job whose component+environment state to lock (UUID).
        lockId:
          type: string
          title: lock_id
          minLength: 1
          description: |-
            A unique lock ID chosen by the caller (e.g., UUID). Returned in the
             response and required for subsequent PushState and UnlockState calls.
      title: LockStateRequest
      additionalProperties: false
      description: LockStateRequest acquires a lock on a state.
    admiral.state.v1.LockStateResponse:
      type: object
      properties:
        state:
          title: state
          description: The state with lock information set.
          $ref: '#/components/schemas/admiral.state.v1.State'
      title: LockStateResponse
      additionalProperties: false
      description: LockStateResponse acknowledges the lock acquisition.
    admiral.state.v1.PushStateRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The job whose component+environment state to update (UUID).
        lockId:
          type: string
          title: lock_id
          minLength: 1
          description: |-
            The lock ID that must match the current lock. Required to prevent
             concurrent writes.
        data:
          type: string
          title: data
          format: byte
          description: The raw state data (JSON-encoded Terraform state).
      title: PushStateRequest
      additionalProperties: false
      description: PushStateRequest stores a new state version.
    admiral.state.v1.PushStateResponse:
      type: object
      properties:
        version:
          title: version
          description: The newly created state version.
          $ref: '#/components/schemas/admiral.state.v1.StateVersion'
      title: PushStateResponse
      additionalProperties: false
      description: PushStateResponse contains the metadata of the new state version.
    admiral.state.v1.State:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the state (UUID).
        componentId:
          type: string
          title: component_id
          format: uuid
          description: The component this state is for (UUID).
        environmentId:
          type: string
          title: environment_id
          format: uuid
          description: The environment this state is for (UUID).
        lockId:
          type:
            - string
            - "null"
          title: lock_id
          description: Current lock ID if the state is locked. Absent if unlocked.
        lockedBy:
          type:
            - string
            - "null"
          title: locked_by
          description: Entity holding the lock (e.g., runner ID or job ID). Absent if unlocked.
        lockedAt:
          oneOf:
            - $ref: '#/components/schemas/google.protobuf.Timestamp'
            - type: "null"
          title: locked_at
          description: When the lock was acquired. Absent if unlocked.
        createdAt:
          title: created_at
          description: When the state record was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: When the state record was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: State
      additionalProperties: false
      description: |-
        State represents the Terraform state record for a component+environment pair.
         Each state tracks the current lock status and references its version history.
    admiral.state.v1.StateVersion:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the state version (UUID).
        stateId:
          type: string
          title: state_id
          format: uuid
          description: The state this version belongs to (UUID).
        versionNumber:
          type:
            - integer
            - string
          title: version_number
          format: int64
          description: Monotonically increasing version number within the state.
        sizeBytes:
          type:
            - integer
            - string
          title: size_bytes
          format: int64
          description: Size of the state data in bytes.
        checksum:
          type: string
          title: checksum
          description: Checksum of the state data (e.g., SHA-256).
        createdBy:
          type: string
          title: created_by
          description: Entity that created this version (e.g., runner ID or job ID).
        createdAt:
          title: created_at
          description: When this version was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: StateVersion
      additionalProperties: false
      description: StateVersion represents a single version of a Terraform state file.
    admiral.state.v1.UnlockStateRequest:
      type: object
      properties:
        jobId:
          type: string
          title: job_id
          format: uuid
          description: The job whose component+environment state to unlock (UUID).
        lockId:
          type: string
          title: lock_id
          minLength: 1
          description: The lock ID to release. Must match the current lock.
      title: UnlockStateRequest
      additionalProperties: false
      description: UnlockStateRequest releases a lock on a state.
    admiral.state.v1.UnlockStateResponse:
      type: object
      properties:
        state:
          title: state
          description: The state with lock information cleared.
          $ref: '#/components/schemas/admiral.state.v1.State'
      title: UnlockStateResponse
      additionalProperties: false
      description: UnlockStateResponse acknowledges the lock release.
    admiral.variable.v1.CreateVariableRequest:
      type: object
      properties:
        key:
          type: string
          title: key
          maxLength: 255
          minLength: 1
          pattern: ^[A-Za-z_][A-Za-z0-9_]{0,254}$
          description: |-
            The variable name. Must be a valid environment variable identifier
             (e.g., "DATABASE_URL", "API_KEY").
        value:
          type: string
          title: value
          minLength: 1
          description: The variable value.
        sensitive:
          type: boolean
          title: sensitive
          description: |-
            Whether the variable value should be encrypted at rest and masked in
             API responses.
        applicationId:
          type:
            - string
            - "null"
          title: application_id
          format: uuid
          description: |-
            The application to scope this variable to (UUID). When set without
             environment_id, the variable applies to all environments in the app.
        environmentId:
          type:
            - string
            - "null"
          title: environment_id
          format: uuid
          description: |-
            The environment to scope this variable to (UUID). Requires application_id.
             When set, the variable applies only to this specific environment.
      title: CreateVariableRequest
      additionalProperties: false
      description: |-
        CreateVariableRequest contains the parameters for creating a new variable.
         The variable's scope is derived from the presence of application_id and
         environment_id: neither means global, application_id only means app-scoped,
         both means environment-scoped.
    admiral.variable.v1.CreateVariableResponse:
      type: object
      properties:
        variable:
          title: variable
          description: The created variable.
          $ref: '#/components/schemas/admiral.variable.v1.Variable'
      title: CreateVariableResponse
      additionalProperties: false
      description: CreateVariableResponse contains the newly created variable.
    admiral.variable.v1.DeleteVariableRequest:
      type: object
      properties:
        variableId:
          type: string
          title: variable_id
          format: uuid
          description: The unique identifier of the variable to delete (UUID).
      title: DeleteVariableRequest
      additionalProperties: false
      description: DeleteVariableRequest identifies a variable to delete.
    admiral.variable.v1.DeleteVariableResponse:
      type: object
      title: DeleteVariableResponse
      additionalProperties: false
      description: DeleteVariableResponse is returned when the variable has been successfully deleted.
    admiral.variable.v1.GetVariableRequest:
      type: object
      properties:
        variableId:
          type: string
          title: variable_id
          format: uuid
          description: The unique identifier of the variable (UUID).
      title: GetVariableRequest
      additionalProperties: false
      description: GetVariableRequest identifies a variable to retrieve.
    admiral.variable.v1.GetVariableResponse:
      type: object
      properties:
        variable:
          title: variable
          description: The variable record. Sensitive variable values are masked.
          $ref: '#/components/schemas/admiral.variable.v1.Variable'
      title: GetVariableResponse
      additionalProperties: false
      description: GetVariableResponse contains the variable record.
    admiral.variable.v1.ListVariablesRequest:
      type: object
      properties:
        applicationId:
          type:
            - string
            - "null"
          title: application_id
          format: uuid
          description: |-
            Filter to an application (UUID). When set, app-level variables for this
             application are included in the merged result alongside global variables.
        environmentId:
          type:
            - string
            - "null"
          title: environment_id
          format: uuid
          description: |-
            Filter to an environment (UUID). Requires application_id. When set,
             environment-level variables are included alongside global and app variables.
        filter:
          type: string
          title: filter
          description: Filter expression using the PEG filter DSL.
        pageSize:
          type: integer
          title: page_size
          format: int32
          description: Maximum number of variables to return per page.
        pageToken:
          type:
            - string
            - "null"
          title: page_token
          description: Opaque pagination token from a previous response.
      title: ListVariablesRequest
      additionalProperties: false
      description: |-
        ListVariablesRequest contains filters and pagination parameters.

         The filters determine which variables are included in the merged view:
           - No application_id or environment_id: global variables only.
           - application_id only: global + app-level variables merged.
           - application_id + environment_id: global + app + environment variables merged.
    admiral.variable.v1.ListVariablesResponse:
      type: object
      properties:
        variables:
          type: array
          items:
            $ref: '#/components/schemas/admiral.variable.v1.Variable'
          title: variables
          description: The list of variables from all applicable levels.
        nextPageToken:
          type: string
          title: next_page_token
          description: Pagination token for the next page. Empty when there are no more results.
      title: ListVariablesResponse
      additionalProperties: false
      description: ListVariablesResponse contains a page of variables.
    admiral.variable.v1.UpdateVariableRequest:
      type: object
      properties:
        variable:
          title: variable
          description: |-
            The variable with updated fields. The `id` field is required.
             Only fields specified in `update_mask` are updated.
          $ref: '#/components/schemas/admiral.variable.v1.Variable'
        updateMask:
          title: update_mask
          description: |-
            The set of fields to update. If unset, all mutable fields are updated.
             Supported fields: `value`, `sensitive`.
          $ref: '#/components/schemas/google.protobuf.FieldMask'
      title: UpdateVariableRequest
      required:
        - variable
      additionalProperties: false
      description: UpdateVariableRequest contains the variable fields to update.
    admiral.variable.v1.UpdateVariableResponse:
      type: object
      properties:
        variable:
          title: variable
          description: The updated variable.
          $ref: '#/components/schemas/admiral.variable.v1.Variable'
      title: UpdateVariableResponse
      additionalProperties: false
      description: UpdateVariableResponse contains the updated variable.
    admiral.variable.v1.Variable:
      type: object
      properties:
        id:
          type: string
          title: id
          format: uuid
          description: Unique identifier for the variable (UUID).
        key:
          type: string
          title: key
          maxLength: 255
          minLength: 1
          pattern: ^[A-Za-z_][A-Za-z0-9_]{0,254}$
          description: |-
            The variable name. Must be a valid environment variable identifier
             (e.g., "DATABASE_URL", "API_KEY"). Uppercase alphanumeric and underscores,
             must start with a letter or underscore (max 255 chars).
        value:
          type: string
          title: value
          description: The variable value. Masked or empty for sensitive variables in responses.
        sensitive:
          type: boolean
          title: sensitive
          description: Whether the variable value is encrypted at rest and masked in API responses.
        applicationId:
          type:
            - string
            - "null"
          title: application_id
          format: uuid
          description: |-
            The application this variable is scoped to (UUID). When set, the variable
             is scoped to this application. When both application_id and environment_id
             are set, the variable is scoped to that specific environment.
             Absent means the variable is global (tenant-wide).
        environmentId:
          type:
            - string
            - "null"
          title: environment_id
          format: uuid
          description: |-
            The environment this variable is scoped to (UUID). Requires application_id.
             When set alongside application_id, the variable applies only to this
             specific environment within the application.
        createdAt:
          title: created_at
          description: When the variable was created.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: When the variable was last updated.
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: Variable
      additionalProperties: false
      description: |-
        Variable represents a configuration key-value pair scoped to a tenant,
         application, or application+environment. Variables are resolved at deployment
         time into immutable deployment snapshots.
    google.protobuf.FieldMask:
      type: string
      description: |-
        `FieldMask` represents a set of symbolic field paths, for example:

             paths: "f.a"
             paths: "f.b.d"

         Here `f` represents a field in some root message, `a` and `b`
         fields in the message found in `f`, and `d` a field found in the
         message in `f.b`.

         Field masks are used to specify a subset of fields that should be
         returned by a get operation or modified by an update operation.
         Field masks also have a custom JSON encoding (see below).

         # Field Masks in Projections

         When used in the context of a projection, a response message or
         sub-message is filtered by the API to only contain those fields as
         specified in the mask. For example, if the mask in the previous
         example is applied to a response message as follows:

             f {
               a : 22
               b {
                 d : 1
                 x : 2
               }
               y : 13
             }
             z: 8

         The result will not contain specific values for fields x,y and z
         (their value will be set to the default, and omitted in proto text
         output):


             f {
               a : 22
               b {
                 d : 1
               }
             }

         A repeated field is not allowed except at the last position of a
         paths string.

         If a FieldMask object is not present in a get operation, the
         operation applies to all fields (as if a FieldMask of all fields
         had been specified).

         Note that a field mask does not necessarily apply to the
         top-level response message. In case of a REST get operation, the
         field mask applies directly to the response, but in case of a REST
         list operation, the mask instead applies to each individual message
         in the returned resource list. In case of a REST custom method,
         other definitions may be used. Where the mask applies will be
         clearly documented together with its declaration in the API.  In
         any case, the effect on the returned resource/resources is required
         behavior for APIs.

         # Field Masks in Update Operations

         A field mask in update operations specifies which fields of the
         targeted resource are going to be updated. The API is required
         to only change the values of the fields as specified in the mask
         and leave the others untouched. If a resource is passed in to
         describe the updated values, the API ignores the values of all
         fields not covered by the mask.

         If a repeated field is specified for an update operation, new values will
         be appended to the existing repeated field in the target resource. Note that
         a repeated field is only allowed in the last position of a `paths` string.

         If a sub-message is specified in the last position of the field mask for an
         update operation, then new value will be merged into the existing sub-message
         in the target resource.

         For example, given the target message:

             f {
               b {
                 d: 1
                 x: 2
               }
               c: [1]
             }

         And an update message:

             f {
               b {
                 d: 10
               }
               c: [2]
             }

         then if the field mask is:

          paths: ["f.b", "f.c"]

         then the result will be:

             f {
               b {
                 d: 10
                 x: 2
               }
               c: [1, 2]
             }

         An implementation may provide options to override this default behavior for
         repeated and message fields.

         In order to reset a field's value to the default, the field must
         be in the mask and set to the default value in the provided resource.
         Hence, in order to reset all fields of a resource, provide a default
         instance of the resource and set all fields in the mask, or do
         not provide a mask as described below.

         If a field mask is not present on update, the operation applies to
         all fields (as if a field mask of all fields has been specified).
         Note that in the presence of schema evolution, this may mean that
         fields the client does not know and has therefore not filled into
         the request will be reset to their default. If this is unwanted
         behavior, a specific service may require a client to always specify
         a field mask, producing an error if not.

         As with get operations, the location of the resource which
         describes the updated values in the request message depends on the
         operation kind. In any case, the effect of the field mask is
         required to be honored by the API.

         ## Considerations for HTTP REST

         The HTTP kind of an update operation which uses a field mask must
         be set to PATCH instead of PUT in order to satisfy HTTP semantics
         (PUT must only be used for full updates).

         # JSON Encoding of Field Masks

         In JSON, a field mask is encoded as a single string where paths are
         separated by a comma. Fields name in each path are converted
         to/from lower-camel naming conventions.

         As an example, consider the following message declarations:

             message Profile {
               User user = 1;
               Photo photo = 2;
             }
             message User {
               string display_name = 1;
               string address = 2;
             }

         In proto a field mask for `Profile` may look as such:

             mask {
               paths: "user.display_name"
               paths: "photo"
             }

         In JSON, the same mask is represented as below:

             {
               mask: "user.displayName,photo"
             }

         # Field Masks and Oneof Fields

         Field masks treat fields in oneofs just as regular fields. Consider the
         following message:

             message SampleMessage {
               oneof test_oneof {
                 string name = 4;
                 SubMessage sub_message = 9;
               }
             }

         The field mask can be:

             mask {
               paths: "name"
             }

         Or:

             mask {
               paths: "sub_message"
             }

         Note that oneof type names ("test_oneof" in this case) cannot be used in
         paths.

         ## Field Mask Verification

         The implementation of any API method which has a FieldMask type field in the
         request should verify the included field paths, and return an
         `INVALID_ARGUMENT` error if any path is unmappable.
    google.protobuf.Timestamp:
      type: string
      examples:
        - "2023-01-15T01:30:15.01Z"
        - "2024-12-25T12:00:00Z"
      format: date-time
      description: |-
        A Timestamp represents a point in time independent of any time zone or local
         calendar, encoded as a count of seconds and fractions of seconds at
         nanosecond resolution. The count is relative to an epoch at UTC midnight on
         January 1, 1970, in the proleptic Gregorian calendar which extends the
         Gregorian calendar backwards to year one.

         All minutes are 60 seconds long. Leap seconds are "smeared" so that no leap
         second table is needed for interpretation, using a [24-hour linear
         smear](https://developers.google.com/time/smear).

         The range is from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59.999999999Z. By
         restricting to that range, we ensure that we can convert to and from [RFC
         3339](https://www.ietf.org/rfc/rfc3339.txt) date strings.

         # Examples

         Example 1: Compute Timestamp from POSIX `time()`.

             Timestamp timestamp;
             timestamp.set_seconds(time(NULL));
             timestamp.set_nanos(0);

         Example 2: Compute Timestamp from POSIX `gettimeofday()`.

             struct timeval tv;
             gettimeofday(&tv, NULL);

             Timestamp timestamp;
             timestamp.set_seconds(tv.tv_sec);
             timestamp.set_nanos(tv.tv_usec * 1000);

         Example 3: Compute Timestamp from Win32 `GetSystemTimeAsFileTime()`.

             FILETIME ft;
             GetSystemTimeAsFileTime(&ft);
             UINT64 ticks = (((UINT64)ft.dwHighDateTime) << 32) | ft.dwLowDateTime;

             // A Windows tick is 100 nanoseconds. Windows epoch 1601-01-01T00:00:00Z
             // is 11644473600 seconds before Unix epoch 1970-01-01T00:00:00Z.
             Timestamp timestamp;
             timestamp.set_seconds((INT64) ((ticks / 10000000) - 11644473600LL));
             timestamp.set_nanos((INT32) ((ticks % 10000000) * 100));

         Example 4: Compute Timestamp from Java `System.currentTimeMillis()`.

             long millis = System.currentTimeMillis();

             Timestamp timestamp = Timestamp.newBuilder().setSeconds(millis / 1000)
                 .setNanos((int) ((millis % 1000) * 1000000)).build();

         Example 5: Compute Timestamp from Java `Instant.now()`.

             Instant now = Instant.now();

             Timestamp timestamp =
                 Timestamp.newBuilder().setSeconds(now.getEpochSecond())
                     .setNanos(now.getNano()).build();

         Example 6: Compute Timestamp from current time in Python.

             timestamp = Timestamp()
             timestamp.GetCurrentTime()

         # JSON Mapping

         In JSON format, the Timestamp type is encoded as a string in the
         [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt) format. That is, the
         format is "{year}-{month}-{day}T{hour}:{min}:{sec}[.{frac_sec}]Z"
         where {year} is always expressed using four digits while {month}, {day},
         {hour}, {min}, and {sec} are zero-padded to two digits each. The fractional
         seconds, which can go up to 9 digits (i.e. up to 1 nanosecond resolution),
         are optional. The "Z" suffix indicates the timezone ("UTC"); the timezone
         is required. A proto3 JSON serializer should always use UTC (as indicated by
         "Z") when printing the Timestamp type and a proto3 JSON parser should be
         able to accept both UTC and other timezones (as indicated by an offset).

         For example, "2017-01-15T01:30:15.01Z" encodes 15.01 seconds past
         01:30 UTC on January 15, 2017.

         In JavaScript, one can convert a Date object to this format using the
         standard
         [toISOString()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString)
         method. In Python, a standard `datetime.datetime` object can be converted
         to this format using
         [`strftime`](https://docs.python.org/2/library/time.html#time.strftime) with
         the time format spec '%Y-%m-%dT%H:%M:%S.%fZ'. Likewise, in Java, one can use
         the Joda Time's [`ISODateTimeFormat.dateTime()`](
         http://joda-time.sourceforge.net/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime()
         ) to obtain a formatter capable of generating timestamps in this format.
security: []
tags:
  - name: admiral.api.cluster.v1.ClusterAPI
    description: |-
      ClusterAPI manages Kubernetes clusters and their workload telemetry.

       Administrators create clusters via CreateCluster, which returns an Agent
       Token (AGT) for deploying the K8s agent. Once the agent boots and calls
       AgentAPI.RegisterAgent, the cluster transitions from PENDING to HEALTHY
       and begins receiving telemetry.

       The telemetry model has three tiers: current snapshot (upserted per push),
       time-series metrics (rolling 48-hour window), and events (rolling 7-day window).
  - name: admiral.api.runner.v1.RunnerAPI
    description: |-
      RunnerAPI manages runners, their job execution pipeline, and runner-facing
       heartbeat/claim operations.

       Runners are IaC/workflow execution environments. Each runner has a RunnerKind
       (TERRAFORM or WORKFLOW) and executes jobs dispatched by the deployment engine.
       1 Runner = 1 controller = 1 agent record.

       The service has three facets:
         - Admin CRUD: create, read, update, delete runners and view runner status.
           CreateRunner returns a plain_text_token (initial AGT).
         - Runner-facing: heartbeat, claim jobs, fetch job bundles, report results.
           These use AGT tokens.
         - Admin job visibility: list and get jobs for observability. ---------------------------------------------------------------------------
       Admin CRUD
       ---------------------------------------------------------------------------
  - name: admiral.api.user.v1.UserAPI
    description: |-
      UserAPI is a composition facade that aggregates RPCs from different internal
       services to provide a unified user-facing API. It combines identity UserAPI
       (for profile retrieval) and identity AccessTokenAPI (for PAT management) into
       a single external service scoped to the currently authenticated user.

       PATs allow users to authenticate with the Admiral API from scripts, CI
       pipelines, and other programmatic contexts. Each PAT has user-selected
       scopes and an optional expiration.
  - name: admiral.application.v1.ApplicationAPI
    description: |-
      ApplicationAPI manages the lifecycle of applications within a tenant.

       An application is the fundamental unit in Admiral. It groups deployment
       manifests, infrastructure dependencies, environment configuration, and
       relationships into a single entity that can be deployed across multiple
       environments. Applications are defined once and promoted explicitly between
       environments.
  - name: admiral.component.v1.ComponentAPI
    description: |-
      ComponentAPI manages the lifecycle of components within an application.

       Components are flat standalone resources that bind a source artifact to an
       application with version pinning, values configuration, dependency ordering,
       and per-environment overrides. The component category (infrastructure vs.
       workload) is derived from the source type.

       Override management allows environment-level customization of components.
       Overrides are full replace (no merge) — simpler and more predictable.
  - name: admiral.connection.v1.ConnectionAPI
    description: |-
      ConnectionAPI manages the lifecycle of connections within a tenant.

       Connections are tenant-scoped credentials for external systems (Git providers,
       Helm repositories, OCI registries, cloud providers, Terraform registries, and
       object storage). Sources reference connections for authentication when fetching
       artifacts.

       OIDC federation is recommended for cloud providers — Admiral acts as an OIDC
       issuer (https://oidc.admiral.io) with tenant_id in the JWT claim. Static cloud
       credentials are supported but deprecated.

       Sensitive credential fields are write-only — they are accepted on create and
       update but masked in GET/List responses.
  - name: admiral.deployment.v1.DeploymentAPI
    description: |-
      DeploymentAPI manages the lifecycle of deployments within a tenant.

       A deployment represents one act of deploying an application to an environment.
       Each deployment produces one revision per component in the application's
       dependency graph. Revisions are nested under deployments and are not
       standalone resources.

       Deployment concurrency follows a queue model: one active deployment per
       application+environment pair. New deployments receive QUEUED status and start
       automatically when the preceding deployment completes or is cancelled.
  - name: admiral.environment.v1.EnvironmentAPI
    description: |-
      EnvironmentAPI manages the lifecycle of environments within a tenant.

       An environment is a named deployment target (e.g., dev, staging, prod) that
       binds an application to a runtime where its workloads are deployed. Each
       environment carries its own configuration, credentials, and compute targets.
       Promotion between environments is explicit — Admiral never auto-promotes.
  - name: admiral.healthcheck.v1.HealthcheckAPI
    description: HealthcheckAPI provides health check operations for monitoring service availability.
  - name: admiral.source.v1.SourceAPI
    description: |-
      SourceAPI manages the lifecycle of sources within a tenant.

       Sources are tenant-scoped artifact definitions — pointers to external modules,
       charts, manifests, or archives. They reference a connection for credentials
       (optional for public sources) and can be marked as catalog entries for
       curated self-service consumption.

       Discovery RPCs (ListSourceVersions, GetSourceInputs, GetSourceOutputs) query
       the external system to help users explore available versions and parameters.
  - name: admiral.state.v1.StateAPI
    description: |-
      StateAPI manages Terraform state storage, locking, and versioning.

       The service has two facets:
         - Runner-facing: GetState, PushState, LockState, UnlockState — called by
           runner agents during Terraform operations via AGT tokens. The runner
           identifies the job context via the job_id path parameter.
         - Admin: GetCurrentState, ListStates, ListStateVersions, GetStateVersion,
           ForceUnlockState, DeleteState — called by platform engineers for
           observability and operational recovery. Privileged operations
           (ForceUnlockState, DeleteState) require `state:admin` scope. ---------------------------------------------------------------------------
       Runner-facing RPCs
       ---------------------------------------------------------------------------
  - name: admiral.variable.v1.VariableAPI
    description: |-
      VariableAPI manages the lifecycle of configuration variables within a tenant.

       Variables provide key-value configuration at three levels: global
       (tenant-wide), per application, or per application+environment. When listing
       variables for a specific application and environment, Admiral merges variables
       from all applicable levels, with narrower levels taking precedence.

       Sensitive variables have their values encrypted at rest and masked in API
       responses. The actual value is only resolved at deployment time into the
       immutable deployment snapshot.
